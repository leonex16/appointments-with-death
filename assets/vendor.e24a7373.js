var e={exports:{}},t={},n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var s=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var s,a,l=o(e),u=1;u<arguments.length;u++){for(var c in s=Object(arguments[u]))r.call(s,c)&&(l[c]=s[c]);if(n){a=n(s);for(var p=0;p<a.length;p++)i.call(s,a[p])&&(l[a[p]]=s[a[p]])}}return l},a=s,l=60103,u=60106;
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var c=60109,p=60110,h=60112;t.Suspense=60113;var d=60115,f=60116;if("function"==typeof Symbol&&Symbol.for){var m=Symbol.for;l=m("react.element"),u=m("react.portal"),t.Fragment=m("react.fragment"),t.StrictMode=m("react.strict_mode"),t.Profiler=m("react.profiler"),c=m("react.provider"),p=m("react.context"),h=m("react.forward_ref"),t.Suspense=m("react.suspense"),d=m("react.memo"),f=m("react.lazy")}var g="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function E(){}function k(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=w.prototype;var S=k.prototype=new E;S.constructor=k,a(S,w.prototype),S.isPureReactComponent=!0;var C={current:null},D=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)D.call(t,r)&&!x.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return{$$typeof:l,type:e,key:o,ref:s,props:i,_owner:C.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===l}var R=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var s=!1;if(null===e)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case l:case u:s=!0}}if(s)return i=i(s=e),e=""===r?"."+I(s,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(R,"$&/")+"/"),N(i,t,n,"",(function(e){return e}))):null!=i&&(O(i)&&(i=function(e,t){return{$$typeof:l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(R,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var a=0;a<e.length;a++){var c=r+I(o=e[a],a);s+=N(o,t,n,c,i)}else if("function"==typeof(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=g&&e[g]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),a=0;!(o=e.next()).done;)s+=N(o=o.value,t,n,c=r+I(o,a++),i);else if("object"===o)throw t=""+e,Error(v(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function M(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var L={current:null};function _(){var e=L.current;if(null===e)throw Error(v(321));return e}var A={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:a};t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!O(e))throw Error(v(143));return e}},t.Component=w,t.PureComponent=k,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null==e)throw Error(v(267,e));var r=a({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=C.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)D.call(t,c)&&!x.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){u=Array(c);for(var p=0;p<c;p++)u[p]=arguments[p+2];r.children=u}return{$$typeof:l,type:e.type,key:i,ref:o,props:r,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return _().useCallback(e,t)},t.useContext=function(e,t){return _().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return _().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return _().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return _().useLayoutEffect(e,t)},t.useMemo=function(e,t){return _().useMemo(e,t)},t.useReducer=function(e,t,n){return _().useReducer(e,t,n)},t.useRef=function(e){return _().useRef(e)},t.useState=function(e){return _().useState(e)},t.version="17.0.2",e.exports=t;var F=e.exports,z={exports:{}},U={},V={exports:{}},j={};
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){var t,n,r,i;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(n){throw setTimeout(c,0),n}};t=function(e){null!==l?setTimeout(t,0,e):(l=e,setTimeout(c,0))},n=function(e,t){u=setTimeout(e,t)},r=function(){clearTimeout(u)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var d=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof d&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var f=!1,m=null,g=-1,v=5,y=0;e.unstable_shouldYield=function(){return e.unstable_now()>=y},i=function(){},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var t=e.unstable_now();y=t+v;try{m(!0,t)?w.postMessage(null):(f=!1,m=null)}catch(n){throw w.postMessage(null),n}}else f=!1},t=function(e){m=e,f||(f=!0,w.postMessage(null))},n=function(t,n){g=p((function(){t(e.unstable_now())}),n)},r=function(){h(g),g=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,l=e[a];if(void 0!==s&&0>C(s,n))void 0!==l&&0>C(l,s)?(e[r]=l,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==l&&0>C(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var D=[],x=[],T=1,O=null,R=3,I=!1,N=!1,M=!1;function P(e){for(var t=k(x);null!==t;){if(null===t.callback)S(x);else{if(!(t.startTime<=e))break;S(x),t.sortIndex=t.expirationTime,E(D,t)}t=k(x)}}function L(e){if(M=!1,P(e),!N)if(null!==k(D))N=!0,t(_);else{var r=k(x);null!==r&&n(L,r.startTime-e)}}function _(t,i){N=!1,M&&(M=!1,r()),I=!0;var o=R;try{for(P(i),O=k(D);null!==O&&(!(O.expirationTime>i)||t&&!e.unstable_shouldYield());){var s=O.callback;if("function"==typeof s){O.callback=null,R=O.priorityLevel;var a=s(O.expirationTime<=i);i=e.unstable_now(),"function"==typeof a?O.callback=a:O===k(D)&&S(D),P(i)}else S(D);O=k(D)}if(null!==O)var l=!0;else{var u=k(x);null!==u&&n(L,u.startTime-i),l=!1}return l}finally{O=null,R=o,I=!1}}var A=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){N||I||(N=!0,t(_))},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return k(D)},e.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=A,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},e.unstable_scheduleCallback=function(i,o,s){var a=e.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?a+s:a:s=a,i){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return i={id:T++,callback:o,priorityLevel:i,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>a?(i.sortIndex=s,E(x,i),null===k(D)&&i===k(x)&&(M?r():M=!0,n(L,s-a))):(i.sortIndex=l,E(D,i),N||I||(N=!0,t(_))),i},e.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}}(j),V.exports=j;
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var B=e.exports,H=s,K=V.exports;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!B)throw Error(W(227));var q=new Set,G={};function $(e,t){Y(e,t),Y(e+"Capture",t)}function Y(e,t){for(G[e]=t,e=0;e<t.length;e++)q.add(t[e])}var X=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J=Object.prototype.hasOwnProperty,Z={},ee={};function te(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ne[e]=new te(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ne[t]=new te(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ne[e]=new te(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ne[e]=new te(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ne[e]=new te(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ne[e]=new te(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){ne[e]=new te(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){ne[e]=new te(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){ne[e]=new te(e,5,!1,e.toLowerCase(),null,!1,!1)}));var re=/[\-:]([a-z])/g;function ie(e){return e[1].toUpperCase()}function oe(e,t,n,r){var i=ne.hasOwnProperty(t)?ne[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!J.call(ee,e)||!J.call(Z,e)&&(Q.test(e)?ee[e]=!0:(Z[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){ne[e]=new te(e,1,!1,e.toLowerCase(),null,!1,!1)})),ne.xlinkHref=new te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){ne[e]=new te(e,1,!1,e.toLowerCase(),null,!0,!0)}));var se=B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ae=60103,le=60106,ue=60107,ce=60108,pe=60114,he=60109,de=60110,fe=60112,me=60113,ge=60120,ve=60115,ye=60116,be=60121,we=60128,Ee=60129,ke=60130,Se=60131;if("function"==typeof Symbol&&Symbol.for){var Ce=Symbol.for;ae=Ce("react.element"),le=Ce("react.portal"),ue=Ce("react.fragment"),ce=Ce("react.strict_mode"),pe=Ce("react.profiler"),he=Ce("react.provider"),de=Ce("react.context"),fe=Ce("react.forward_ref"),me=Ce("react.suspense"),ge=Ce("react.suspense_list"),ve=Ce("react.memo"),ye=Ce("react.lazy"),be=Ce("react.block"),Ce("react.scope"),we=Ce("react.opaque.id"),Ee=Ce("react.debug_trace_mode"),ke=Ce("react.offscreen"),Se=Ce("react.legacy_hidden")}var De,xe="function"==typeof Symbol&&Symbol.iterator;function Te(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=xe&&e[xe]||e["@@iterator"])?e:null}function Oe(e){if(void 0===De)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);De=t&&t[1]||""}return"\n"+De+e}var Re=!1;function Ie(e,t){if(!e||Re)return"";Re=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"==typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{Re=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Oe(e):""}function Ne(e){switch(e.tag){case 5:return Oe(e.type);case 16:return Oe("Lazy");case 13:return Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 2:case 15:return e=Ie(e.type,!1);case 11:return e=Ie(e.type.render,!1);case 22:return e=Ie(e.type._render,!1);case 1:return e=Ie(e.type,!0);default:return""}}function Me(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ue:return"Fragment";case le:return"Portal";case pe:return"Profiler";case ce:return"StrictMode";case me:return"Suspense";case ge:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case de:return(e.displayName||"Context")+".Consumer";case he:return(e._context.displayName||"Context")+".Provider";case fe:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ve:return Me(e.type);case be:return Me(e._render);case ye:t=e._payload,e=e._init;try{return Me(e(t))}catch(n){}}return null}function Pe(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Le(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function _e(e){e._valueTracker||(e._valueTracker=function(e){var t=Le(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ae(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Le(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Fe(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ze(e,t){var n=t.checked;return H({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ue(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Pe(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ve(e,t){null!=(t=t.checked)&&oe(e,"checked",t,!1)}function je(e,t){Ve(e,t);var n=Pe(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?He(e,t.type,n):t.hasOwnProperty("defaultValue")&&He(e,t.type,Pe(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Be(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function He(e,t,n){"number"===t&&Fe(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ke(e,t){return e=H({children:void 0},t),(t=function(e){var t="";return B.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function We(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Pe(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function qe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(W(91));return H({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ge(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(W(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(W(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Pe(n)}}function $e(e,t){var n=Pe(t.value),r=Pe(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ye(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Xe="http://www.w3.org/1999/xhtml",Qe="http://www.w3.org/2000/svg";function Je(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ze(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Je(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var et,tt,nt=(tt=function(e,t){if(e.namespaceURI!==Qe||"innerHTML"in e)e.innerHTML=t;else{for((et=et||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=et.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return tt(e,t)}))}:tt);function rt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var it={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ot=["Webkit","ms","Moz","O"];function st(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||it.hasOwnProperty(e)&&it[e]?(""+t).trim():t+"px"}function at(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=st(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(it).forEach((function(e){ot.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),it[t]=it[e]}))}));var lt=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ut(e,t){if(t){if(lt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(W(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(W(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(W(62))}}function ct(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ht=null,dt=null,ft=null;function mt(e){if(e=Ui(e)){if("function"!=typeof ht)throw Error(W(280));var t=e.stateNode;t&&(t=ji(t),ht(e.stateNode,e.type,t))}}function gt(e){dt?ft?ft.push(e):ft=[e]:dt=e}function vt(){if(dt){var e=dt,t=ft;if(ft=dt=null,mt(e),t)for(e=0;e<t.length;e++)mt(t[e])}}function yt(e,t){return e(t)}function bt(e,t,n,r,i){return e(t,n,r,i)}function wt(){}var Et=yt,kt=!1,St=!1;function Ct(){null===dt&&null===ft||(wt(),vt())}function Dt(e,t){var n=e.stateNode;if(null===n)return null;var r=ji(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(W(231,t,typeof n));return n}var xt=!1;if(X)try{var Tt={};Object.defineProperty(Tt,"passive",{get:function(){xt=!0}}),window.addEventListener("test",Tt,Tt),window.removeEventListener("test",Tt,Tt)}catch(tt){xt=!1}function Ot(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Rt=!1,It=null,Nt=!1,Mt=null,Pt={onError:function(e){Rt=!0,It=e}};function Lt(e,t,n,r,i,o,s,a,l){Rt=!1,It=null,Ot.apply(Pt,arguments)}function _t(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function At(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ft(e){if(_t(e)!==e)throw Error(W(188))}function zt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=_t(e)))throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ft(i),e;if(o===r)return Ft(i),t;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(3!==n.tag)throw Error(W(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ut(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var Vt,jt,Bt,Ht,Kt=!1,Wt=[],qt=null,Gt=null,$t=null,Yt=new Map,Xt=new Map,Qt=[],Jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function en(e,t){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":$t=null;break;case"pointerover":case"pointerout":Yt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xt.delete(t.pointerId)}}function tn(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Zt(t,n,r,i,o),null!==t&&(null!==(t=Ui(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function nn(e){var t=zi(e.target);if(null!==t){var n=_t(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=At(n)))return e.blockedOn=t,void Ht(e.lanePriority,(function(){K.unstable_runWithPriority(e.priority,(function(){Bt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function rn(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Un(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ui(n))&&jt(t),e.blockedOn=n,!1;t.shift()}return!0}function on(e,t,n){rn(e)&&n.delete(t)}function sn(){for(Kt=!1;0<Wt.length;){var e=Wt[0];if(null!==e.blockedOn){null!==(e=Ui(e.blockedOn))&&Vt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Un(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&Wt.shift()}null!==qt&&rn(qt)&&(qt=null),null!==Gt&&rn(Gt)&&(Gt=null),null!==$t&&rn($t)&&($t=null),Yt.forEach(on),Xt.forEach(on)}function an(e,t){e.blockedOn===t&&(e.blockedOn=null,Kt||(Kt=!0,K.unstable_scheduleCallback(K.unstable_NormalPriority,sn)))}function ln(e){function t(t){return an(t,e)}if(0<Wt.length){an(Wt[0],e);for(var n=1;n<Wt.length;n++){var r=Wt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==qt&&an(qt,e),null!==Gt&&an(Gt,e),null!==$t&&an($t,e),Yt.forEach(t),Xt.forEach(t),n=0;n<Qt.length;n++)(r=Qt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Qt.length&&null===(n=Qt[0]).blockedOn;)nn(n),null===n.blockedOn&&Qt.shift()}function un(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cn={animationend:un("Animation","AnimationEnd"),animationiteration:un("Animation","AnimationIteration"),animationstart:un("Animation","AnimationStart"),transitionend:un("Transition","TransitionEnd")},pn={},hn={};function dn(e){if(pn[e])return pn[e];if(!cn[e])return e;var t,n=cn[e];for(t in n)if(n.hasOwnProperty(t)&&t in hn)return pn[e]=n[t];return e}X&&(hn=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);var fn=dn("animationend"),mn=dn("animationiteration"),gn=dn("animationstart"),vn=dn("transitionend"),yn=new Map,bn=new Map,wn=["abort","abort",fn,"animationEnd",mn,"animationIteration",gn,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",vn,"transitionEnd","waiting","waiting"];function En(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),bn.set(r,t),yn.set(r,i),$(i,[r])}}(0,K.unstable_now)();var kn=8;function Sn(e){if(0!=(1&e))return kn=15,1;if(0!=(2&e))return kn=14,2;if(0!=(4&e))return kn=13,4;var t=24&e;return 0!==t?(kn=12,t):0!=(32&e)?(kn=11,32):0!==(t=192&e)?(kn=10,t):0!=(256&e)?(kn=9,256):0!==(t=3584&e)?(kn=8,t):0!=(4096&e)?(kn=7,4096):0!==(t=4186112&e)?(kn=6,t):0!==(t=62914560&e)?(kn=5,t):67108864&e?(kn=4,67108864):0!=(134217728&e)?(kn=3,134217728):0!==(t=805306368&e)?(kn=2,t):0!=(1073741824&e)?(kn=1,1073741824):(kn=8,e)}function Cn(e,t){var n=e.pendingLanes;if(0===n)return kn=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)r=o,i=kn=15;else if(0!==(o=134217727&n)){var l=o&~s;0!==l?(r=Sn(l),i=kn):0!==(a&=o)&&(r=Sn(a),i=kn)}else 0!==(o=n&~s)?(r=Sn(o),i=kn):0!==a&&(r=Sn(a),i=kn);if(0===r)return 0;if(r=n&((0>(r=31-In(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&s)){if(Sn(t),i<=kn)return t;kn=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-In(t)),r|=e[n],t&=~i;return r}function Dn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xn(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Tn(24&~t))?xn(10,t):e;case 10:return 0===(e=Tn(192&~t))?xn(8,t):e;case 8:return 0===(e=Tn(3584&~t))&&(0===(e=Tn(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Tn(805306368&~t))&&(t=268435456),t}throw Error(W(358,e))}function Tn(e){return e&-e}function On(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rn(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-In(t)]=n}var In=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Nn(e)/Mn|0)|0},Nn=Math.log,Mn=Math.LN2;var Pn=K.unstable_UserBlockingPriority,Ln=K.unstable_runWithPriority,_n=!0;function An(e,t,n,r){kt||wt();var i=zn,o=kt;kt=!0;try{bt(i,e,t,n,r)}finally{(kt=o)||Ct()}}function Fn(e,t,n,r){Ln(Pn,zn.bind(null,e,t,n,r))}function zn(e,t,n,r){var i;if(_n)if((i=0==(4&t))&&0<Wt.length&&-1<Jt.indexOf(e))e=Zt(null,e,t,n,r),Wt.push(e);else{var o=Un(e,t,n,r);if(null===o)i&&en(e,r);else{if(i){if(-1<Jt.indexOf(e))return e=Zt(o,e,t,n,r),void Wt.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return qt=tn(qt,e,t,n,r,i),!0;case"dragenter":return Gt=tn(Gt,e,t,n,r,i),!0;case"mouseover":return $t=tn($t,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Yt.set(o,tn(Yt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Xt.set(o,tn(Xt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;en(e,r)}vi(e,t,r,null,n)}}}function Un(e,t,n,r){var i=pt(r);if(null!==(i=zi(i))){var o=_t(i);if(null===o)i=null;else{var s=o.tag;if(13===s){if(null!==(i=At(o)))return i;i=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return vi(e,t,r,i,n),null}var Vn=null,jn=null,Bn=null;function Hn(){if(Bn)return Bn;var e,t,n=jn,r=n.length,i="value"in Vn?Vn.value:Vn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Bn=i.slice(e,1<t?1-t:void 0)}function Kn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wn(){return!0}function qn(){return!1}function Gn(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Wn:qn,this.isPropagationStopped=qn,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),t}var $n,Yn,Xn,Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jn=Gn(Qn),Zn=H({},Qn,{view:0,detail:0}),er=Gn(Zn),tr=H({},Zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xn&&(Xn&&"mousemove"===e.type?($n=e.screenX-Xn.screenX,Yn=e.screenY-Xn.screenY):Yn=$n=0,Xn=e),$n)},movementY:function(e){return"movementY"in e?e.movementY:Yn}}),nr=Gn(tr),rr=Gn(H({},tr,{dataTransfer:0})),ir=Gn(H({},Zn,{relatedTarget:0})),or=Gn(H({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0})),sr=Gn(H({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ar=Gn(H({},Qn,{data:0})),lr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ur={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=cr[e])&&!!t[e]}function hr(){return pr}var dr=Gn(H({},Zn,{key:function(e){if(e.key){var t=lr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ur[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return"keypress"===e.type?Kn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),fr=Gn(H({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),mr=Gn(H({},Zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr})),gr=Gn(H({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0})),vr=Gn(H({},tr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),yr=[9,13,27,32],br=X&&"CompositionEvent"in window,wr=null;X&&"documentMode"in document&&(wr=document.documentMode);var Er=X&&"TextEvent"in window&&!wr,kr=X&&(!br||wr&&8<wr&&11>=wr),Sr=String.fromCharCode(32),Cr=!1;function Dr(e,t){switch(e){case"keyup":return-1!==yr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Tr=!1;var Or={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Or[e.type]:"textarea"===t}function Ir(e,t,n,r){gt(r),0<(t=bi(t,"onChange")).length&&(n=new Jn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Nr=null,Mr=null;function Pr(e){pi(e,0)}function Lr(e){if(Ae(Vi(e)))return e}function _r(e,t){if("change"===e)return t}var Ar=!1;if(X){var Fr;if(X){var zr="oninput"in document;if(!zr){var Ur=document.createElement("div");Ur.setAttribute("oninput","return;"),zr="function"==typeof Ur.oninput}Fr=zr}else Fr=!1;Ar=Fr&&(!document.documentMode||9<document.documentMode)}function Vr(){Nr&&(Nr.detachEvent("onpropertychange",jr),Mr=Nr=null)}function jr(e){if("value"===e.propertyName&&Lr(Mr)){var t=[];if(Ir(t,Mr,e,pt(e)),e=Pr,kt)e(t);else{kt=!0;try{yt(e,t)}finally{kt=!1,Ct()}}}}function Br(e,t,n){"focusin"===e?(Vr(),Mr=n,(Nr=t).attachEvent("onpropertychange",jr)):"focusout"===e&&Vr()}function Hr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Lr(Mr)}function Kr(e,t){if("click"===e)return Lr(t)}function Wr(e,t){if("input"===e||"change"===e)return Lr(t)}var qr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Gr=Object.prototype.hasOwnProperty;function $r(e,t){if(qr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Gr.call(t,n[r])||!qr(e[n[r]],t[n[r]]))return!1;return!0}function Yr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xr(e,t){var n,r=Yr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yr(r)}}function Qr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Qr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Jr(){for(var e=window,t=Fe();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Fe((e=t.contentWindow).document)}return t}function Zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ei=X&&"documentMode"in document&&11>=document.documentMode,ti=null,ni=null,ri=null,ii=!1;function oi(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ii||null==ti||ti!==Fe(r)||("selectionStart"in(r=ti)&&Zr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ri&&$r(ri,r)||(ri=r,0<(r=bi(ni,"onSelect")).length&&(t=new Jn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ti)))}En("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),En("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),En(wn,2);for(var si="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ai=0;ai<si.length;ai++)bn.set(si[ai],0);Y("onMouseEnter",["mouseout","mouseover"]),Y("onMouseLeave",["mouseout","mouseover"]),Y("onPointerEnter",["pointerout","pointerover"]),Y("onPointerLeave",["pointerout","pointerover"]),$("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$("onBeforeInput",["compositionend","keypress","textInput","paste"]),$("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ui=new Set("cancel close invalid load scroll toggle".split(" ").concat(li));function ci(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,a,l){if(Lt.apply(this,arguments),Rt){if(!Rt)throw Error(W(198));var u=It;Rt=!1,It=null,Nt||(Nt=!0,Mt=u)}}(r,t,void 0,e),e.currentTarget=null}function pi(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;ci(i,a,u),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;ci(i,a,u),o=l}}}if(Nt)throw e=Mt,Nt=!1,Mt=null,e}function hi(e,t){var n=Bi(t),r=e+"__bubble";n.has(r)||(gi(t,e,2,!1),n.add(r))}var di="_reactListening"+Math.random().toString(36).slice(2);function fi(e){e[di]||(e[di]=!0,q.forEach((function(t){ui.has(t)||mi(t,!1,e,null),mi(t,!0,e,null)})))}function mi(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&ui.has(e)){if("scroll"!==e)return;i|=2,o=r}var s=Bi(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),gi(o,e,i,t),s.add(a))}function gi(e,t,n,r){var i=bn.get(t);switch(void 0===i?2:i){case 0:i=An;break;case 1:i=Fn;break;default:i=zn}n=i.bind(null,t,n,e),i=void 0,!xt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function vi(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=zi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(St)return e(t,n);St=!0;try{Et(e,t,n)}finally{St=!1,Ct()}}((function(){var r=o,i=pt(n),s=[];e:{var a=yn.get(e);if(void 0!==a){var l=Jn,u=e;switch(e){case"keypress":if(0===Kn(n))break e;case"keydown":case"keyup":l=dr;break;case"focusin":u="focus",l=ir;break;case"focusout":u="blur",l=ir;break;case"beforeblur":case"afterblur":l=ir;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=mr;break;case fn:case mn:case gn:l=or;break;case vn:l=gr;break;case"scroll":l=er;break;case"wheel":l=vr;break;case"copy":case"cut":case"paste":l=sr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=fr}var c=0!=(4&t),p=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var d,f=r;null!==f;){var m=(d=f).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==h&&(null!=(m=Dt(f,h))&&c.push(yi(f,m,d)))),p)break;f=f.return}0<c.length&&(a=new l(a,u,null,n,i),s.push({event:a,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!zi(u)&&!u[Ai])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?zi(u):null)&&(u!==(p=_t(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=nr,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=fr,m="onPointerLeave",h="onPointerEnter",f="pointer"),p=null==l?a:Vi(l),d=null==u?a:Vi(u),(a=new c(m,f+"leave",l,n,i)).target=p,a.relatedTarget=d,m=null,zi(i)===r&&((c=new c(h,f+"enter",u,n,i)).target=d,c.relatedTarget=p,m=c),p=m,l&&u)e:{for(h=u,f=0,d=c=l;d;d=wi(d))f++;for(d=0,m=h;m;m=wi(m))d++;for(;0<f-d;)c=wi(c),f--;for(;0<d-f;)h=wi(h),d--;for(;f--;){if(c===h||null!==h&&c===h.alternate)break e;c=wi(c),h=wi(h)}c=null}else c=null;null!==l&&Ei(s,a,l,c,!1),null!==u&&null!==p&&Ei(s,p,u,c,!0)}if("select"===(l=(a=r?Vi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=_r;else if(Rr(a))if(Ar)g=Wr;else{g=Hr;var v=Br}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=Kr);switch(g&&(g=g(e,r))?Ir(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&He(a,"number",a.value)),v=r?Vi(r):window,e){case"focusin":(Rr(v)||"true"===v.contentEditable)&&(ti=v,ni=r,ri=null);break;case"focusout":ri=ni=ti=null;break;case"mousedown":ii=!0;break;case"contextmenu":case"mouseup":case"dragend":ii=!1,oi(s,n,i);break;case"selectionchange":if(ei)break;case"keydown":case"keyup":oi(s,n,i)}var y;if(br)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Tr?Dr(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(kr&&"ko"!==n.locale&&(Tr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Tr&&(y=Hn()):(jn="value"in(Vn=i)?Vn.value:Vn.textContent,Tr=!0)),0<(v=bi(r,b)).length&&(b=new ar(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=xr(n))&&(b.data=y))),(y=Er?function(e,t){switch(e){case"compositionend":return xr(t);case"keypress":return 32!==t.which?null:(Cr=!0,Sr);case"textInput":return(e=t.data)===Sr&&Cr?null:e;default:return null}}(e,n):function(e,t){if(Tr)return"compositionend"===e||!br&&Dr(e,t)?(e=Hn(),Bn=jn=Vn=null,Tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kr&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=bi(r,"onBeforeInput")).length&&(i=new ar("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}pi(s,t)}))}function yi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bi(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Dt(e,n))&&r.unshift(yi(e,o,i)),null!=(o=Dt(e,t))&&r.push(yi(e,o,i))),e=e.return}return r}function wi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ei(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Dt(n,o))&&s.unshift(yi(n,l,a)):i||null!=(l=Dt(n,o))&&s.push(yi(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function ki(){}var Si=null,Ci=null;function Di(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function xi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ti="function"==typeof setTimeout?setTimeout:void 0,Oi="function"==typeof clearTimeout?clearTimeout:void 0;function Ri(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Ii(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Ni(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Mi=0;var Pi=Math.random().toString(36).slice(2),Li="__reactFiber$"+Pi,_i="__reactProps$"+Pi,Ai="__reactContainer$"+Pi,Fi="__reactEvents$"+Pi;function zi(e){var t=e[Li];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ai]||n[Li]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ni(e);null!==e;){if(n=e[Li])return n;e=Ni(e)}return t}n=(e=n).parentNode}return null}function Ui(e){return!(e=e[Li]||e[Ai])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(W(33))}function ji(e){return e[_i]||null}function Bi(e){var t=e[Fi];return void 0===t&&(t=e[Fi]=new Set),t}var Hi=[],Ki=-1;function Wi(e){return{current:e}}function qi(e){0>Ki||(e.current=Hi[Ki],Hi[Ki]=null,Ki--)}function Gi(e,t){Ki++,Hi[Ki]=e.current,e.current=t}var $i={},Yi=Wi($i),Xi=Wi(!1),Qi=$i;function Ji(e,t){var n=e.type.contextTypes;if(!n)return $i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Zi(e){return null!=(e=e.childContextTypes)}function eo(){qi(Xi),qi(Yi)}function to(e,t,n){if(Yi.current!==$i)throw Error(W(168));Gi(Yi,t),Gi(Xi,n)}function no(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(W(108,Me(t)||"Unknown",i));return H({},n,r)}function ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$i,Qi=Yi.current,Gi(Yi,e),Gi(Xi,Xi.current),!0}function io(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=no(e,t,Qi),r.__reactInternalMemoizedMergedChildContext=e,qi(Xi),qi(Yi),Gi(Yi,e)):qi(Xi),Gi(Xi,n)}var oo=null,so=null,ao=K.unstable_runWithPriority,lo=K.unstable_scheduleCallback,uo=K.unstable_cancelCallback,co=K.unstable_shouldYield,po=K.unstable_requestPaint,ho=K.unstable_now,fo=K.unstable_getCurrentPriorityLevel,mo=K.unstable_ImmediatePriority,go=K.unstable_UserBlockingPriority,vo=K.unstable_NormalPriority,yo=K.unstable_LowPriority,bo=K.unstable_IdlePriority,wo={},Eo=void 0!==po?po:function(){},ko=null,So=null,Co=!1,Do=ho(),xo=1e4>Do?ho:function(){return ho()-Do};function To(){switch(fo()){case mo:return 99;case go:return 98;case vo:return 97;case yo:return 96;case bo:return 95;default:throw Error(W(332))}}function Oo(e){switch(e){case 99:return mo;case 98:return go;case 97:return vo;case 96:return yo;case 95:return bo;default:throw Error(W(332))}}function Ro(e,t){return e=Oo(e),ao(e,t)}function Io(e,t,n){return e=Oo(e),lo(e,t,n)}function No(){if(null!==So){var e=So;So=null,uo(e)}Mo()}function Mo(){if(!Co&&null!==ko){Co=!0;var e=0;try{var t=ko;Ro(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ko=null}catch(n){throw null!==ko&&(ko=ko.slice(e+1)),lo(mo,No),n}finally{Co=!1}}}var Po=se.ReactCurrentBatchConfig;function Lo(e,t){if(e&&e.defaultProps){for(var n in t=H({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var _o=Wi(null),Ao=null,Fo=null,zo=null;function Uo(){zo=Fo=Ao=null}function Vo(e){var t=_o.current;qi(_o),e.type._context._currentValue=t}function jo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function Bo(e,t){Ao=e,zo=Fo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ho(e,t){if(zo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(zo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Fo){if(null===Ao)throw Error(W(308));Fo=t,Ao.dependencies={lanes:0,firstContext:t,responders:null}}else Fo=Fo.next=t;return e._currentValue}var Ko=!1;function Wo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function qo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Go(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $o(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Yo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xo(e,t,n,r){var i=e.updateQueue;Ko=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;if(null!==c){var p=(c=c.updateQueue).lastBaseUpdate;p!==s&&(null===p?c.firstBaseUpdate=u:p.next=u,c.lastBaseUpdate=l)}}if(null!==o){for(p=i.baseState,s=0,c=u=l=null;;){a=o.lane;var h=o.eventTime;if((r&a)===a){null!==c&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var d=e,f=o;switch(a=t,h=n,f.tag){case 1:if("function"==typeof(d=f.payload)){p=d.call(h,p,a);break e}p=d;break e;case 3:d.flags=-4097&d.flags|64;case 0:if(null==(a="function"==typeof(d=f.payload)?d.call(h,p,a):d))break e;p=H({},p,a);break e;case 2:Ko=!0}}null!==o.callback&&(e.flags|=32,null===(a=i.effects)?i.effects=[o]:a.push(o))}else h={eventTime:h,lane:a,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=h,l=p):c=c.next=h,s|=a;if(null===(o=o.next)){if(null===(a=i.shared.pending))break;o=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}null===c&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,Sl|=s,e.lanes=s,e.memoizedState=p}}function Qo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(W(191,i));i.call(r)}}}var Jo=(new B.Component).refs;function Zo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:H({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var es={isMounted:function(e){return!!(e=e._reactInternals)&&_t(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$l(),i=Yl(e),o=Go(r,i);o.payload=t,null!=n&&(o.callback=n),$o(e,o),Xl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$l(),i=Yl(e),o=Go(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),$o(e,o),Xl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$l(),r=Yl(e),i=Go(n,r);i.tag=2,null!=t&&(i.callback=t),$o(e,i),Xl(e,r,n)}};function ts(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!$r(n,r)||!$r(i,o))}function ns(e,t,n){var r=!1,i=$i,o=t.contextType;return"object"==typeof o&&null!==o?o=Ho(o):(i=Zi(t)?Qi:Yi.current,o=(r=null!=(r=t.contextTypes))?Ji(e,i):$i),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=es,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function rs(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&es.enqueueReplaceState(t,t.state,null)}function is(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Jo,Wo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Ho(o):(o=Zi(t)?Qi:Yi.current,i.context=Ji(e,o)),Xo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Zo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&es.enqueueReplaceState(i,i.state,null),Xo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var os=Array.isArray;function ss(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Jo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function as(e,t){if("textarea"!==e.type)throw Error(W(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ls(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function a(e,t,n,r){return null===t||6!==t.tag?((t=Mu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ss(e,t,n),r.return=e,r):((r=Ru(n.type,n.key,n.props,null,e.mode,r)).ref=ss(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Pu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,o){return null===t||7!==t.tag?((t=Iu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Mu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ae:return(n=Ru(t.type,t.key,t.props,null,e.mode,n)).ref=ss(e,null,t),n.return=e,n;case le:return(t=Pu(t,e.mode,n)).return=e,t}if(os(t)||Te(t))return(t=Iu(t,e.mode,n,null)).return=e,t;as(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ae:return n.key===i?n.type===ue?c(e,t,n.props.children,r,i):l(e,t,n,r):null;case le:return n.key===i?u(e,t,n,r):null}if(os(n)||Te(n))return null!==i?null:c(e,t,n,r,null);as(e,n)}return null}function d(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return a(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ae:return e=e.get(null===r.key?n:r.key)||null,r.type===ue?c(t,e,r.props.children,i,r.key):l(t,e,r,i);case le:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(os(r)||Te(r))return c(t,e=e.get(n)||null,r,i,null);as(t,r)}return null}return function(a,l,u,c){var f="object"==typeof u&&null!==u&&u.type===ue&&null===u.key;f&&(u=u.props.children);var m="object"==typeof u&&null!==u;if(m)switch(u.$$typeof){case ae:e:{for(m=u.key,f=l;null!==f;){if(f.key===m){switch(f.tag){case 7:if(u.type===ue){n(a,f.sibling),(l=i(f,u.props.children)).return=a,a=l;break e}break;default:if(f.elementType===u.type){n(a,f.sibling),(l=i(f,u.props)).ref=ss(a,f,u),l.return=a,a=l;break e}}n(a,f);break}t(a,f),f=f.sibling}u.type===ue?((l=Iu(u.props.children,a.mode,c,u.key)).return=a,a=l):((c=Ru(u.type,u.key,u.props,null,a.mode,c)).ref=ss(a,l,u),c.return=a,a=c)}return s(a);case le:e:{for(f=u.key;null!==l;){if(l.key===f){if(4===l.tag&&l.stateNode.containerInfo===u.containerInfo&&l.stateNode.implementation===u.implementation){n(a,l.sibling),(l=i(l,u.children||[])).return=a,a=l;break e}n(a,l);break}t(a,l),l=l.sibling}(l=Pu(u,a.mode,c)).return=a,a=l}return s(a)}if("string"==typeof u||"number"==typeof u)return u=""+u,null!==l&&6===l.tag?(n(a,l.sibling),(l=i(l,u)).return=a,a=l):(n(a,l),(l=Mu(u,a.mode,c)).return=a,a=l),s(a);if(os(u))return function(i,s,a,l){for(var u=null,c=null,f=s,m=s=0,g=null;null!==f&&m<a.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var v=h(i,f,a[m],l);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(i,f),s=o(v,s,m),null===c?u=v:c.sibling=v,c=v,f=g}if(m===a.length)return n(i,f),u;if(null===f){for(;m<a.length;m++)null!==(f=p(i,a[m],l))&&(s=o(f,s,m),null===c?u=f:c.sibling=f,c=f);return u}for(f=r(i,f);m<a.length;m++)null!==(g=d(f,i,m,a[m],l))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&f.forEach((function(e){return t(i,e)})),u}(a,l,u,c);if(Te(u))return function(i,s,a,l){var u=Te(a);if("function"!=typeof u)throw Error(W(150));if(null==(a=u.call(a)))throw Error(W(151));for(var c=u=null,f=s,m=s=0,g=null,v=a.next();null!==f&&!v.done;m++,v=a.next()){f.index>m?(g=f,f=null):g=f.sibling;var y=h(i,f,v.value,l);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(i,f),s=o(y,s,m),null===c?u=y:c.sibling=y,c=y,f=g}if(v.done)return n(i,f),u;if(null===f){for(;!v.done;m++,v=a.next())null!==(v=p(i,v.value,l))&&(s=o(v,s,m),null===c?u=v:c.sibling=v,c=v);return u}for(f=r(i,f);!v.done;m++,v=a.next())null!==(v=d(f,i,m,v.value,l))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),s=o(v,s,m),null===c?u=v:c.sibling=v,c=v);return e&&f.forEach((function(e){return t(i,e)})),u}(a,l,u,c);if(m&&as(a,u),void 0===u&&!f)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error(W(152,Me(a.type)||"Component"))}return n(a,l)}}var us=ls(!0),cs=ls(!1),ps={},hs=Wi(ps),ds=Wi(ps),fs=Wi(ps);function ms(e){if(e===ps)throw Error(W(174));return e}function gs(e,t){switch(Gi(fs,t),Gi(ds,e),Gi(hs,ps),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ze(null,"");break;default:t=Ze(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}qi(hs),Gi(hs,t)}function vs(){qi(hs),qi(ds),qi(fs)}function ys(e){ms(fs.current);var t=ms(hs.current),n=Ze(t,e.type);t!==n&&(Gi(ds,e),Gi(hs,n))}function bs(e){ds.current===e&&(qi(hs),qi(ds))}var ws=Wi(0);function Es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ks=null,Ss=null,Cs=!1;function Ds(e,t){var n=xu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function xs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ts(e){if(Cs){var t=Ss;if(t){var n=t;if(!xs(e,t)){if(!(t=Ii(n.nextSibling))||!xs(e,t))return e.flags=-1025&e.flags|2,Cs=!1,void(ks=e);Ds(ks,n)}ks=e,Ss=Ii(t.firstChild)}else e.flags=-1025&e.flags|2,Cs=!1,ks=e}}function Os(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ks=e}function Rs(e){if(e!==ks)return!1;if(!Cs)return Os(e),Cs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!xi(t,e.memoizedProps))for(t=Ss;t;)Ds(e,t),t=Ii(t.nextSibling);if(Os(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ss=Ii(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ss=null}}else Ss=ks?Ii(e.stateNode.nextSibling):null;return!0}function Is(){Ss=ks=null,Cs=!1}var Ns=[];function Ms(){for(var e=0;e<Ns.length;e++)Ns[e]._workInProgressVersionPrimary=null;Ns.length=0}var Ps=se.ReactCurrentDispatcher,Ls=se.ReactCurrentBatchConfig,_s=0,As=null,Fs=null,zs=null,Us=!1,Vs=!1;function js(){throw Error(W(321))}function Bs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qr(e[n],t[n]))return!1;return!0}function Hs(e,t,n,r,i,o){if(_s=o,As=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ps.current=null===e||null===e.memoizedState?ma:ga,e=n(r,i),Vs){o=0;do{if(Vs=!1,!(25>o))throw Error(W(301));o+=1,zs=Fs=null,t.updateQueue=null,Ps.current=va,e=n(r,i)}while(Vs)}if(Ps.current=fa,t=null!==Fs&&null!==Fs.next,_s=0,zs=Fs=As=null,Us=!1,t)throw Error(W(300));return e}function Ks(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===zs?As.memoizedState=zs=e:zs=zs.next=e,zs}function Ws(){if(null===Fs){var e=As.alternate;e=null!==e?e.memoizedState:null}else e=Fs.next;var t=null===zs?As.memoizedState:zs.next;if(null!==t)zs=t,Fs=e;else{if(null===e)throw Error(W(310));e={memoizedState:(Fs=e).memoizedState,baseState:Fs.baseState,baseQueue:Fs.baseQueue,queue:Fs.queue,next:null},null===zs?As.memoizedState=zs=e:zs=zs.next=e}return zs}function qs(e,t){return"function"==typeof t?t(e):t}function Gs(e){var t=Ws(),n=t.queue;if(null===n)throw Error(W(311));n.lastRenderedReducer=e;var r=Fs,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var a=s=o=null,l=i;do{var u=l.lane;if((_s&u)===u)null!==a&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var c={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===a?(s=a=c,o=r):a=a.next=c,As.lanes|=u,Sl|=u}l=l.next}while(null!==l&&l!==i);null===a?o=r:a.next=s,qr(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function $s(e){var t=Ws(),n=t.queue;if(null===n)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);qr(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ys(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(_s&e)===e)&&(t._workInProgressVersionPrimary=r,Ns.push(t))),e)return n(t._source);throw Ns.push(t),Error(W(350))}function Xs(e,t,n,r){var i=ml;if(null===i)throw Error(W(349));var o=t._getVersion,s=o(t._source),a=Ps.current,l=a.useState((function(){return Ys(i,t,n)})),u=l[1],c=l[0];l=zs;var p=e.memoizedState,h=p.refs,d=h.getSnapshot,f=p.source;p=p.subscribe;var m=As;return e.memoizedState={refs:h,source:t,subscribe:r},a.useEffect((function(){h.getSnapshot=n,h.setSnapshot=u;var e=o(t._source);if(!qr(s,e)){e=n(t._source),qr(c,e)||(u(e),e=Yl(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-In(a),p=1<<l;r[l]|=e,a&=~p}}}),[n,t,r]),a.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=Yl(m);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),qr(d,n)&&qr(f,t)&&qr(p,r)||((e={pending:null,dispatch:null,lastRenderedReducer:qs,lastRenderedState:c}).dispatch=u=da.bind(null,As,e),l.queue=e,l.baseQueue=null,c=Ys(i,t,n),l.memoizedState=l.baseState=c),c}function Qs(e,t,n){return Xs(Ws(),e,t,n)}function Js(e){var t=Ks();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:qs,lastRenderedState:e}).dispatch=da.bind(null,As,e),[t.memoizedState,e]}function Zs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=As.updateQueue)?(t={lastEffect:null},As.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ea(e){return e={current:e},Ks().memoizedState=e}function ta(){return Ws().memoizedState}function na(e,t,n,r){var i=Ks();As.flags|=e,i.memoizedState=Zs(1|t,n,void 0,void 0===r?null:r)}function ra(e,t,n,r){var i=Ws();r=void 0===r?null:r;var o=void 0;if(null!==Fs){var s=Fs.memoizedState;if(o=s.destroy,null!==r&&Bs(r,s.deps))return void Zs(t,n,o,r)}As.flags|=e,i.memoizedState=Zs(1|t,n,o,r)}function ia(e,t){return na(516,4,e,t)}function oa(e,t){return ra(516,4,e,t)}function sa(e,t){return ra(4,2,e,t)}function aa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function la(e,t,n){return n=null!=n?n.concat([e]):null,ra(4,2,aa.bind(null,t,e),n)}function ua(){}function ca(e,t){var n=Ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Bs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pa(e,t){var n=Ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Bs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ha(e,t){var n=To();Ro(98>n?98:n,(function(){e(!0)})),Ro(97<n?97:n,(function(){var n=Ls.transition;Ls.transition=1;try{e(!1),t()}finally{Ls.transition=n}}))}function da(e,t,n){var r=$l(),i=Yl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===As||null!==s&&s===As)Vs=Us=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=s(a,n);if(o.eagerReducer=s,o.eagerState=l,qr(l,a))return}catch(u){}Xl(e,i,r)}}var fa={readContext:Ho,useCallback:js,useContext:js,useEffect:js,useImperativeHandle:js,useLayoutEffect:js,useMemo:js,useReducer:js,useRef:js,useState:js,useDebugValue:js,useDeferredValue:js,useTransition:js,useMutableSource:js,useOpaqueIdentifier:js,unstable_isNewReconciler:!1},ma={readContext:Ho,useCallback:function(e,t){return Ks().memoizedState=[e,void 0===t?null:t],e},useContext:Ho,useEffect:ia,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,na(4,2,aa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return na(4,2,e,t)},useMemo:function(e,t){var n=Ks();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ks();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=da.bind(null,As,e),[r.memoizedState,e]},useRef:ea,useState:Js,useDebugValue:ua,useDeferredValue:function(e){var t=Js(e),n=t[0],r=t[1];return ia((function(){var t=Ls.transition;Ls.transition=1;try{r(e)}finally{Ls.transition=t}}),[e]),n},useTransition:function(){var e=Js(!1),t=e[0];return ea(e=ha.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=Ks();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Xs(r,e,t,n)},useOpaqueIdentifier:function(){if(Cs){var e=!1,t=function(e){return{$$typeof:we,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Mi++).toString(36))),Error(W(355))})),n=Js(t)[1];return 0==(2&As.mode)&&(As.flags|=516,Zs(5,(function(){n("r:"+(Mi++).toString(36))}),void 0,null)),t}return Js(t="r:"+(Mi++).toString(36)),t},unstable_isNewReconciler:!1},ga={readContext:Ho,useCallback:ca,useContext:Ho,useEffect:oa,useImperativeHandle:la,useLayoutEffect:sa,useMemo:pa,useReducer:Gs,useRef:ta,useState:function(){return Gs(qs)},useDebugValue:ua,useDeferredValue:function(e){var t=Gs(qs),n=t[0],r=t[1];return oa((function(){var t=Ls.transition;Ls.transition=1;try{r(e)}finally{Ls.transition=t}}),[e]),n},useTransition:function(){var e=Gs(qs)[0];return[ta().current,e]},useMutableSource:Qs,useOpaqueIdentifier:function(){return Gs(qs)[0]},unstable_isNewReconciler:!1},va={readContext:Ho,useCallback:ca,useContext:Ho,useEffect:oa,useImperativeHandle:la,useLayoutEffect:sa,useMemo:pa,useReducer:$s,useRef:ta,useState:function(){return $s(qs)},useDebugValue:ua,useDeferredValue:function(e){var t=$s(qs),n=t[0],r=t[1];return oa((function(){var t=Ls.transition;Ls.transition=1;try{r(e)}finally{Ls.transition=t}}),[e]),n},useTransition:function(){var e=$s(qs)[0];return[ta().current,e]},useMutableSource:Qs,useOpaqueIdentifier:function(){return $s(qs)[0]},unstable_isNewReconciler:!1},ya=se.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?cs(t,null,n,r):us(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var o=t.ref;return Bo(t,i),r=Hs(e,t,n,r,o,i),null===e||ba?(t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ja(e,t,i))}function ka(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!=typeof s||Tu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ru(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,r,i,o))}return s=e.child,0==(i&o)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:$r)(i,r)&&e.ref===t.ref)?ja(e,t,o):(t.flags|=1,(e=Ou(s,r)).ref=t.ref,e.return=t,t.child=e)}function Sa(e,t,n,r,i,o){if(null!==e&&$r(e.memoizedProps,r)&&e.ref===t.ref){if(ba=!1,0==(o&i))return t.lanes=e.lanes,ja(e,t,o);0!=(16384&e.flags)&&(ba=!0)}return xa(e,t,n,r,o)}function Ca(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},iu(t,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},iu(t,e),null;t.memoizedState={baseLanes:0},iu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,iu(t,r);return wa(e,t,i,n),t.child}function Da(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function xa(e,t,n,r,i){var o=Zi(n)?Qi:Yi.current;return o=Ji(t,o),Bo(t,i),n=Hs(e,t,n,r,o,i),null===e||ba?(t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ja(e,t,i))}function Ta(e,t,n,r,i){if(Zi(n)){var o=!0;ro(t)}else o=!1;if(Bo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ns(t,n,r),is(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"==typeof u&&null!==u?u=Ho(u):u=Ji(t,u=Zi(n)?Qi:Yi.current);var c=n.getDerivedStateFromProps,p="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;p||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==u)&&rs(t,s,r,u),Ko=!1;var h=t.memoizedState;s.state=h,Xo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Xi.current||Ko?("function"==typeof c&&(Zo(t,n,c,r),l=t.memoizedState),(a=Ko||ts(t,n,a,r,h,l,u))?(p||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4)):("function"==typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4),r=!1)}else{s=t.stateNode,qo(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Lo(t.type,a),s.props=u,p=t.pendingProps,h=s.context,"object"==typeof(l=n.contextType)&&null!==l?l=Ho(l):l=Ji(t,l=Zi(n)?Qi:Yi.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==p||h!==l)&&rs(t,s,r,l),Ko=!1,h=t.memoizedState,s.state=h,Xo(t,r,s,i);var f=t.memoizedState;a!==p||h!==f||Xi.current||Ko?("function"==typeof d&&(Zo(t,n,d,r),f=t.memoizedState),(u=Ko||ts(t,n,u,r,h,f,l))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Oa(e,t,n,r,o,i)}function Oa(e,t,n,r,i,o){Da(e,t);var s=0!=(64&t.flags);if(!r&&!s)return i&&io(t,n,!1),ja(e,t,o);r=t.stateNode,ya.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=us(t,e.child,null,o),t.child=us(t,null,a,o)):wa(e,t,a,o),t.memoizedState=r.state,i&&io(t,n,!0),t.child}function Ra(e){var t=e.stateNode;t.pendingContext?to(0,t.pendingContext,t.pendingContext!==t.context):t.context&&to(0,t.context,!1),gs(e,t.containerInfo)}var Ia,Na,Ma,Pa={dehydrated:null,retryLane:0};function La(e,t,n){var r,i=t.pendingProps,o=ws.current,s=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),Gi(ws,1&o),null===e?(void 0!==i.fallback&&Ts(t),e=i.children,o=i.fallback,s?(e=_a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Pa,e):"number"==typeof i.unstable_expectedLoadTime?(e=_a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Pa,t.lanes=33554432,e):((n=Nu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(i=Fa(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Pa,i):(n=Aa(e,t,i.children,n),t.memoizedState=null,n))}function _a(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Nu(t,i,0,null),n=Iu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Aa(e,t,n,r){var i=e.child;return e=i.sibling,n=Ou(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Fa(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 0==(2&o)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ou(s,a),null!==e?r=Ou(e,r):(r=Iu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function za(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),jo(e.return,t)}function Ua(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function Va(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wa(e,t,r.children,n),0!=(2&(r=ws.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n);else if(19===e.tag)za(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Gi(ws,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Es(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ua(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Es(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ua(t,!0,n,null,o,t.lastEffect);break;case"together":Ua(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ja(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Sl|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(W(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function Ba(e,t){if(!Cs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ha(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Zi(t.type)&&eo(),null;case 3:return vs(),qi(Xi),qi(Yi),Ms(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Rs(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:bs(t);var i=ms(fs.current);if(n=t.type,null!==e&&null!=t.stateNode)Na(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(W(166));return null}if(e=ms(hs.current),Rs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Li]=t,r[_i]=o,n){case"dialog":hi("cancel",r),hi("close",r);break;case"iframe":case"object":case"embed":hi("load",r);break;case"video":case"audio":for(e=0;e<li.length;e++)hi(li[e],r);break;case"source":hi("error",r);break;case"img":case"image":case"link":hi("error",r),hi("load",r);break;case"details":hi("toggle",r);break;case"input":Ue(r,o),hi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},hi("invalid",r);break;case"textarea":Ge(r,o),hi("invalid",r)}for(var s in ut(n,o),e=null,o)o.hasOwnProperty(s)&&(i=o[s],"children"===s?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):G.hasOwnProperty(s)&&null!=i&&"onScroll"===s&&hi("scroll",r));switch(n){case"input":_e(r),Be(r,o,!0);break;case"textarea":_e(r),Ye(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=ki)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(s=9===i.nodeType?i:i.ownerDocument,e===Xe&&(e=Je(n)),e===Xe?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Li]=t,e[_i]=r,Ia(e,t),t.stateNode=e,s=ct(n,r),n){case"dialog":hi("cancel",e),hi("close",e),i=r;break;case"iframe":case"object":case"embed":hi("load",e),i=r;break;case"video":case"audio":for(i=0;i<li.length;i++)hi(li[i],e);i=r;break;case"source":hi("error",e),i=r;break;case"img":case"image":case"link":hi("error",e),hi("load",e),i=r;break;case"details":hi("toggle",e),i=r;break;case"input":Ue(e,r),i=ze(e,r),hi("invalid",e);break;case"option":i=Ke(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=H({},r,{value:void 0}),hi("invalid",e);break;case"textarea":Ge(e,r),i=qe(e,r),hi("invalid",e);break;default:i=r}ut(n,i);var a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];"style"===o?at(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&nt(e,l):"children"===o?"string"==typeof l?("textarea"!==n||""!==l)&&rt(e,l):"number"==typeof l&&rt(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(G.hasOwnProperty(o)?null!=l&&"onScroll"===o&&hi("scroll",e):null!=l&&oe(e,o,l,s))}switch(n){case"input":_e(e),Be(e,r,!1);break;case"textarea":_e(e),Ye(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Pe(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?We(e,!!r.multiple,o,!1):null!=r.defaultValue&&We(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=ki)}Di(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ma(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(W(166));n=ms(fs.current),ms(hs.current),Rs(t)?(r=t.stateNode,n=t.memoizedProps,r[Li]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Li]=t,t.stateNode=r)}return null;case 13:return qi(ws),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Rs(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&ws.current)?0===wl&&(wl=3):(0!==wl&&3!==wl||(wl=4),null===ml||0==(134217727&Sl)&&0==(134217727&Cl)||eu(ml,vl))),(r||n)&&(t.flags|=4),null);case 4:return vs(),null===e&&fi(t.stateNode.containerInfo),null;case 10:return Vo(t),null;case 17:return Zi(t.type)&&eo(),null;case 19:if(qi(ws),null===(r=t.memoizedState))return null;if(o=0!=(64&t.flags),null===(s=r.rendering))if(o)Ba(r,!1);else{if(0!==wl||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(s=Es(e))){for(t.flags|=64,Ba(r,!1),null!==(o=s.updateQueue)&&(t.updateQueue=o,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Gi(ws,1&ws.current|2),t.child}e=e.sibling}null!==r.tail&&xo()>Ol&&(t.flags|=64,o=!0,Ba(r,!1),t.lanes=33554432)}else{if(!o)if(null!==(e=Es(s))){if(t.flags|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ba(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!Cs)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*xo()-r.renderingStartTime>Ol&&1073741824!==n&&(t.flags|=64,o=!0,Ba(r,!1),t.lanes=33554432);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=xo(),n.sibling=null,t=ws.current,Gi(ws,o?1&t|2:1&t),n):null;case 23:case 24:return ou(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(W(156,t.tag))}function Ka(e){switch(e.tag){case 1:Zi(e.type)&&eo();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(vs(),qi(Xi),qi(Yi),Ms(),0!=(64&(t=e.flags)))throw Error(W(285));return e.flags=-4097&t|64,e;case 5:return bs(e),null;case 13:return qi(ws),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return qi(ws),null;case 4:return vs(),null;case 10:return Vo(e),null;case 23:case 24:return ou(),null;default:return null}}function Wa(e,t){try{var n="",r=t;do{n+=Ne(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function qa(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ia=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Na=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ms(hs.current);var o,s=null;switch(n){case"input":i=ze(e,i),r=ze(e,r),s=[];break;case"option":i=Ke(e,i),r=Ke(e,r),s=[];break;case"select":i=H({},i,{value:void 0}),r=H({},r,{value:void 0}),s=[];break;case"textarea":i=qe(e,i),r=qe(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=ki)}for(u in ut(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(G.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(null!=l||null!=a))if("style"===u)if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(s=s||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(G.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&hi("scroll",e),s||a===l||(s=[])):"object"==typeof l&&null!==l&&l.$$typeof===we?l.toString():(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ma=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ga="function"==typeof WeakMap?WeakMap:Map;function $a(e,t,n){(n=Go(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ml||(Ml=!0,Pl=r),qa(0,t)},n}function Ya(e,t,n){(n=Go(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return qa(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ll?Ll=new Set([this]):Ll.add(this),qa(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var Xa="function"==typeof WeakSet?WeakSet:Set;function Qa(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(n){ku(e,n)}else t.current=null}function Ja(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Lo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Ri(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(W(163))}function Za(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(bu(n,e),yu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Lo(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&Qo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Qo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Di(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&ln(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(W(163))}function el(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=st("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function tl(e,t){if(so&&"function"==typeof so.onCommitFiberUnmount)try{so.onCommitFiberUnmount(oo,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))bu(t,n);else{r=t;try{i()}catch(o){ku(r,o)}}n=n.next}while(n!==e)}break;case 1:if(Qa(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){ku(t,o)}break;case 5:Qa(t);break;case 4:al(e,t)}}function nl(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function rl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:{for(var t=e.return;null!==t;){if(rl(t))break e;t=t.return}throw Error(W(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(W(161))}16&n.flags&&(rt(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||rl(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ol(e,n,t):sl(e,n,t)}function ol(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=ki));else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}function sl(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(sl(e,t,n),e=e.sibling;null!==e;)sl(e,t,n),e=e.sibling}function al(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(W(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,a=i,l=a;;)if(tl(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===a)break e;for(;null===l.sibling;){if(null===l.return||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,a=i.stateNode,8===s.nodeType?s.parentNode.removeChild(a):s.removeChild(a)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(tl(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ll(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[_i]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ve(n,r),ct(e,i),t=ct(e,r),i=0;i<o.length;i+=2){var s=o[i],a=o[i+1];"style"===s?at(n,a):"dangerouslySetInnerHTML"===s?nt(n,a):"children"===s?rt(n,a):oe(n,s,a,t)}switch(e){case"input":je(n,r);break;case"textarea":$e(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?We(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?We(n,!!r.multiple,r.defaultValue,!0):We(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(W(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,ln(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Tl=xo(),el(t.child,!0)),void ul(t);case 19:return void ul(t);case 17:return;case 23:case 24:return void el(t,null!==t.memoizedState)}throw Error(W(163))}function ul(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function cl(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var pl=Math.ceil,hl=se.ReactCurrentDispatcher,dl=se.ReactCurrentOwner,fl=0,ml=null,gl=null,vl=0,yl=0,bl=Wi(0),wl=0,El=null,kl=0,Sl=0,Cl=0,Dl=0,xl=null,Tl=0,Ol=1/0;function Rl(){Ol=xo()+500}var Il,Nl=null,Ml=!1,Pl=null,Ll=null,_l=!1,Al=null,Fl=90,zl=[],Ul=[],Vl=null,jl=0,Bl=null,Hl=-1,Kl=0,Wl=0,ql=null,Gl=!1;function $l(){return 0!=(48&fl)?xo():-1!==Hl?Hl:Hl=xo()}function Yl(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===To()?1:2;if(0===Kl&&(Kl=kl),0!==Po.transition){0!==Wl&&(Wl=null!==xl?xl.pendingLanes:0),e=Kl;var t=4186112&~Wl;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=To(),0!=(4&fl)&&98===e?e=xn(12,Kl):e=xn(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Kl),e}function Xl(e,t,n){if(50<jl)throw jl=0,Bl=null,Error(W(185));if(null===(e=Ql(e,t)))return null;Rn(e,t,n),e===ml&&(Cl|=t,4===wl&&eu(e,vl));var r=To();1===t?0!=(8&fl)&&0==(48&fl)?tu(e):(Jl(e,n),0===fl&&(Rl(),No())):(0==(4&fl)||98!==r&&99!==r||(null===Vl?Vl=new Set([e]):Vl.add(e)),Jl(e,n)),xl=e}function Ql(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Jl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-In(s),l=1<<a,u=o[a];if(-1===u){if(0==(l&r)||0!=(l&i)){u=t,Sn(l);var c=kn;o[a]=10<=c?u+250:6<=c?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);s&=~l}if(r=Cn(e,e===ml?vl:0),t=kn,0===r)null!==n&&(n!==wo&&uo(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==wo&&uo(n)}15===t?(n=tu.bind(null,e),null===ko?(ko=[n],So=lo(mo,Mo)):ko.push(n),n=wo):14===t?n=Io(99,tu.bind(null,e)):n=Io(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(W(358,e))}}(t),Zl.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function Zl(e){if(Hl=-1,Wl=Kl=0,0!=(48&fl))throw Error(W(327));var t=e.callbackNode;if(vu()&&e.callbackNode!==t)return null;var n=Cn(e,e===ml?vl:0);if(0===n)return null;var r=n,i=fl;fl|=16;var o=lu();for(ml===e&&vl===r||(Rl(),su(e,r));;)try{pu();break}catch(a){au(e,a)}if(Uo(),hl.current=o,fl=i,null!==gl?r=0:(ml=null,vl=0,r=wl),0!=(kl&Cl))su(e,0);else if(0!==r){if(2===r&&(fl|=64,e.hydrate&&(e.hydrate=!1,Ri(e.containerInfo)),0!==(n=Dn(e))&&(r=uu(e,n))),1===r)throw t=El,su(e,0),eu(e,n),Jl(e,xo()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(W(345));case 2:fu(e);break;case 3:if(eu(e,n),(62914560&n)===n&&10<(r=Tl+500-xo())){if(0!==Cn(e,0))break;if(((i=e.suspendedLanes)&n)!==n){$l(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ti(fu.bind(null,e),r);break}fu(e);break;case 4:if(eu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-In(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=xo()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pl(n/1960))-n)){e.timeoutHandle=Ti(fu.bind(null,e),n);break}fu(e);break;case 5:fu(e);break;default:throw Error(W(329))}}return Jl(e,xo()),e.callbackNode===t?Zl.bind(null,e):null}function eu(e,t){for(t&=~Dl,t&=~Cl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-In(t),r=1<<n;e[n]=-1,t&=~r}}function tu(e){if(0!=(48&fl))throw Error(W(327));if(vu(),e===ml&&0!=(e.expiredLanes&vl)){var t=vl,n=uu(e,t);0!=(kl&Cl)&&(n=uu(e,t=Cn(e,t)))}else n=uu(e,t=Cn(e,0));if(0!==e.tag&&2===n&&(fl|=64,e.hydrate&&(e.hydrate=!1,Ri(e.containerInfo)),0!==(t=Dn(e))&&(n=uu(e,t))),1===n)throw n=El,su(e,0),eu(e,t),Jl(e,xo()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,fu(e),Jl(e,xo()),null}function nu(e,t){var n=fl;fl|=1;try{return e(t)}finally{0===(fl=n)&&(Rl(),No())}}function ru(e,t){var n=fl;fl&=-2,fl|=8;try{return e(t)}finally{0===(fl=n)&&(Rl(),No())}}function iu(e,t){Gi(bl,yl),yl|=t,kl|=t}function ou(){yl=bl.current,qi(bl)}function su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Oi(n)),null!==gl)for(n=gl.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&eo();break;case 3:vs(),qi(Xi),qi(Yi),Ms();break;case 5:bs(r);break;case 4:vs();break;case 13:case 19:qi(ws);break;case 10:Vo(r);break;case 23:case 24:ou()}n=n.return}ml=e,gl=Ou(e.current,null),vl=yl=kl=t,wl=0,El=null,Dl=Cl=Sl=0}function au(e,t){for(;;){var n=gl;try{if(Uo(),Ps.current=fa,Us){for(var r=As.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Us=!1}if(_s=0,zs=Fs=As=null,Vs=!1,dl.current=null,null===n||null===n.return){wl=1,El=t,gl=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=vl,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var p=0!=(1&ws.current),h=s;do{var d;if(d=13===h.tag){var f=h.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var m=h.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!p)}}if(d){var g=h.updateQueue;if(null===g){var v=new Set;v.add(u),h.updateQueue=v}else g.add(u);if(0==(2&h.mode)){if(h.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=Go(-1,1);y.tag=2,$o(a,y)}a.lanes|=1;break e}l=void 0,a=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new Ga,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(a)){l.add(a);var w=Su.bind(null,o,u,a);u.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error((Me(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==wl&&(wl=2),l=Wa(l,a),h=s;do{switch(h.tag){case 3:o=l,h.flags|=4096,t&=-t,h.lanes|=t,Yo(h,$a(0,o,t));break e;case 1:o=l;var E=h.type,k=h.stateNode;if(0==(64&h.flags)&&("function"==typeof E.getDerivedStateFromError||null!==k&&"function"==typeof k.componentDidCatch&&(null===Ll||!Ll.has(k)))){h.flags|=4096,t&=-t,h.lanes|=t,Yo(h,Ya(h,o,t));break e}}h=h.return}while(null!==h)}du(n)}catch(dg){t=dg,gl===n&&null!==n&&(gl=n=n.return);continue}break}}function lu(){var e=hl.current;return hl.current=fa,null===e?fa:e}function uu(e,t){var n=fl;fl|=16;var r=lu();for(ml===e&&vl===t||su(e,t);;)try{cu();break}catch(i){au(e,i)}if(Uo(),fl=n,hl.current=r,null!==gl)throw Error(W(261));return ml=null,vl=0,wl}function cu(){for(;null!==gl;)hu(gl)}function pu(){for(;null!==gl&&!co();)hu(gl)}function hu(e){var t=Il(e.alternate,e,yl);e.memoizedProps=e.pendingProps,null===t?du(e):gl=t,dl.current=null}function du(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=Ha(n,t,yl)))return void(gl=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&yl)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=Ka(t)))return n.flags&=2047,void(gl=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(gl=t);gl=t=e}while(null!==t);0===wl&&(wl=5)}function fu(e){var t=To();return Ro(99,mu.bind(null,e,t)),null}function mu(e,t){do{vu()}while(null!==Al);if(0!=(48&fl))throw Error(W(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,a=e.expirationTimes;0<o;){var l=31-In(o),u=1<<l;i[l]=0,s[l]=-1,a[l]=-1,o&=~u}if(null!==Vl&&0==(24&r)&&Vl.has(e)&&Vl.delete(e),e===ml&&(gl=ml=null,vl=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=fl,fl|=32,dl.current=null,Si=_n,Zr(s=Jr())){if("selectionStart"in s)a={start:s.selectionStart,end:s.selectionEnd};else e:if(a=(a=s.ownerDocument)&&a.defaultView||window,(u=a.getSelection&&a.getSelection())&&0!==u.rangeCount){a=u.anchorNode,o=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{a.nodeType,l.nodeType}catch(dg){a=null;break e}var c=0,p=-1,h=-1,d=0,f=0,m=s,g=null;t:for(;;){for(var v;m!==a||0!==o&&3!==m.nodeType||(p=c+o),m!==l||0!==u&&3!==m.nodeType||(h=c+u),3===m.nodeType&&(c+=m.nodeValue.length),null!==(v=m.firstChild);)g=m,m=v;for(;;){if(m===s)break t;if(g===a&&++d===o&&(p=c),g===l&&++f===u&&(h=c),null!==(v=m.nextSibling))break;g=(m=g).parentNode}m=v}a=-1===p||-1===h?null:{start:p,end:h}}else a=null;a=a||{start:0,end:0}}else a=null;Ci={focusedElem:s,selectionRange:a},_n=!1,ql=null,Gl=!1,Nl=r;do{try{gu()}catch(dg){if(null===Nl)throw Error(W(330));ku(Nl,dg),Nl=Nl.nextEffect}}while(null!==Nl);ql=null,Nl=r;do{try{for(s=e;null!==Nl;){var y=Nl.flags;if(16&y&&rt(Nl.stateNode,""),128&y){var b=Nl.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&y){case 2:il(Nl),Nl.flags&=-3;break;case 6:il(Nl),Nl.flags&=-3,ll(Nl.alternate,Nl);break;case 1024:Nl.flags&=-1025;break;case 1028:Nl.flags&=-1025,ll(Nl.alternate,Nl);break;case 4:ll(Nl.alternate,Nl);break;case 8:al(s,a=Nl);var E=a.alternate;nl(a),null!==E&&nl(E)}Nl=Nl.nextEffect}}catch(dg){if(null===Nl)throw Error(W(330));ku(Nl,dg),Nl=Nl.nextEffect}}while(null!==Nl);if(w=Ci,b=Jr(),y=w.focusedElem,s=w.selectionRange,b!==y&&y&&y.ownerDocument&&Qr(y.ownerDocument.documentElement,y)){null!==s&&Zr(y)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in y?(y.selectionStart=b,y.selectionEnd=Math.min(w,y.value.length)):(w=(b=y.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),a=y.textContent.length,E=Math.min(s.start,a),s=void 0===s.end?E:Math.min(s.end,a),!w.extend&&E>s&&(a=s,s=E,E=a),a=Xr(y,E),o=Xr(y,s),a&&o&&(1!==w.rangeCount||w.anchorNode!==a.node||w.anchorOffset!==a.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((b=b.createRange()).setStart(a.node,a.offset),w.removeAllRanges(),E>s?(w.addRange(b),w.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),w.addRange(b))))),b=[];for(w=y;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<b.length;y++)(w=b[y]).element.scrollLeft=w.left,w.element.scrollTop=w.top}_n=!!Si,Ci=Si=null,e.current=n,Nl=r;do{try{for(y=e;null!==Nl;){var k=Nl.flags;if(36&k&&Za(y,Nl.alternate,Nl),128&k){b=void 0;var S=Nl.ref;if(null!==S){var C=Nl.stateNode;switch(Nl.tag){case 5:b=C;break;default:b=C}"function"==typeof S?S(b):S.current=b}}Nl=Nl.nextEffect}}catch(dg){if(null===Nl)throw Error(W(330));ku(Nl,dg),Nl=Nl.nextEffect}}while(null!==Nl);Nl=null,Eo(),fl=i}else e.current=n;if(_l)_l=!1,Al=e,Fl=t;else for(Nl=r;null!==Nl;)t=Nl.nextEffect,Nl.nextEffect=null,8&Nl.flags&&((k=Nl).sibling=null,k.stateNode=null),Nl=t;if(0===(r=e.pendingLanes)&&(Ll=null),1===r?e===Bl?jl++:(jl=0,Bl=e):jl=0,n=n.stateNode,so&&"function"==typeof so.onCommitFiberRoot)try{so.onCommitFiberRoot(oo,n,void 0,64==(64&n.current.flags))}catch(dg){}if(Jl(e,xo()),Ml)throw Ml=!1,e=Pl,Pl=null,e;return 0!=(8&fl)||No(),null}function gu(){for(;null!==Nl;){var e=Nl.alternate;Gl||null===ql||(0!=(8&Nl.flags)?Ut(Nl,ql)&&(Gl=!0):13===Nl.tag&&cl(e,Nl)&&Ut(Nl,ql)&&(Gl=!0));var t=Nl.flags;0!=(256&t)&&Ja(e,Nl),0==(512&t)||_l||(_l=!0,Io(97,(function(){return vu(),null}))),Nl=Nl.nextEffect}}function vu(){if(90!==Fl){var e=97<Fl?97:Fl;return Fl=90,Ro(e,wu)}return!1}function yu(e,t){zl.push(t,e),_l||(_l=!0,Io(97,(function(){return vu(),null})))}function bu(e,t){Ul.push(t,e),_l||(_l=!0,Io(97,(function(){return vu(),null})))}function wu(){if(null===Al)return!1;var e=Al;if(Al=null,0!=(48&fl))throw Error(W(331));var t=fl;fl|=32;var n=Ul;Ul=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(l){if(null===o)throw Error(W(330));ku(o,l)}}for(n=zl,zl=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var a=i.create;i.destroy=a()}catch(l){if(null===o)throw Error(W(330));ku(o,l)}}for(a=e.current.firstEffect;null!==a;)e=a.nextEffect,a.nextEffect=null,8&a.flags&&(a.sibling=null,a.stateNode=null),a=e;return fl=t,No(),!0}function Eu(e,t,n){$o(e,t=$a(0,t=Wa(n,t),1)),t=$l(),null!==(e=Ql(e,1))&&(Rn(e,1,t),Jl(e,t))}function ku(e,t){if(3===e.tag)Eu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Eu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ll||!Ll.has(r))){var i=Ya(n,e=Wa(t,e),1);if($o(n,i),i=$l(),null!==(n=Ql(n,1)))Rn(n,1,i),Jl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ll||!Ll.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=$l(),e.pingedLanes|=e.suspendedLanes&n,ml===e&&(vl&n)===n&&(4===wl||3===wl&&(62914560&vl)===vl&&500>xo()-Tl?su(e,0):Dl|=n),Jl(e,t)}function Cu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===To()?1:2:(0===Kl&&(Kl=kl),0===(t=Tn(62914560&~Kl))&&(t=4194304))),n=$l(),null!==(e=Ql(e,t))&&(Rn(e,t,n),Jl(e,n))}function Du(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function xu(e,t,n,r){return new Du(e,t,n,r)}function Tu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=xu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Tu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ue:return Iu(n.children,i,o,t);case Ee:s=8,i|=16;break;case ce:s=8,i|=1;break;case pe:return(e=xu(12,n,t,8|i)).elementType=pe,e.type=pe,e.lanes=o,e;case me:return(e=xu(13,n,t,i)).type=me,e.elementType=me,e.lanes=o,e;case ge:return(e=xu(19,n,t,i)).elementType=ge,e.lanes=o,e;case ke:return Nu(n,i,o,t);case Se:return(e=xu(24,n,t,i)).elementType=Se,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case he:s=10;break e;case de:s=9;break e;case fe:s=11;break e;case ve:s=14;break e;case ye:s=16,r=null;break e;case be:s=22;break e}throw Error(W(130,null==e?e:typeof e,""))}return(t=xu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Iu(e,t,n,r){return(e=xu(7,e,r,t)).lanes=n,e}function Nu(e,t,n,r){return(e=xu(23,e,r,t)).elementType=ke,e.lanes=n,e}function Mu(e,t,n){return(e=xu(6,e,null,t)).lanes=n,e}function Pu(e,t,n){return(t=xu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=On(0),this.expirationTimes=On(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=On(0),this.mutableSourceEagerHydrationData=null}function _u(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:le,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Au(e,t,n,r){var i=t.current,o=$l(),s=Yl(i);e:if(n){t:{if(_t(n=n._reactInternals)!==n||1!==n.tag)throw Error(W(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Zi(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(null!==a);throw Error(W(171))}if(1===n.tag){var l=n.type;if(Zi(l)){n=no(n,l,a);break e}}n=a}else n=$i;return null===t.context?t.context=n:t.pendingContext=n,(t=Go(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),$o(i,t),Xl(i,s,o),s}function Fu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Uu(e,t){zu(e,t),(e=e.alternate)&&zu(e,t)}function Vu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Lu(e,t,null!=n&&!0===n.hydrate),t=xu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,Wo(t),e[Ai]=n.current,fi(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Fu(s);a.call(e)}}Au(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Vu(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Fu(s);l.call(e)}}ru((function(){Au(t,s,e,i)}))}return Fu(s)}function Hu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ju(t))throw Error(W(200));return _u(e,t,null,n)}Il=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Xi.current)ba=!0;else{if(0==(n&r)){switch(ba=!1,t.tag){case 3:Ra(t),Is();break;case 5:ys(t);break;case 1:Zi(t.type)&&ro(t);break;case 4:gs(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;Gi(_o,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?La(e,t,n):(Gi(ws,1&ws.current),null!==(t=ja(e,t,n))?t.sibling:null);Gi(ws,1&ws.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Va(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Gi(ws,ws.current),r)break;return null;case 23:case 24:return t.lanes=0,Ca(e,t,n)}return ja(e,t,n)}ba=0!=(16384&e.flags)}else ba=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Ji(t,Yi.current),Bo(t,n),i=Hs(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zi(r)){var o=!0;ro(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Wo(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&Zo(t,r,s,e),i.updater=es,t.stateNode=i,i._reactInternals=t,is(t,r,e,n),t=Oa(null,t,r,!0,o,n)}else t.tag=0,wa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Tu(e)?1:0;if(null!=e){if((e=e.$$typeof)===fe)return 11;if(e===ve)return 14}return 2}(i),e=Lo(i,e),o){case 0:t=xa(null,t,i,e,n);break e;case 1:t=Ta(null,t,i,e,n);break e;case 11:t=Ea(null,t,i,e,n);break e;case 14:t=ka(null,t,i,Lo(i.type,e),r,n);break e}throw Error(W(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:Lo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:Lo(r,i),n);case 3:if(Ra(t),r=t.updateQueue,null===e||null===r)throw Error(W(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,qo(e,t),Xo(t,r,null,n),(r=t.memoizedState.element)===i)Is(),t=ja(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Ss=Ii(t.stateNode.containerInfo.firstChild),ks=t,o=Cs=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Ns.push(o);for(n=cs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else wa(e,t,r,n),Is();t=t.child}return t;case 5:return ys(t),null===e&&Ts(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,xi(r,i)?s=null:null!==o&&xi(r,o)&&(t.flags|=16),Da(e,t),wa(e,t,s,n),t.child;case 6:return null===e&&Ts(t),null;case 13:return La(e,t,n);case 4:return gs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=us(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:Lo(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var a=t.type._context;if(Gi(_o,a._currentValue),a._currentValue=o,null!==s)if(a=s.value,0===(o=qr(a,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(a,o):1073741823))){if(s.children===i.children&&!Xi.current){t=ja(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===a.tag&&((u=Go(-1,n&-n)).tag=2,$o(a,u)),a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),jo(a.return,n),l.lanes|=n;break}u=u.next}}else s=10===a.tag&&a.type===t.type?null:a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Bo(t,n),r=r(i=Ho(i,o.unstable_observedBits)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return o=Lo(i=t.type,t.pendingProps),ka(e,t,i,o=Lo(i.type,o),r,n);case 15:return Sa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lo(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Zi(r)?(e=!0,ro(t)):e=!1,Bo(t,n),ns(t,r,i),is(t,r,i,n),Oa(null,t,r,!0,e,n);case 19:return Va(e,t,n);case 23:case 24:return Ca(e,t,n)}throw Error(W(156,t.tag))},Vu.prototype.render=function(e){Au(e,this._internalRoot,null,null)},Vu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Au(null,e,null,(function(){t[Ai]=null}))},Vt=function(e){13===e.tag&&(Xl(e,4,$l()),Uu(e,4))},jt=function(e){13===e.tag&&(Xl(e,67108864,$l()),Uu(e,67108864))},Bt=function(e){if(13===e.tag){var t=$l(),n=Yl(e);Xl(e,n,t),Uu(e,n)}},Ht=function(e,t){return t()},ht=function(e,t,n){switch(t){case"input":if(je(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ji(r);if(!i)throw Error(W(90));Ae(r),je(r,i)}}}break;case"textarea":$e(e,n);break;case"select":null!=(t=n.value)&&We(e,!!n.multiple,t,!1)}},yt=nu,bt=function(e,t,n,r,i){var o=fl;fl|=4;try{return Ro(98,e.bind(null,t,n,r,i))}finally{0===(fl=o)&&(Rl(),No())}},wt=function(){0==(49&fl)&&(function(){if(null!==Vl){var e=Vl;Vl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Jl(e,xo())}))}No()}(),vu())},Et=function(e,t){var n=fl;fl|=2;try{return e(t)}finally{0===(fl=n)&&(Rl(),No())}};var Ku={Events:[Ui,Vi,ji,gt,vt,vu,{current:!1}]},Wu={findFiberByHostInstance:zi,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},qu={bundleType:Wu.bundleType,version:Wu.version,rendererPackageName:Wu.rendererPackageName,rendererConfig:Wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=zt(e))?null:e.stateNode},findFiberByHostInstance:Wu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{oo=Gu.inject(qu),so=Gu}catch(tt){}}U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ku,U.createPortal=Hu,U.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(W(188));throw Error(W(268,Object.keys(e)))}return e=null===(e=zt(t))?null:e.stateNode},U.flushSync=function(e,t){var n=fl;if(0!=(48&n))return e(t);fl|=1;try{if(e)return Ro(99,e.bind(null,t))}finally{fl=n,No()}},U.hydrate=function(e,t,n){if(!ju(t))throw Error(W(200));return Bu(null,e,t,!0,n)},U.render=function(e,t,n){if(!ju(t))throw Error(W(200));return Bu(null,e,t,!1,n)},U.unmountComponentAtNode=function(e){if(!ju(e))throw Error(W(40));return!!e._reactRootContainer&&(ru((function(){Bu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Ai]=null}))})),!0)},U.unstable_batchedUpdates=nu,U.unstable_createPortal=function(e,t){return Hu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},U.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ju(n))throw Error(W(200));if(null==e||void 0===e._reactInternals)throw Error(W(38));return Bu(e,t,n,!1,r)},U.version="17.0.2",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),z.exports=U;var $u=z.exports;function Yu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xu=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};Yu(Xu,"ripple",!1),Yu(Xu,"locale","en"),Yu(Xu,"autoZIndex",!0),Yu(Xu,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200}),Yu(Xu,"appendTo",null);var Qu={en:{accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",weekHeader:"Wk",firstDayOfWeek:0,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password"}};function Ju(e,t){try{return Zu(t)[e]}catch(n){throw new Error("The ".concat(e," option is not found in the current locale('").concat(t||Xu.locale,"')."))}}function Zu(e){return Qu[e||Xu.locale]}function ec(){return(ec=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tc(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function nc(e,t){return(nc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rc(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,nc(e,t)}Object.freeze({ALIGN_CENTER:"pi pi-align-center",ALIGN_JUSTIFY:"pi pi-align-justify",ALIGN_LEFT:"pi pi-align-left",ALIGN_RIGHT:"pi pi-align-right",AMAZON:"pi pi-amazon",ANDROID:"pi pi-android",ANGLE_DOUBLE_DOWN:"pi pi-angle-double-down",ANGLE_DOUBLE_LEFT:"pi pi-angle-double-left",ANGLE_DOUBLE_RIGHT:"pi pi-angle-double-right",ANGLE_DOUBLE_UP:"pi pi-angle-double-up",ANGLE_DOWN:"pi pi-angle-down",ANGLE_LEFT:"pi pi-angle-left",ANGLE_RIGHT:"pi pi-angle-right",ANGLE_UP:"pi pi-angle-up",APPLE:"pi pi-apple",ARROW_CIRCLE_DOWN:"pi pi-arrow-circle-down",ARROW_CIRCLE_LEFT:"pi pi-arrow-circle-left",ARROW_CIRCLE_RIGHT:"pi pi-arrow-circle-right",ARROW_CIRCLE_UP:"pi pi-arrow-circle-up",ARROW_DOWN:"pi pi-arrow-down",ARROW_LEFT:"pi pi-arrow-left",ARROW_RIGHT:"pi pi-arrow-right",ARROW_UP:"pi pi-arrow-up",BACKWARD:"pi pi-backward",BAN:"pi pi-ban",BARS:"pi pi-bars",BELL:"pi pi-bell",BOOK:"pi pi-book",BOOKMARK:"pi pi-bookmark",BRIEFCASE:"pi pi-briefcase",CALENDAR_MINUS:"pi pi-calendar-minus",CALENDAR_PLUS:"pi pi-calendar-plus",CALENDAR_TIMES:"pi pi-calendar-times",CALENDAR:"pi pi-calendar",CAMERA:"pi pi-camera",CARET_DOWN:"pi pi-caret-down",CARET_LEFT:"pi pi-caret-left",CARET_RIGHT:"pi pi-caret-right",CARET_UP:"pi pi-caret-up",CHART_BAR:"pi pi-chart-bar",CHART_LINE:"pi pi-chart-line",CHECK_CIRCLE:"pi pi-check-circle",CHECK_SQUARE:"pi pi-check-square",CHECK:"pi pi-check",CHEVRON_CIRCLE_DOWN:"pi pi-chevron-circle-down",CHEVRON_CIRCLE_LEFT:"pi pi-chevron-circle-left",CHEVRON_CIRCLE_RIGHT:"pi pi-chevron-circle-right",CHEVRON_CIRCLE_UP:"pi pi-chevron-circle-up",CHEVRON_DOWN:"pi pi-chevron-down",CHEVRON_LEFT:"pi pi-chevron-left",CHEVRON_RIGHT:"pi pi-chevron-right",CHEVRON_UP:"pi pi-chevron-up",CLOCK:"pi pi-clock",CLONE:"pi pi-clone",CLOUD_DOWNLOAD:"pi pi-cloud-download",CLOUD_UPLOAD:"pi pi-cloud-upload",CLOUD:"pi pi-cloud",COG:"pi pi-cog",COMMENT:"pi pi-comment",COMMENTS:"pi pi-comments",COMPASS:"pi pi-compass",COPY:"pi pi-copy",CREDIT_CARD:"pi pi-credit-card",DESKTOP:"pi pi-desktop",DISCORD:"pi pi-discord",DIRECTIONS_ALT:"pi pi-directions-alt",DIRECTIONS:"pi pi-directions",DOLLAR:"pi pi-dollar",DOWNLOAD:"pi pi-download",EJECT:"pi pi-eject",ELLIPSIS_H:"pi pi-ellipsis-h",ELLIPSIS_V:"pi pi-ellipsis-v",ENVELOPE:"pi pi-envelope",EXCLAMATION_CIRCLE:"pi pi-exclamation-circle",EXCLAMATION_TRIANGLE:"pi pi-exclamation-triangle ",EXTERNAL_LINK:"pi pi-external-link",EYE_SLASH:"pi pi-eye-slash",EYE:"pi pi-eye",FACEBOOK:"pi pi-facebook",FAST_BACKWARD:"pi pi-fast-backward",FAST_FORWARD:"pi pi-fast-forward",FILE_EXCEL:"pi pi-file-excel",FILE_O:"pi pi-file-o",FILE_PDF:"pi pi-file-pdf",FILE:"pi pi-file",FILTER:"pi pi-filter",FILTER_SLASH:"pi pi-filter-slash",FLAG:"pi pi-flag",FOLDER_OPEN:"pi pi-folder-open",FOLDER:"pi pi-folder",FORWARD:"pi pi-forward",GITHUB:"pi pi-github",GLOBE:"pi pi-globe",GOOGLE:"pi pi-google",HEART:"pi pi-heart",HOME:"pi pi-home",ID_CARD:"pi pi-id-card",IMAGE:"pi pi-image",IMAGES:"pi pi-images",INBOX:"pi pi-inbox",INFO_CIRCLE:"pi pi-info-circle",INFO:"pi pi-info",KEY:"pi pi-key",LINK:"pi pi-link",LIST:"pi pi-list",LOCK_OPEN:"pi pi-lock-open",LOCK:"pi pi-lock",MAP:"pi pi-map",MAP_MARKER:"pi pi-map-marker",MICROSOFT:"pi pi-microsoft",MINUS_CIRCLE:"pi pi-minus-circle",MINUS:"pi pi-minus",MOBILE:"pi pi-mobile",MONEY_BILL:"pi pi-money-bill",MOON:"pi pi-moon",PALETTE:"pi pi-palette",PAPERCLIP:"pi pi-paperclip",PAUSE:"pi pi-pause",PAYPAL:"pi pi-paypal",PENCIL:"pi pi-pencil",PERCENTAGE:"pi pi-percentage",PHONE:"pi pi-phone",PLAY:"pi pi-play",PLUS_CIRCLE:"pi pi-plus-circle",PLUS:"pi pi-plus",POWER_OFF:"pi pi-power-off",PRINT:"pi pi-print",QUESTION_CIRCLE:"pi pi-question-circle",QUESTION:"pi pi-question",RADIO_OFF:"pi pi-radio-off",RADIO_ON:"pi pi-radio-on",REFRESH:"pi pi-refresh",REPLAY:"pi pi-replay",REPLY:"pi pi-reply",SAVE:"pi pi-save",SEARCH_MINUS:"pi pi-search-minus",SEARCH_PLUS:"pi pi-search-plus",SEARCH:"pi pi-search",SEND:"pi pi-send",SHARE_ALT:"pi pi-share-alt",SHIELD:"pi pi-shield",SHOPPING_CART:"pi pi-shopping-cart",SIGN_IN:"pi pi-sign-in",SIGN_OUT:"pi pi-sign-out",SITEMAP:"pi pi-sitemap",SLACK:"pi pi-slack",SLIDERS_H:"pi pi-sliders-h",SLIDERS_V:"pi pi-sliders-v",SORT_ALPHA_ALT_DOWN:"pi pi-sort-alpha-alt-down",SORT_ALPHA_ALT_UP:"pi pi-sort-alpha-alt-up",SORT_ALPHA_DOWN:"pi pi-sort-alpha-down",SORT_ALPHA_UP:"pi pi-sort-alpha-up",SORT_ALT:"pi pi-sort-alt",SORT_AMOUNT_DOWN_ALT:"pi pi-sort-amount-down-alt",SORT_AMOUNT_DOWN:"pi pi-sort-amount-down",SORT_AMOUNT_UP_ALT:"pi pi-sort-amount-up-alt",SORT_AMOUNT_UP:"pi pi-sort-amount-up",SORT_DOWN:"pi pi-sort-down",SORT_NUMERIC_ALT_DOWN:"pi pi-sort-numeric-alt-down",SORT_NUMERIC_ALT_UP:"pi pi-sort-numeric-alt-up",SORT_NUMERIC_DOWN:"pi pi-sort-numeric-down",SORT_NUMERIC_UP:"pi pi-sort-numeric-up",SORT_UP:"pi pi-sort-up",SORT:"pi pi-sort",SPINNER:"pi pi-spinner",STAR_O:"pi pi-star-o",STAR:"pi pi-star",STEP_BACKWARD_ALT:"pi pi-step-backward-alt",STEP_BACKWARD:"pi pi-step-backward",STEP_FORWARD_ALT:"pi pi-step-forward-alt",STEP_FORWARD:"pi pi-step-forward",SUN:"pi pi-sun",TABLE:"pi pi-table",TABLET:"pi pi-tablet",TAG:"pi pi-tag",TAGS:"pi pi-tags",TH_LARGE:"pi pi-th-large",THUMBS_DOWN:"pi pi-thumbs-down",THUMBS_UP:"pi pi-thumbs-up",TICKET:"pi pi-ticket",TIMES_CIRCLE:"pi pi-times-circle",TIMES:"pi pi-times",TRASH:"pi pi-trash",TWITTER:"pi pi-twitter",UNDO:"pi pi-undo",UNLOCK:"pi pi-unlock",UPLOAD:"pi pi-upload",USER_EDIT:"pi pi-user-edit",USER_MINUS:"pi pi-user-minus",USER_PLUS:"pi pi-user-plus",USER:"pi pi-user",USERS:"pi pi-users",VIDEO:"pi pi-video",VIMEO:"pi pi-vimeo",VOLUME_DOWN:"pi pi-volume-down",VOLUME_OFF:"pi pi-volume-off",VOLUME_UP:"pi pi-volume-up",YOUTUBE:"pi pi-youtube",WALLET:"pi pi-wallet",WIFI:"pi pi-wifi",WINDOW_MAXIMIZE:"pi pi-window-maximize",WINDOW_MINIMIZE:"pi pi-window-minimize"}),Object.freeze({SUCCESS:"success",INFO:"info",WARN:"warn",ERROR:"error"});function ic(){}function oc(){}oc.resetWarningCache=ic;function sc(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}!function(){function e(e,t,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:oc,resetWarningCache:ic};n.PropTypes=n}();var ac=!1,lc=F.createContext(null),uc=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i="exited",r.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}rc(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),"entering"===t?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[$u.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||ac?this.safeSetState({status:"entered"},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:"entering"},(function(){t.props.onEntering(o,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:"entered"},(function(){t.props.onEntered(o,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:$u.findDOMNode(this);t&&!ac?(this.props.onExit(r),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:$u.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var r=tc(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return F.createElement(lc.Provider,{value:null},"function"==typeof n?n(e,r):F.cloneElement(F.Children.only(n),r))},t}(F.Component);function cc(){}uc.contextType=lc,uc.propTypes={},uc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:cc,onEntering:cc,onEntered:cc,onExit:cc,onExiting:cc,onExited:cc},uc.UNMOUNTED="unmounted",uc.EXITED="exited",uc.ENTERING="entering",uc.ENTERED="entered",uc.EXITING="exiting";var pc=uc,hc=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=sc(n.className,r):n.setAttribute("class",sc(n.className&&n.className.baseVal||"",r)));var n,r}))},dc=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}rc(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&hc(e,r),i&&hc(e,i),o&&hc(e,o)},n.render=function(){var e=this.props;e.classNames;var t=tc(e,["classNames"]);return F.createElement(pc,ec({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(F.Component);dc.defaultProps={classNames:""},dc.propTypes={};var fc=dc;function mc(t,n){var r=Object.create(null);return t&&e.exports.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&e.exports.isValidElement(t)?n(t):t}(t)})),r}function gc(e,t,n){return null!=n[t]?n[t]:e.props[t]}function vc(t,n,r){var i=mc(t.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];a[i[l][r]]=n(u)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(n,i);return Object.keys(o).forEach((function(s){var a=o[s];if(e.exports.isValidElement(a)){var l=s in n,u=s in i,c=n[s],p=e.exports.isValidElement(c)&&!c.props.in;!u||l&&!p?u||!l||p?u&&l&&e.exports.isValidElement(c)&&(o[s]=e.exports.cloneElement(a,{onExited:r.bind(null,a),in:c.props.in,exit:gc(a,"exit",t),enter:gc(a,"enter",t)})):o[s]=e.exports.cloneElement(a,{in:!1}):o[s]=e.exports.cloneElement(a,{onExited:r.bind(null,a),in:!0,exit:gc(a,"exit",t),enter:gc(a,"enter",t)})}})),o}var yc=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},bc=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}rc(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,o=n.children,s=n.handleExited;return{children:n.firstRender?(r=t,i=s,mc(r.children,(function(t){return e.exports.cloneElement(t,{onExited:i.bind(null,t),in:!0,appear:gc(t,"appear",r),enter:gc(t,"enter",r),exit:gc(t,"exit",r)})}))):vc(t,o,s),firstRender:!1}},r.handleExited=function(e,t){var n=mc(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=ec({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=tc(e,["component","childFactory"]),i=this.state.contextValue,o=yc(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?F.createElement(lc.Provider,{value:i},o):F.createElement(lc.Provider,{value:i},F.createElement(t,r,o))},n}(F.Component);bc.propTypes={},bc.defaultProps={component:"div",childFactory:function(e){return e}};var wc=bc;function Ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ec(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sc(e){return(Sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t){for(var r=[],i=0;i<t.length;i++){var o=t[i];if(o){var s=Sc(o);if("string"===s||"number"===s)r.push(o);else if("object"===s){var a=Array.isArray(o)?o:Object.entries(o).map((function(e){var t=kc(e,2),n=t[0];return t[1]?n:null}));r=a.length?r.concat(a.filter((function(e){return!!e}))):r}}}return r.join(" ")}}function Dc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tc(e,t,n){return t&&xc(e.prototype,t),n&&xc(e,n),e}function Oc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Rc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rc(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Rc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ic=function(){function e(){Dc(this,e)}return Tc(e,null,[{key:"innerWidth",value:function(e){if(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)}return 0}},{key:"width",value:function(e){if(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)}return 0}},{key:"getWindowScrollTop",value:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},{key:"getOuterWidth",value:function(e,t){if(e){var n=e.offsetWidth;if(t){var r=getComputedStyle(e);n+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return n}return 0}},{key:"getOuterHeight",value:function(e,t){if(e){var n=e.offsetHeight;if(t){var r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}return 0}},{key:"getClientHeight",value:function(e,t){if(e){var n=e.clientHeight;if(t){var r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}return 0}},{key:"getViewport",value:function(){var e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||r.clientWidth,height:e.innerHeight||n.clientHeight||r.clientHeight}}},{key:"getOffset",value:function(e){if(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(e){if(e)for(var t=e.parentNode.childNodes,n=0,r=0;r<t.length;r++){if(t[r]===e)return n;1===t[r].nodeType&&n++}return-1}},{key:"addMultipleClasses",value:function(e,t){if(e&&t)if(e.classList)for(var n=t.split(" "),r=0;r<n.length;r++)e.classList.add(n[r]);else for(var i=t.split(" "),o=0;o<i.length;o++)e.className+=" "+i[o]}},{key:"addClass",value:function(e,t){e&&t&&(e.classList?e.classList.add(t):e.className+=" "+t)}},{key:"removeClass",value:function(e,t){e&&t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(e,t){if(e)return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}},{key:"find",value:function(e,t){return e?Array.from(e.querySelectorAll(t)):[]}},{key:"findSingle",value:function(e,t){return e?e.querySelector(t):null}},{key:"getHeight",value:function(e){if(e){var t=e.offsetHeight,n=getComputedStyle(e);return t-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)}return 0}},{key:"getWidth",value:function(e){if(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)}return 0}},{key:"alignOverlay",value:function(t,n,r){t&&n&&("self"===r?this.relativePosition(t,n):(t.style.minWidth=e.getOuterWidth(n)+"px",this.absolutePosition(t,n)))}},{key:"absolutePosition",value:function(e,t){if(e){var n,r,i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=i.height,s=i.width,a=t.offsetHeight,l=t.offsetWidth,u=t.getBoundingClientRect(),c=this.getWindowScrollTop(),p=this.getWindowScrollLeft(),h=this.getViewport();u.top+a+o>h.height?((n=u.top+c-o)<0&&(n=c),e.style.transformOrigin="bottom"):(n=a+u.top+c,e.style.transformOrigin="top"),r=u.left+l+s>h.width?Math.max(0,u.left+p+l-s):u.left+p,e.style.top=n+"px",e.style.left=r+"px"}}},{key:"relativePosition",value:function(e,t){if(e){var n,r,i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=t.offsetHeight,s=t.getBoundingClientRect(),a=this.getViewport();s.top+o+i.height>a.height?(n=-1*i.height,s.top+n<0&&(n=-1*s.top),e.style.transformOrigin="bottom"):(n=o,e.style.transformOrigin="top"),r=i.width>a.width?-1*s.left:s.left+i.width>a.width?-1*(s.left+i.width-a.width):0,e.style.top=n+"px",e.style.left=r+"px"}}},{key:"flipfitCollision",value:function(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left top",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left bottom",s=arguments.length>4?arguments[4]:void 0,a=n.getBoundingClientRect(),l=this.getViewport(),u=i.split(" "),c=o.split(" "),p=function(e,t){return t?+e.substring(e.search(/(\+|-)/g))||0:e.substring(0,e.search(/(\+|-)/g))||e},h={my:{x:p(u[0]),y:p(u[1]||u[0]),offsetX:p(u[0],!0),offsetY:p(u[1]||u[0],!0)},at:{x:p(c[0]),y:p(c[1]||c[0]),offsetX:p(c[0],!0),offsetY:p(c[1]||c[0],!0)}},d={left:function(){return h.my.offsetX+h.at.offsetX+a.left+("left"===h.my.x?0:-1*("center"===h.my.x?r.getOuterWidth(t)/2:r.getOuterWidth(t)))},top:function(){return h.my.offsetY+h.at.offsetY+a.top+("top"===h.my.y?0:-1*("center"===h.my.y?r.getOuterHeight(t)/2:r.getOuterHeight(t)))}},f={count:{x:0,y:0},left:function(){var n=d.left(),r=e.getWindowScrollLeft();t.style.left=n+r+"px",2===this.count.x?(t.style.left=r+"px",this.count.x=0):n<0&&(this.count.x++,h.my.x="left",h.at.x="right",h.my.offsetX*=-1,h.at.offsetX*=-1,this.right())},right:function(){var r=d.left()+e.getOuterWidth(n),i=e.getWindowScrollLeft();t.style.left=r+i+"px",2===this.count.x?(t.style.left=l.width-e.getOuterWidth(t)+i+"px",this.count.x=0):r+e.getOuterWidth(t)>l.width&&(this.count.x++,h.my.x="right",h.at.x="left",h.my.offsetX*=-1,h.at.offsetX*=-1,this.left())},top:function(){var n=d.top(),r=e.getWindowScrollTop();t.style.top=n+r+"px",2===this.count.y?(t.style.left=r+"px",this.count.y=0):n<0&&(this.count.y++,h.my.y="top",h.at.y="bottom",h.my.offsetY*=-1,h.at.offsetY*=-1,this.bottom())},bottom:function(){var r=d.top()+e.getOuterHeight(n),i=e.getWindowScrollTop();t.style.top=r+i+"px",2===this.count.y?(t.style.left=l.height-e.getOuterHeight(t)+i+"px",this.count.y=0):r+e.getOuterHeight(n)>l.height&&(this.count.y++,h.my.y="bottom",h.at.y="top",h.my.offsetY*=-1,h.at.offsetY*=-1,this.top())},center:function(r){if("y"===r){var i=d.top()+e.getOuterHeight(n)/2;t.style.top=i+e.getWindowScrollTop()+"px",i<0?this.bottom():i+e.getOuterHeight(n)>l.height&&this.top()}else{var o=d.left()+e.getOuterWidth(n)/2;t.style.left=o+e.getWindowScrollLeft()+"px",o<0?this.left():o+e.getOuterWidth(t)>l.width&&this.right()}}};f[h.at.x]("x"),f[h.at.y]("y"),this.isFunction(s)&&s(h)}},{key:"findCollisionPosition",value:function(e){if(e){var t="left"===e?"right":"left";return"top"===e||"bottom"===e?{axis:"y",my:"center ".concat("top"===e?"bottom":"top"),at:"center ".concat(e)}:{axis:"x",my:"".concat(t," center"),at:"".concat(e," center")}}}},{key:"getParents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return null===e.parentNode?t:this.getParents(e.parentNode,t.concat([e.parentNode]))}},{key:"getScrollableParents",value:function(e){var t=[];if(e){var n,r=this.getParents(e),i=/(auto|scroll)/,o=function(e){var t=window.getComputedStyle(e,null);return i.test(t.getPropertyValue("overflow"))||i.test(t.getPropertyValue("overflowX"))||i.test(t.getPropertyValue("overflowY"))},s=Oc(r);try{for(s.s();!(n=s.n()).done;){var a=n.value,l=1===a.nodeType&&a.dataset.scrollselectors;if(l){var u,c=Oc(l.split(","));try{for(c.s();!(u=c.n()).done;){var p=u.value,h=this.findSingle(a,p);h&&o(h)&&t.push(h)}}catch(d){c.e(d)}finally{c.f()}}9!==a.nodeType&&o(a)&&t.push(a)}}catch(d){s.e(d)}finally{s.f()}}return t}},{key:"getHiddenElementOuterHeight",value:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetHeight;return e.style.display="",e.style.visibility="",t}return 0}},{key:"getHiddenElementOuterWidth",value:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetWidth;return e.style.display="",e.style.visibility="",t}return 0}},{key:"getHiddenElementDimensions",value:function(e){var t={};return e&&(e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="",e.style.visibility=""),t}},{key:"fadeIn",value:function(e,t){if(e){e.style.opacity=0;var n=+new Date,r=0;!function i(){r=+e.style.opacity+((new Date).getTime()-n)/t,e.style.opacity=r,n=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))}()}}},{key:"fadeOut",value:function(e,t){if(e)var n=1,r=50/t,i=setInterval((function(){(n-=r)<=0&&(n=0,clearInterval(i)),e.style.opacity=n}),50)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"appendChild",value:function(e,t){if(this.isElement(t))t.appendChild(e);else{if(!t.el||!t.el.nativeElement)throw new Error("Cannot append "+t+" to "+e);t.el.nativeElement.appendChild(e)}}},{key:"removeChild",value:function(e,t){if(this.isElement(t))t.removeChild(e);else{if(!t.el||!t.el.nativeElement)throw new Error("Cannot remove "+e+" from "+t);t.el.nativeElement.removeChild(e)}}},{key:"isElement",value:function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":Sc(HTMLElement))?e instanceof HTMLElement:e&&"object"===Sc(e)&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}},{key:"scrollInView",value:function(e,t){var n=getComputedStyle(e).getPropertyValue("borderTopWidth"),r=n?parseFloat(n):0,i=getComputedStyle(e).getPropertyValue("paddingTop"),o=i?parseFloat(i):0,s=e.getBoundingClientRect(),a=t.getBoundingClientRect().top+document.body.scrollTop-(s.top+document.body.scrollTop)-r-o,l=e.scrollTop,u=e.clientHeight,c=this.getOuterHeight(t);a<0?e.scrollTop=l+a:a+c>u&&(e.scrollTop=l+a-u+c)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}},{key:"calculateScrollbarWidth",value:function(e){if(e){var t=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}if(null!=this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);var r=n.offsetWidth-n.clientWidth;return document.body.removeChild(n),this.calculatedScrollbarWidth=r,r}},{key:"getBrowser",value:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}},{key:"isVisible",value:function(e){return e&&null!=e.offsetParent}},{key:"getFocusableElements",value:function(t){var n,r=[],i=Oc(e.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'));try{for(i.s();!(n=i.n()).done;){var o=n.value;"none"!==getComputedStyle(o).display&&"hidden"!==getComputedStyle(o).visibility&&r.push(o)}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"getFirstFocusableElement",value:function(t){var n=e.getFocusableElements(t);return n.length>0?n[0]:null}},{key:"getLastFocusableElement",value:function(t){var n=e.getFocusableElements(t);return n.length>0?n[n.length-1]:null}},{key:"getCursorOffset",value:function(e,t,n,r){if(e){var i=getComputedStyle(e),o=document.createElement("div");o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.visibility="hidden",o.style.pointerEvents="none",o.style.overflow=i.overflow,o.style.width=i.width,o.style.height=i.height,o.style.padding=i.padding,o.style.border=i.border,o.style.overflowWrap=i.overflowWrap,o.style.whiteSpace=i.whiteSpace,o.style.lineHeight=i.lineHeight,o.innerHTML=t.replace(/\r\n|\r|\n/g,"<br />");var s=document.createElement("span");s.textContent=r,o.appendChild(s);var a=document.createTextNode(n);o.appendChild(a),document.body.appendChild(o);var l=s.offsetLeft,u=s.offsetTop,c=s.clientHeight;return document.body.removeChild(o),{left:Math.abs(l-e.scrollLeft),top:Math.abs(u-e.scrollTop)+c}}return{top:"auto",left:"auto"}}}]),e}(),Nc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};Dc(this,e),this.element=t,this.listener=n}return Tc(e,[{key:"bindScrollListener",value:function(){this.scrollableParents=Ic.getScrollableParents(this.element);for(var e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),e}();var Mc=function(){function e(){Dc(this,e)}return Tc(e,null,[{key:"equals",value:function(e,t,n){return n&&e&&"object"===Sc(e)&&t&&"object"===Sc(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==Sc(e)&&"object"==Sc(t)){var n,r,i,o=Array.isArray(e),s=Array.isArray(t);if(o&&s){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==s)return!1;var a=e instanceof Date,l=t instanceof Date;if(a!==l)return!1;if(a&&l)return e.getTime()===t.getTime();var u=e instanceof RegExp,c=t instanceof RegExp;if(u!==c)return!1;if(u&&c)return e.toString()===t.toString();var p=Object.keys(e);if((r=p.length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,p[n]))return!1;for(n=r;0!=n--;)if(i=p[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!=e&&t!=t}},{key:"resolveFieldData",value:function(e,t){if(e&&Object.keys(e).length&&t){if(this.isFunction(t))return t(e);if(-1===t.indexOf("."))return e[t];for(var n=t.split("."),r=e,i=0,o=n.length;i<o;++i){if(null==r)return null;r=r[n[i]]}return r}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reorderArray",value:function(e,t,n){var r;if(e&&t!==n){if(n>=e.length)for(r=n-e.length;1+r--;)e.push(void 0);e.splice(n,0,e.splice(t,1)[0])}}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"isEmpty",value:function(e){return null==e||""===e||Array.isArray(e)&&0===e.length||"object"===Sc(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}}]),e}();function Pc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Lc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lc(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _c=function(){function e(){Dc(this,e)}return Tc(e,null,[{key:"filter",value:function(t,n,r,i,o){var s=[],a=Mc.removeAccents(r).toLocaleLowerCase(o);if(t){var l,u=Pc(t);try{for(u.s();!(l=u.n()).done;){var c,p=l.value,h=Pc(n);try{for(h.s();!(c=h.n()).done;){var d=c.value,f=Mc.removeAccents(String(Mc.resolveFieldData(p,d))).toLocaleLowerCase(o);if(e[i](f,a,o)){s.push(p);break}}}catch(m){h.e(m)}finally{h.f()}}}catch(m){u.e(m)}finally{u.f()}}return s}},{key:"startsWith",value:function(e,t,n){if(null==t||""===t.trim())return!0;if(null==e)return!1;var r=Mc.removeAccents(t.toString()).toLocaleLowerCase(n);return Mc.removeAccents(e.toString()).toLocaleLowerCase(n).slice(0,r.length)===r}},{key:"contains",value:function(e,t,n){if(null==t||"string"==typeof t&&""===t.trim())return!0;if(null==e)return!1;var r=Mc.removeAccents(t.toString()).toLocaleLowerCase(n);return-1!==Mc.removeAccents(e.toString()).toLocaleLowerCase(n).indexOf(r)}},{key:"endsWith",value:function(e,t,n){if(null==t||""===t.trim())return!0;if(null==e)return!1;var r=Mc.removeAccents(t.toString()).toLocaleLowerCase(n),i=Mc.removeAccents(e.toString()).toLocaleLowerCase(n);return-1!==i.indexOf(r,i.length-r.length)}},{key:"equals",value:function(e,t,n){return null==t||"string"==typeof t&&""===t.trim()||null!=e&&(e.getTime&&t.getTime?e.getTime()===t.getTime():Mc.removeAccents(e.toString()).toLocaleLowerCase(n)===Mc.removeAccents(t.toString()).toLocaleLowerCase(n))}},{key:"notEquals",value:function(e,t,n){return null!=t&&("string"!=typeof t||""!==t.trim())&&(null==e||(e.getTime&&t.getTime?e.getTime()!==t.getTime():Mc.removeAccents(e.toString()).toLocaleLowerCase(n)!==Mc.removeAccents(t.toString()).toLocaleLowerCase(n)))}},{key:"in",value:function(e,t,n){if(null==t||0===t.length)return!0;if(null==e)return!1;for(var r=0;r<t.length;r++)if(Mc.equals(e,t[r]))return!0;return!1}},{key:"lt",value:function(e,t,n){return!!(null==t||t.trim&&0===t.trim().length)||null!=e&&(e.getTime&&t.getTime?e.getTime()<t.getTime():e<parseFloat(t))}},{key:"lte",value:function(e,t,n){return!!(null==t||t.trim&&0===t.trim().length)||null!=e&&(e.getTime&&t.getTime?e.getTime()<=t.getTime():e<=parseFloat(t))}},{key:"gt",value:function(e,t,n){return!!(null==t||t.trim&&0===t.trim().length)||null!=e&&(e.getTime&&t.getTime?e.getTime()>t.getTime():e>parseFloat(t))}},{key:"gte",value:function(e,t,n){return!!(null==t||t.trim&&0===t.trim().length)||null!=e&&(e.getTime&&t.getTime?e.getTime()>=t.getTime():e>=parseFloat(t))}}]),e}();function Ac(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fc(Object(n),!0).forEach((function(t){Ac(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uc(e,t){var n,r,i,o,s,a,l,u,c,p,h,d;t=zc(zc({},{mask:null,slotChar:"_",autoClear:!0,unmask:!1,readOnly:!1,onComplete:null,onChange:null,onFocus:null,onBlur:null}),t);var f=function(t,n){var r,i,o;if(e.offsetParent&&e===document.activeElement)return"number"!=typeof t?(e.setSelectionRange?(i=e.selectionStart,o=e.selectionEnd):document.selection&&document.selection.createRange&&(o=(i=0-(r=document.selection.createRange()).duplicate().moveStart("character",-1e5))+r.text.length),{begin:i,end:o}):(i=t,o="number"==typeof n?n:i,void(e.setSelectionRange?e.setSelectionRange(i,o):e.createTextRange&&((r=e.createTextRange()).collapse(!0),r.moveEnd("character",o),r.moveStart("character",i),r.select())))},m=function(){for(var e=o;e<=l;e++)if(n[e]&&h[e]===g(e))return!1;return!0},g=function(e){return e<t.slotChar.length?t.slotChar.charAt(e):t.slotChar.charAt(0)},v=function(){return t.unmask?R():e&&e.value},y=function(e){for(;++e<i&&!n[e];);return e},b=function(e,t){var r,s;if(!(e<0)){for(r=e,s=y(t);r<i;r++)if(n[r]){if(!(s<i&&n[r].test(h[s])))break;h[r]=h[s],h[s]=g(s),s=y(s)}C(),f(Math.max(o,e))}},w=function(n){if(D(),I(n),t.onBlur&&t.onBlur(n),e.value!==c){var r=document.createEvent("HTMLEvents");r.initEvent("change",!0,!1),e.dispatchEvent(r)}},E=function(r){if(!t.readOnly){var i,o,s,a=r.which||r.keyCode,l=/iphone/i.test(Ic.getUserAgent());u=e.value,8===a||46===a||l&&127===a?(o=(i=f()).begin,(s=i.end)-o==0&&(o=46!==a?function(e){for(;--e>=0&&!n[e];);return e}(o):s=y(o-1),s=46===a?y(s):s),S(o,s),b(o,s-1),I(r),r.preventDefault()):13===a?(w(r),I(r)):27===a&&(e.value=c,f(0,D()),I(r),r.preventDefault())}},k=function(e){if(!t.readOnly){var r,o,s,a,u=e.which||e.keyCode,c=f();if(!(e.ctrlKey||e.altKey||e.metaKey||u<32)){if(u&&13!==u){if(c.end-c.begin!=0&&(S(c.begin,c.end),b(c.begin,c.end-1)),(r=y(c.begin-1))<i&&(o=String.fromCharCode(u),n[r].test(o))){if(function(e){var t,r,o,s;for(t=e,r=g(e);t<i;t++)if(n[t]){if(o=y(t),s=h[t],h[t]=r,!(o<i&&n[o].test(s)))break;r=s}}(r),h[r]=o,C(),s=y(r),/android/i.test(Ic.getUserAgent())){setTimeout((function(){f(s)}),0)}else f(s);c.begin<=l&&(a=m())}e.preventDefault()}I(e),t.onComplete&&a&&t.onComplete({originalEvent:e,value:v()})}}},S=function(e,t){var r;for(r=e;r<t&&r<i;r++)n[r]&&(h[r]=g(r))},C=function(){e.value=h.join("")},D=function(s){var a,l,u,c=e.value,p=-1;for(a=0,u=0;a<i;a++)if(n[a]){for(h[a]=g(a);u++<c.length;)if(l=c.charAt(u-1),n[a].test(l)){h[a]=l,p=a;break}if(u>c.length){S(a+1,i);break}}else h[a]===c.charAt(u)&&u++,a<r&&(p=a);return s?C():p+1<r?t.autoClear||h.join("")===d?(e.value&&(e.value=""),S(0,i)):C():(C(),e.value=e.value.substring(0,p+1)),r?a:o},x=function(n){var r;t.readOnly||(clearTimeout(p),c=e.value,r=D(),p=setTimeout((function(){e===document.activeElement&&(C(),r===t.mask.replace("?","").length?f(0,r):f(r))}),10),t.onFocus&&t.onFocus(n))},T=function(r){a?function(r){var s=e.value,a=f();if(u&&u.length&&u.length>s.length){for(D(!0);a.begin>0&&!n[a.begin-1];)a.begin--;if(0===a.begin)for(;a.begin<o&&!n[a.begin];)a.begin++;f(a.begin,a.begin)}else{for(D(!0);a.begin<i&&!n[a.begin];)a.begin++;f(a.begin,a.begin)}t.onComplete&&m()&&t.onComplete({originalEvent:r,value:v()})}(r):O(r)},O=function(e){if(!t.readOnly){var n=D(!0);f(n),I(e),t.onComplete&&m()&&t.onComplete({originalEvent:e,value:v()})}},R=function(){for(var e=[],t=0;t<h.length;t++){var r=h[t];n[t]&&r!==g(t)&&e.push(r)}return e.join("")},I=function(e){if(t.onChange){var n=v().replace(t.slotChar,"");t.onChange({originalEvent:e,value:d!==n?n:""})}},N=function(){e.addEventListener("focus",x),e.addEventListener("blur",w),e.addEventListener("keydown",E),e.addEventListener("keypress",k),e.addEventListener("input",T),e.addEventListener("paste",O)},M=function(){n=[],r=t.mask.length,i=t.mask.length,o=null,s={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};var e=Ic.getUserAgent();a=/chrome/i.test(e)&&/android/i.test(e);for(var u=t.mask.split(""),c=0;c<u.length;c++){var p=u[c];"?"===p?(i--,r=c):s[p]?(n.push(new RegExp(s[p])),null===o&&(o=n.length-1),c<r&&(l=n.length-1)):n.push(null)}h=[];for(var f=0;f<u.length;f++){var m=u[f];"?"!==m&&(s[m]?h.push(g(f)):h.push(m))}d=h.join("")};return e&&t.mask&&(M(),N()),{init:M,bindEvents:N,unbindEvents:function(){e.removeEventListener("focus",x),e.removeEventListener("blur",w),e.removeEventListener("keydown",E),e.removeEventListener("keypress",k),e.removeEventListener("input",T),e.removeEventListener("paste",O)},updateModel:I,getValue:v}}var Vc=0;function jc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_";return Vc++,"".concat(e).concat(Vc)}var Bc,Hc,Kc,Wc=(Bc=[],Hc=function(e){return Xu.zIndex[e]||999},Kc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Bc||[]).reverse().find((function(t){return!!Xu.autoZIndex||t.key===e}))||{key:e,value:t}},{get:function(e){return e&&parseInt(e.style.zIndex,10)||0},set:function(e,t,n){t&&(t.style.zIndex=String(function(e,t){t=t||Hc(e);var n=Kc(e,t),r=n.value+(n.key===e?0:t)+1;return Bc.push({key:e,value:r}),r}(e,n)))},clear:function(e){var t;e&&(t=Wc.get(e),Bc=Bc.filter((function(e){return e.value!==t})),e.style.zIndex="")},getBase:function(e){return Hc(e)},getCurrent:function(e){return function(e){return Kc(e).value}(e)}});function qc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gc(e,t){return(Gc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gc(e,t)}function Yc(e,t){return!t||"object"!==Sc(t)&&"function"!=typeof t?qc(e):t}function Xc(e){return(Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xc(e);if(t){var i=Xc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yc(this,n)}}var Jc=function(t){$c(r,e.exports.Component);var n=Qc(r);function r(e){var t;return Dc(this,r),(t=n.call(this,e)).onMouseDown=t.onMouseDown.bind(qc(t)),t}return Tc(r,[{key:"getTarget",value:function(){return this.ink&&this.ink.parentElement}},{key:"bindEvents",value:function(){this.target&&this.target.addEventListener("mousedown",this.onMouseDown)}},{key:"unbindEvents",value:function(){this.target&&this.target.removeEventListener("mousedown",this.onMouseDown)}},{key:"onMouseDown",value:function(e){if(this.ink&&"none"!==getComputedStyle(this.ink,null).display){if(Ic.removeClass(this.ink,"p-ink-active"),!Ic.getHeight(this.ink)&&!Ic.getWidth(this.ink)){var t=Math.max(Ic.getOuterWidth(this.target),Ic.getOuterHeight(this.target));this.ink.style.height=t+"px",this.ink.style.width=t+"px"}var n=Ic.getOffset(this.target),r=e.pageX-n.left+document.body.scrollTop-Ic.getWidth(this.ink)/2,i=e.pageY-n.top+document.body.scrollLeft-Ic.getHeight(this.ink)/2;this.ink.style.top=i+"px",this.ink.style.left=r+"px",Ic.addClass(this.ink,"p-ink-active")}}},{key:"onAnimationEnd",value:function(e){Ic.removeClass(e.currentTarget,"p-ink-active")}},{key:"componentDidMount",value:function(){this.ink&&(this.target=this.getTarget(),this.bindEvents())}},{key:"componentDidUpdate",value:function(){this.ink&&!this.target&&(this.target=this.getTarget(),this.bindEvents())}},{key:"componentWillUnmount",value:function(){this.ink&&(this.target=null,this.unbindEvents())}},{key:"render",value:function(){var e=this;return Xu.ripple&&F.createElement("span",{ref:function(t){return e.ink=t},className:"p-ink",onAnimationEnd:this.onAnimationEnd})}}]),r}(),Zc=function(){function e(){Dc(this,e)}return Tc(e,null,[{key:"isNavKeyPress",value:function(t){var n=t.keyCode;return(n=Ic.getBrowser().safari&&e.SAFARI_KEYS[n]||n)>=33&&n<=40||n===e.KEYS.RETURN||n===e.KEYS.TAB||n===e.KEYS.ESC}},{key:"isSpecialKey",value:function(e){var t=e.keyCode;return 9===t||13===t||27===t||16===t||17===t||t>=18&&t<=20||Ic.getBrowser().opera&&!e.shiftKey&&(8===t||t>=33&&t<=35||t>=36&&t<=39||t>=44&&t<=45)}},{key:"getKey",value:function(t){var n=t.keyCode||t.charCode;return Ic.getBrowser().safari&&e.SAFARI_KEYS[n]||n}},{key:"getCharCode",value:function(e){return e.charCode||e.keyCode||e.which}},{key:"onKeyPress",value:function(t,n,r){if(!r){var i=e.DEFAULT_MASKS[n]?e.DEFAULT_MASKS[n]:n,o=Ic.getBrowser();if(!t.ctrlKey&&!t.altKey){var s=this.getKey(t);if(!o.mozilla||!(this.isNavKeyPress(t)||s===e.KEYS.BACKSPACE||s===e.KEYS.DELETE&&0===t.charCode)){var a=this.getCharCode(t),l=String.fromCharCode(a);(!o.mozilla||!this.isSpecialKey(t)&&l)&&(i.test(l)||t.preventDefault())}}}}},{key:"validate",value:function(e,t){var n=e.target.value,r=!0;return n&&!t.test(n)&&(r=!1),r}}]),e}();function ep(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xc(e);if(t){var i=Xc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yc(this,n)}}Ac(Zc,"DEFAULT_MASKS",{pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i}),Ac(Zc,"KEYS",{TAB:9,RETURN:13,ESC:27,BACKSPACE:8,DELETE:46}),Ac(Zc,"SAFARI_KEYS",{63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35});var tp=function(t){$c(r,e.exports.Component);var n=ep(r);function r(e){var t;return Dc(this,r),(t=n.call(this,e)).state={mounted:e.visible},t}return Tc(r,[{key:"hasDOM",value:function(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}},{key:"componentDidMount",value:function(){this.hasDOM()&&!this.state.mounted&&this.setState({mounted:!0},this.props.onMounted)}},{key:"componentWillUnmount",value:function(){this.props.onUnmounted&&this.props.onUnmounted()}},{key:"render",value:function(){if(this.props.element&&this.state.mounted){var e=this.props.appendTo||Xu.appendTo||document.body;return"self"===e?this.props.element:$u.createPortal(this.props.element,e)}return null}}]),r}();function np(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xc(e);if(t){var i=Xc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yc(this,n)}}function rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ip(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rp(Object(n),!0).forEach((function(t){Ac(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function op(e){var t=e.appendTo||document.body,n=document.createDocumentFragment();Ic.appendChild(n,t),e=ip(ip({},e),e.options);var r=F.createElement(sp,e);$u.render(r,n);var i=function(t){e=ip(ip({},e),t),$u.render(F.cloneElement(r,e),n)};return{destroy:function(){$u.unmountComponentAtNode(n)},updateContent:function(e){console.warn("The 'updateContent' method has been deprecated on Tooltip. Use update(newProps) method."),i({content:e})},update:function(e){i(e)}}}Ac(tp,"defaultProps",{element:null,appendTo:null,visible:!1,onMounted:null,onUnmounted:null});var sp=function(t){$c(r,e.exports.Component);var n=np(r);function r(e){var t;return Dc(this,r),(t=n.call(this,e)).state={visible:!1,position:t.props.position},t.show=t.show.bind(qc(t)),t.hide=t.hide.bind(qc(t)),t.onMouseEnter=t.onMouseEnter.bind(qc(t)),t.onMouseLeave=t.onMouseLeave.bind(qc(t)),t}return Tc(r,[{key:"isTargetContentEmpty",value:function(e){return!(this.props.content||this.getTargetOption(e,"tooltip"))}},{key:"isContentEmpty",value:function(e){return!(this.props.content||this.getTargetOption(e,"tooltip")||this.props.children)}},{key:"isMouseTrack",value:function(e){return this.getTargetOption(e,"mousetrack")||this.props.mouseTrack}},{key:"isDisabled",value:function(e){return"true"===this.getTargetOption(e,"disabled")||this.hasTargetOption(e,"disabled")||this.props.disabled}},{key:"isAutoHide",value:function(){return this.getTargetOption(this.currentTarget,"autohide")||this.props.autoHide}},{key:"getTargetOption",value:function(e,t){return this.hasTargetOption(e,"data-pr-".concat(t))?e.getAttribute("data-pr-".concat(t)):null}},{key:"hasTargetOption",value:function(e,t){return e&&e.hasAttribute(t)}},{key:"getEvents",value:function(e){var t=this.getTargetOption(e,"showevent")||this.props.showEvent,n=this.getTargetOption(e,"hideevent")||this.props.hideEvent;this.isMouseTrack(e)?(t="mousemove",n="mouseleave"):"focus"===(this.getTargetOption(e,"event")||this.props.event)&&(t="focus",n="blur");return{showEvent:t,hideEvent:n}}},{key:"getPosition",value:function(e){return this.getTargetOption(e,"position")||this.state.position}},{key:"getMouseTrackPosition",value:function(e){return{top:this.getTargetOption(e,"mousetracktop")||this.props.mouseTrackTop,left:this.getTargetOption(e,"mousetrackleft")||this.props.mouseTrackLeft}}},{key:"updateText",value:function(e,t){if(this.tooltipTextEl){var n=this.getTargetOption(e,"tooltip")||this.props.content;n?(this.tooltipTextEl.innerHTML="",this.tooltipTextEl.appendChild(document.createTextNode(n)),t()):this.props.children&&t()}}},{key:"show",value:function(e){var t=this;if(this.currentTarget=e.currentTarget,!this.isContentEmpty(this.currentTarget)&&!this.isDisabled(this.currentTarget)){var n=function(){t.updateText(t.currentTarget,(function(){t.props.autoZIndex&&!Wc.get(t.containerEl)&&Wc.set("tooltip",t.containerEl,t.props.baseZIndex),t.containerEl.style.left="",t.containerEl.style.top="",t.isMouseTrack(t.currentTarget)&&!t.containerSize&&(t.containerSize={width:Ic.getOuterWidth(t.containerEl),height:Ic.getOuterHeight(t.containerEl)}),t.align(t.currentTarget,{x:e.pageX,y:e.pageY})}))};this.state.visible?this.applyDelay("updateDelay",n):(this.sendCallback(this.props.onBeforeShow,{originalEvent:e,target:this.currentTarget}),this.applyDelay("showDelay",(function(){t.setState({visible:!0,position:t.getPosition(t.currentTarget)},(function(){n(),t.sendCallback(t.props.onShow,{originalEvent:e,target:t.currentTarget})})),t.bindDocumentResizeListener(),t.bindScrollListener(),Ic.addClass(t.currentTarget,t.getTargetOption(t.currentTarget,"classname"))})))}}},{key:"hide",value:function(e){var t=this;this.clearTimeouts(),this.state.visible&&(Ic.removeClass(this.currentTarget,this.getTargetOption(this.currentTarget,"classname")),this.sendCallback(this.props.onBeforeHide,{originalEvent:e,target:this.currentTarget}),this.applyDelay("hideDelay",(function(){Wc.clear(t.containerEl),Ic.removeClass(t.containerEl,"p-tooltip-active"),(t.isAutoHide()||!1!==t.allowHide)&&t.setState({visible:!1,position:t.props.position},(function(){t.tooltipTextEl&&$u.unmountComponentAtNode(t.tooltipTextEl),t.unbindDocumentResizeListener(),t.unbindScrollListener(),t.currentTarget=null,t.scrollHandler=null,t.containerSize=null,t.allowHide=!0,t.sendCallback(t.props.onHide,{originalEvent:e,target:t.currentTarget})}))})))}},{key:"align",value:function(e,t){var n=this,r=0,i=0;if(this.isMouseTrack(e)&&t){var o={width:Ic.getOuterWidth(this.containerEl),height:Ic.getOuterHeight(this.containerEl)};r=t.x,i=t.y;var s=this.getMouseTrackPosition(e),a=s.top,l=s.left;switch(this.state.position){case"left":r-=o.width+l,i-=o.height/2-a;break;case"right":r+=l,i-=o.height/2-a;break;case"top":r-=o.width/2-l,i-=o.height+a;break;case"bottom":r-=o.width/2-l,i+=a}r<=0||this.containerSize.width>o.width?(this.containerEl.style.left="0px",this.containerEl.style.right=window.innerWidth-o.width-r+"px"):(this.containerEl.style.right="",this.containerEl.style.left=r+"px"),this.containerEl.style.top=i+"px",Ic.addClass(this.containerEl,"p-tooltip-active")}else{var u=Ic.findCollisionPosition(this.state.position),c=this.getTargetOption(e,"my")||this.props.my||u.my,p=this.getTargetOption(e,"at")||this.props.at||u.at;this.containerEl.style.padding="0px",Ic.flipfitCollision(this.containerEl,e,c,p,(function(e){var t=e.at,r=t.x,i=t.y,o=e.my.x,s=n.props.at?"center"!==r&&r!==o?r:i:e.at["".concat(u.axis)];n.containerEl.style.padding="",n.setState({position:s},(function(){n.updateContainerPosition(),Ic.addClass(n.containerEl,"p-tooltip-active")}))}))}}},{key:"updateContainerPosition",value:function(){if(this.containerEl){var e=getComputedStyle(this.containerEl);"left"===this.state.position?this.containerEl.style.left=parseFloat(e.left)-2*parseFloat(e.paddingLeft)+"px":"top"===this.state.position&&(this.containerEl.style.top=parseFloat(e.top)-2*parseFloat(e.paddingTop)+"px")}}},{key:"onMouseEnter",value:function(){this.isAutoHide()||(this.allowHide=!1)}},{key:"onMouseLeave",value:function(e){this.isAutoHide()||(this.allowHide=!0,this.hide(e))}},{key:"bindDocumentResizeListener",value:function(){var e=this;this.documentResizeListener=function(t){Ic.isAndroid()||e.hide(t)},window.addEventListener("resize",this.documentResizeListener)}},{key:"unbindDocumentResizeListener",value:function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}},{key:"bindScrollListener",value:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Nc(this.currentTarget,(function(t){e.state.visible&&e.hide(t)}))),this.scrollHandler.bindScrollListener()}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"bindTargetEvent",value:function(e){if(e){var t=this.getEvents(e),n=t.showEvent,r=t.hideEvent;e.addEventListener(n,this.show),e.addEventListener(r,this.hide)}}},{key:"unbindTargetEvent",value:function(e){if(e){var t=this.getEvents(e),n=t.showEvent,r=t.hideEvent;e.removeEventListener(n,this.show),e.removeEventListener(r,this.hide)}}},{key:"applyDelay",value:function(e,t){this.clearTimeouts();var n=this.getTargetOption(this.currentTarget,e.toLowerCase())||this.props[e];n?this["".concat(e,"Timeout")]=setTimeout((function(){return t()}),n):t()}},{key:"sendCallback",value:function(e){if(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.apply(void 0,n)}}},{key:"clearTimeouts",value:function(){clearTimeout(this.showDelayTimeout),clearTimeout(this.updateDelayTimeout),clearTimeout(this.hideDelayTimeout)}},{key:"updateTargetEvents",value:function(e){this.unloadTargetEvents(e),this.loadTargetEvents(e)}},{key:"loadTargetEvents",value:function(e){this.setTargetEventOperations(e||this.props.target,"bindTargetEvent")}},{key:"unloadTargetEvents",value:function(e){this.setTargetEventOperations(e||this.props.target,"unbindTargetEvent")}},{key:"setTargetEventOperations",value:function(e,t){var n=this;if(e)if(Ic.isElement(e))this[t](e);else{var r=function(e){Ic.find(document,e).forEach((function(e){n[t](e)}))};e instanceof Array?e.forEach((function(e){r(e)})):r(e)}}},{key:"componentDidMount",value:function(){this.props.target&&this.loadTargetEvents()}},{key:"componentDidUpdate",value:function(e,t){var n=this;e.target!==this.props.target&&(this.unloadTargetEvents(e.target),this.loadTargetEvents()),this.state.visible&&(e.content!==this.props.content&&this.applyDelay("updateDelay",(function(){n.updateText(n.currentTarget,(function(){n.align(n.currentTarget)}))})),this.currentTarget&&this.isDisabled(this.currentTarget)&&this.hide())}},{key:"componentWillUnmount",value:function(){this.clearTimeouts(),this.unbindDocumentResizeListener(),this.unloadTargetEvents(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),Wc.clear(this.containerEl)}},{key:"renderElement",value:function(){var e=this,t=Cc("p-tooltip p-component",Ac({},"p-tooltip-".concat(this.state.position),!0),this.props.className),n=this.isTargetContentEmpty(this.currentTarget);return F.createElement("div",{id:this.props.id,ref:function(t){return e.containerEl=t},className:t,style:this.props.style,role:"tooltip","aria-hidden":this.state.visible,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},F.createElement("div",{className:"p-tooltip-arrow"}),F.createElement("div",{ref:function(t){return e.tooltipTextEl=t},className:"p-tooltip-text"},n&&this.props.children))}},{key:"render",value:function(){if(this.state.visible){var e=this.renderElement();return F.createElement(tp,{element:e,appendTo:this.props.appendTo,visible:!0})}return null}}]),r}();Ac(sp,"defaultProps",{id:null,target:null,content:null,disabled:!1,className:null,style:null,appendTo:null,position:"right",my:null,at:null,event:null,showEvent:"mouseenter",hideEvent:"mouseleave",autoZIndex:!0,baseZIndex:0,mouseTrack:!1,mouseTrackTop:5,mouseTrackLeft:5,showDelay:0,updateDelay:0,hideDelay:0,autoHide:!0,onBeforeShow:null,onBeforeHide:null,onShow:null,onHide:null});var ap,lp=(ap=new Map,{on:function(e,t){var n=ap.get(e);n?n.push(t):n=[t],ap.set(e,n)},off:function(e,t){var n=ap.get(e);n&&n.splice(n.indexOf(t)>>>0,1)},emit:function(e,t){var n=ap.get(e);n&&n.slice().forEach((function(e){return e(t)}))}});function up(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?up(Object(n),!0).forEach((function(t){Ac(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):up(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xc(e);if(t){var i=Xc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yc(this,n)}}var hp=function(t){$c(r,e.exports.Component);var n=pp(r);function r(e){var t;return Dc(this,r),(t=n.call(this,e)).onEnter=t.onEnter.bind(qc(t)),t.onEntering=t.onEntering.bind(qc(t)),t.onEntered=t.onEntered.bind(qc(t)),t.onExit=t.onExit.bind(qc(t)),t.onExiting=t.onExiting.bind(qc(t)),t.onExited=t.onExited.bind(qc(t)),t}return Tc(r,[{key:"onEnter",value:function(e,t){this.props.onEnter&&this.props.onEnter(e,t),this.props.options&&this.props.options.onEnter&&this.props.options.onEnter(e,t)}},{key:"onEntering",value:function(e,t){this.props.onEntering&&this.props.onEntering(e,t),this.props.options&&this.props.options.onEntering&&this.props.options.onEntering(e,t)}},{key:"onEntered",value:function(e,t){this.props.onEntered&&this.props.onEntered(e,t),this.props.options&&this.props.options.onEntered&&this.props.options.onEntered(e,t)}},{key:"onExit",value:function(e){this.props.onExit&&this.props.onExit(e),this.props.options&&this.props.options.onExit&&this.props.options.onExit(e)}},{key:"onExiting",value:function(e){this.props.onExiting&&this.props.onExiting(e),this.props.options&&this.props.options.onExiting&&this.props.options.onExiting(e)}},{key:"onExited",value:function(e){this.props.onExited&&this.props.onExited(e),this.props.options&&this.props.options.onExited&&this.props.options.onExited(e)}},{key:"render",value:function(){var e={nodeRef:this.props.nodeRef,in:this.props.in,onEnter:this.onEnter,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited},t=cp(cp(cp({},{classNames:this.props.classNames,timeout:this.props.timeout,unmountOnExit:this.props.unmountOnExit}),this.props.options||{}),e);return F.createElement(fc,t,this.props.children)}}]),r}();function dp(){return(dp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gp(e,t){return(gp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vp(e){return(vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yp(e,t){return!t||"object"!==vp(t)&&"function"!=typeof t?mp(e):t}function bp(e){return(bp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bp(e);if(t){var i=bp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yp(this,n)}}var Sp=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gp(e,t)}(s,e.exports.Component);var n,r,i,o=kp(s);function s(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this,t)).onInput=n.onInput.bind(mp(n)),n.onKeyPress=n.onKeyPress.bind(mp(n)),n.elementRef=e.exports.createRef(n.props.forwardRef),n}return n=s,(r=[{key:"isFilled",value:function(){return null!=this.props.value&&this.props.value.toString().length>0||null!=this.props.defaultValue&&this.props.defaultValue.toString().length>0||this.elementRef&&this.elementRef.current&&null!=this.elementRef.current.value&&this.elementRef.current.value.toString().length>0}},{key:"onKeyPress",value:function(e){this.props.onKeyPress&&this.props.onKeyPress(e),this.props.keyfilter&&Zc.onKeyPress(e,this.props.keyfilter,this.props.validateOnly)}},{key:"onInput",value:function(e){var t=!0;this.props.keyfilter&&this.props.validateOnly&&(t=Zc.validate(e,this.props.keyfilter)),this.props.onInput&&this.props.onInput(e,t),this.props.onChange||(e.target.value.length>0?Ic.addClass(e.target,"p-filled"):Ic.removeClass(e.target,"p-filled"))}},{key:"updateForwardRef",value:function(){var e=this.props.forwardRef;e&&("function"==typeof e?e(this.elementRef.current):e.current=this.elementRef.current)}},{key:"componentDidMount",value:function(){this.updateForwardRef(),this.props.tooltip&&this.renderTooltip()}},{key:"componentDidUpdate",value:function(e){e.tooltip===this.props.tooltip&&e.tooltipOptions===this.props.tooltipOptions||(this.tooltip?this.tooltip.update(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ep(Object(n),!0).forEach((function(t){wp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ep(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({content:this.props.tooltip},this.props.tooltipOptions||{})):this.renderTooltip())}},{key:"componentWillUnmount",value:function(){this.tooltip&&(this.tooltip.destroy(),this.tooltip=null)}},{key:"renderTooltip",value:function(){this.tooltip=op({target:this.elementRef.current,content:this.props.tooltip,options:this.props.tooltipOptions})}},{key:"render",value:function(){var e=Cc("p-inputtext p-component",{"p-disabled":this.props.disabled,"p-filled":this.isFilled()},this.props.className),t=Mc.findDiffKeys(this.props,s.defaultProps);return F.createElement("input",dp({ref:this.elementRef},t,{className:e,onInput:this.onInput,onKeyPress:this.onKeyPress}))}}])&&fp(n.prototype,r),i&&fp(n,i),s}();wp(Sp,"defaultProps",{keyfilter:null,validateOnly:!1,tooltip:null,tooltipOptions:null,onInput:null,onKeyPress:null,forwardRef:null});var Cp=F.forwardRef((function(e,t){return F.createElement(Sp,dp({forwardRef:t},e))}));function Dp(){return(Dp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xp(e){return(xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Op(e,t){return(Op=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rp(e,t){return!t||"object"!==xp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ip(e){return(Ip=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Np(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ip(e);if(t){var i=Ip(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Rp(this,n)}}var Lp=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Op(e,t)}(s,e.exports.Component);var n,r,i,o=Pp(s);function s(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this,t)).elementRef=e.exports.createRef(n.props.forwardRef),n}return n=s,(r=[{key:"updateForwardRef",value:function(){var e=this.props.forwardRef;e&&("function"==typeof e?e(this.elementRef.current):e.current=this.elementRef.current)}},{key:"isDisabled",value:function(){return this.props.disabled||this.props.loading}},{key:"componentDidMount",value:function(){this.updateForwardRef(),this.props.tooltip&&this.renderTooltip()}},{key:"componentDidUpdate",value:function(e){e.tooltip===this.props.tooltip&&e.tooltipOptions===this.props.tooltipOptions||(this.tooltip?this.tooltip.update(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mp(Object(n),!0).forEach((function(t){Np(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({content:this.props.tooltip},this.props.tooltipOptions||{})):this.renderTooltip())}},{key:"componentWillUnmount",value:function(){this.tooltip&&(this.tooltip.destroy(),this.tooltip=null)}},{key:"renderTooltip",value:function(){this.tooltip=op({target:this.elementRef.current,content:this.props.tooltip,options:this.props.tooltipOptions})}},{key:"renderIcon",value:function(){var e=this.props.loading?this.props.loadingIcon:this.props.icon,t=null;if(e){var n,r=xp(e),i=Cc("p-button-icon p-c",(Np(n={"p-button-loading-icon":this.props.loading},"".concat(e),"string"===r),Np(n,"p-button-icon-left","left"===this.props.iconPos&&this.props.label),Np(n,"p-button-icon-right","right"===this.props.iconPos&&this.props.label),Np(n,"p-button-icon-top","top"===this.props.iconPos&&this.props.label),Np(n,"p-button-icon-bottom","bottom"===this.props.iconPos&&this.props.label),n));if(t=F.createElement("span",{className:i}),"string"!==r){var o={className:i,element:t,props:this.props};t=Mc.getJSXElement(e,o)}}return t}},{key:"renderLabel",value:function(){return this.props.label?F.createElement("span",{className:"p-button-label p-c"},this.props.label):!this.props.children&&!this.props.label&&F.createElement("span",{className:"p-button-label p-c",dangerouslySetInnerHTML:{__html:"&nbsp;"}})}},{key:"renderBadge",value:function(){if(this.props.badge){var e=Cc("p-badge",this.props.badgeClassName);return F.createElement("span",{className:e},this.props.badge)}return null}},{key:"render",value:function(){var e=this.isDisabled(),t=Cc("p-button p-component",this.props.className,Np({"p-button-icon-only":(this.props.icon||this.props.loading&&this.props.loadingIcon)&&!this.props.label,"p-button-vertical":("top"===this.props.iconPos||"bottom"===this.props.iconPos)&&this.props.label,"p-disabled":e,"p-button-loading":this.props.loading,"p-button-loading-label-only":this.props.loading&&!this.props.icon&&this.props.label},"p-button-loading-".concat(this.props.iconPos),this.props.loading&&this.props.loadingIcon&&this.props.label)),n=this.renderIcon(),r=this.renderLabel(),i=this.renderBadge(),o=Mc.findDiffKeys(this.props,s.defaultProps);return F.createElement("button",Dp({ref:this.elementRef},o,{className:t,disabled:e}),n,r,this.props.children,i,F.createElement(Jc,null))}}])&&Tp(n.prototype,r),i&&Tp(n,i),s}();Np(Lp,"defaultProps",{label:null,icon:null,iconPos:"left",badge:null,badgeClassName:null,tooltip:null,tooltipOptions:null,forwardRef:null,disabled:!1,loading:!1,loadingIcon:"pi pi-spinner pi-spin"});var _p=F.forwardRef((function(e,t){return F.createElement(Lp,Dp({forwardRef:t},e))}));function Ap(){return(Ap=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fp(e){return(Fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Up(e){return function(e){if(Array.isArray(e))return zp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return zp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zp(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bp(e,t,n){return t&&jp(e.prototype,t),n&&jp(e,n),e}function Hp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kp(e,t){return(Kp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kp(e,t)}function qp(e,t){return!t||"object"!==Fp(t)&&"function"!=typeof t?Hp(e):t}function Gp(e){return(Gp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gp(e);if(t){var i=Gp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qp(this,n)}}var Xp=function(t){Wp(r,e.exports.Component);var n=Yp(r);function r(){return Vp(this,r),n.apply(this,arguments)}return Bp(r,[{key:"renderElement",value:function(){return F.createElement(hp,{nodeRef:this.props.forwardRef,classNames:"p-connected-overlay",in:this.props.in,timeout:{enter:120,exit:100},options:this.props.transitionOptions,unmountOnExit:!0,onEnter:this.props.onEnter,onEntered:this.props.onEntered,onExit:this.props.onExit,onExited:this.props.onExited},F.createElement("div",{ref:this.props.forwardRef,className:this.props.className,style:this.props.style,onClick:this.props.onClick},this.props.children))}},{key:"render",value:function(){var e=this.renderElement();return this.props.inline?e:F.createElement(tp,{element:e,appendTo:this.props.appendTo})}}]),r}();$p(Xp,"defaultProps",{appendTo:null,style:null,className:null});var Qp=F.forwardRef((function(e,t){return F.createElement(Xp,Ap({forwardRef:t},e))}));function Jp(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Zp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zp(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Zp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function th(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(n),!0).forEach((function(t){$p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gp(e);if(t){var i=Gp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qp(this,n)}}var rh=function(t){Wp(r,e.exports.Component);var n=nh(r);function r(t){var i;if(Vp(this,r),(i=n.call(this,t)).state={focused:!1,overlayVisible:!1},!i.props.onViewDateChange){var o=i.props.value;Array.isArray(o)&&(o=o[0]);var s=i.props.viewDate&&i.isValidDate(i.props.viewDate)?i.props.viewDate:o&&i.isValidDate(o)?o:new Date;i.validateDate(s),i.state=th(th({},i.state),{},{viewDate:s})}return i.navigation=null,i.onUserInput=i.onUserInput.bind(Hp(i)),i.onInputFocus=i.onInputFocus.bind(Hp(i)),i.onInputBlur=i.onInputBlur.bind(Hp(i)),i.onInputKeyDown=i.onInputKeyDown.bind(Hp(i)),i.onButtonClick=i.onButtonClick.bind(Hp(i)),i.onPrevButtonClick=i.onPrevButtonClick.bind(Hp(i)),i.onNextButtonClick=i.onNextButtonClick.bind(Hp(i)),i.onMonthDropdownChange=i.onMonthDropdownChange.bind(Hp(i)),i.onYearDropdownChange=i.onYearDropdownChange.bind(Hp(i)),i.onTodayButtonClick=i.onTodayButtonClick.bind(Hp(i)),i.onClearButtonClick=i.onClearButtonClick.bind(Hp(i)),i.onPanelClick=i.onPanelClick.bind(Hp(i)),i.incrementHour=i.incrementHour.bind(Hp(i)),i.decrementHour=i.decrementHour.bind(Hp(i)),i.incrementMinute=i.incrementMinute.bind(Hp(i)),i.decrementMinute=i.decrementMinute.bind(Hp(i)),i.incrementSecond=i.incrementSecond.bind(Hp(i)),i.decrementSecond=i.decrementSecond.bind(Hp(i)),i.toggleAmPm=i.toggleAmPm.bind(Hp(i)),i.onTimePickerElementMouseDown=i.onTimePickerElementMouseDown.bind(Hp(i)),i.onTimePickerElementMouseUp=i.onTimePickerElementMouseUp.bind(Hp(i)),i.onTimePickerElementMouseLeave=i.onTimePickerElementMouseLeave.bind(Hp(i)),i.onOverlayEnter=i.onOverlayEnter.bind(Hp(i)),i.onOverlayEntered=i.onOverlayEntered.bind(Hp(i)),i.onOverlayExit=i.onOverlayExit.bind(Hp(i)),i.onOverlayExited=i.onOverlayExited.bind(Hp(i)),i.reFocusInputField=i.reFocusInputField.bind(Hp(i)),i.overlayRef=e.exports.createRef(),i.inputRef=e.exports.createRef(i.props.inputRef),i}return Bp(r,[{key:"updateInputRef",value:function(){var e=this.props.inputRef;e&&("function"==typeof e?e(this.inputRef.current):e.current=this.inputRef.current)}},{key:"componentDidMount",value:function(){var e=this;this.updateInputRef(),this.props.tooltip&&this.renderTooltip(),this.props.inline?this.initFocusableCell():this.props.mask&&Uc(this.inputRef.current,{mask:this.props.mask,readOnly:this.props.readOnlyInput||this.props.disabled,onChange:function(t){return e.updateValueOnInput(t.originalEvent,t.value)}}),this.props.value&&this.updateInputfield(this.props.value)}},{key:"componentDidUpdate",value:function(e){var t=this;if(e.tooltip===this.props.tooltip&&e.tooltipOptions===this.props.tooltipOptions||(this.tooltip?this.tooltip.update(th({content:this.props.tooltip},this.props.tooltipOptions||{})):this.renderTooltip()),!this.props.onViewDateChange&&!this.viewStateChanged){var n=this.props.value;Array.isArray(n)&&(n=n[0]);var r=e.value;if(Array.isArray(r)&&(r=r[0]),!r&&n||n&&n instanceof Date&&n.getTime()!==r.getTime()){var i=this.props.viewDate&&this.isValidDate(this.props.viewDate)?this.props.viewDate:n&&this.isValidDate(n)?n:new Date;this.validateDate(i),this.setState({viewDate:i},(function(){t.viewStateChanged=!0}))}}this.overlayRef&&this.overlayRef.current&&this.updateFocus(),(e.value===this.props.value||this.viewStateChanged&&this.isVisible())&&!this.isOptionChanged(e)||this.updateInputfield(this.props.value)}},{key:"componentWillUnmount",value:function(){this.hideTimeout&&clearTimeout(this.hideTimeout),this.touchUIMask&&(this.disableModality(),this.touchUIMask=null),this.tooltip&&(this.tooltip.destroy(),this.tooltip=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),Wc.clear(this.overlayRef.current)}},{key:"renderTooltip",value:function(){this.tooltip=op({target:this.inputRef.current,content:this.props.tooltip,options:this.props.tooltipOptions})}},{key:"isVisible",value:function(){return this.props.onVisibleChange?this.props.visible:this.state.overlayVisible}},{key:"isOptionChanged",value:function(e){var t=this;return["dateFormat","hourFormat","timeOnly","showSeconds","showMillisec"].some((function(n){return e[n]!==t.props[n]}))}},{key:"getDateFormat",value:function(){return this.props.dateFormat||Ju("dateFormat",this.props.locale)}},{key:"onInputFocus",value:function(e){var t=this;this.ignoreFocusFunctionality?this.setState({focused:!0},(function(){t.ignoreFocusFunctionality=!1})):(e.persist(),this.props.showOnFocus&&!this.isVisible()&&this.showOverlay(),this.setState({focused:!0},(function(){t.props.onFocus&&t.props.onFocus(e)})))}},{key:"onInputBlur",value:function(e){var t=this;e.persist(),this.setState({focused:!1},(function(){t.props.onBlur&&t.props.onBlur(e),t.props.keepInvalid||t.updateInputfield(t.props.value)}))}},{key:"onInputKeyDown",value:function(e){switch(this.isKeydown=!0,e.which){case 27:this.hideOverlay();break;case 9:this.isVisible()&&this.trapFocus(e),this.props.touchUI&&this.disableModality()}}},{key:"onUserInput",value:function(e){this.isKeydown&&(this.isKeydown=!1,this.updateValueOnInput(e,e.target.value),this.props.onInput&&this.props.onInput(e))}},{key:"updateValueOnInput",value:function(e,t){try{var n=this.parseValueFromString(t);this.isValidSelection(n)&&(this.updateModel(e,n),this.updateViewDate(e,n.length?n[0]:n))}catch(i){var r=this.props.keepInvalid?t:null;this.updateModel(e,r)}}},{key:"reFocusInputField",value:function(){!this.props.inline&&this.inputRef.current&&(this.ignoreFocusFunctionality=!0,this.inputRef.current.focus())}},{key:"isValidSelection",value:function(e){var t=this,n=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)&&this.isSelectableTime(e)||(n=!1):e.every((function(n){return t.isSelectable(n.getDate(),n.getMonth(),n.getFullYear(),!1)&&t.isSelectableTime(e)}))&&this.isRangeSelection()&&(n=e.length>1&&e[1]>e[0]),n}},{key:"onButtonClick",value:function(){this.isVisible()?this.hideOverlay():this.showOverlay()}},{key:"onPrevButtonClick",value:function(e){this.navigation={backward:!0,button:!0},this.navBackward(e)}},{key:"onNextButtonClick",value:function(e){this.navigation={backward:!1,button:!0},this.navForward(e)}},{key:"onContainerButtonKeydown",value:function(e){switch(e.which){case 9:this.trapFocus(e);break;case 27:this.hideOverlay(null,this.reFocusInputField),e.preventDefault()}}},{key:"trapFocus",value:function(e){e.preventDefault();var t=Ic.getFocusableElements(this.overlayRef.current);if(t&&t.length>0)if(document.activeElement){var n=t.indexOf(document.activeElement);e.shiftKey?-1===n||0===n?t[t.length-1].focus():t[n-1].focus():-1===n||n===t.length-1?t[0].focus():t[n+1].focus()}else t[0].focus()}},{key:"updateFocus",value:function(){var e;if(this.navigation){if(this.navigation.button)this.initFocusableCell(),this.navigation.backward?Ic.findSingle(this.overlayRef.current,".p-datepicker-prev").focus():Ic.findSingle(this.overlayRef.current,".p-datepicker-next").focus();else{if(this.navigation.backward){var t=Ic.find(this.overlayRef.current,".p-datepicker-calendar td span:not(.p-disabled)");e=t[t.length-1]}else e=Ic.findSingle(this.overlayRef.current,".p-datepicker-calendar td span:not(.p-disabled)");e&&(e.tabIndex="0",e.focus())}this.navigation=null}else this.initFocusableCell()}},{key:"initFocusableCell",value:function(){var e;if("month"===this.view){var t=Ic.find(this.overlayRef.current,".p-monthpicker .p-monthpicker-month"),n=Ic.findSingle(this.overlayRef.current,".p-monthpicker .p-monthpicker-month.p-highlight");t.forEach((function(e){return e.tabIndex=-1})),e=n||t[0]}else if(!(e=Ic.findSingle(this.overlayRef.current,"span.p-highlight"))){var r=Ic.findSingle(this.overlayRef.current,"td.p-datepicker-today span:not(.p-disabled)");e=r||Ic.findSingle(this.overlayRef.current,".p-datepicker-calendar td span:not(.p-disabled)")}e&&(e.tabIndex="0")}},{key:"navBackward",value:function(e){if(this.props.disabled)e.preventDefault();else{var t=new Date(this.getViewDate().getTime());if(t.setDate(1),"date"===this.props.view)0===t.getMonth()?(t.setMonth(11),t.setFullYear(t.getFullYear()-1)):t.setMonth(t.getMonth()-1);else if("month"===this.props.view){var n=t.getFullYear()-1;if(this.props.yearNavigator){var r=parseInt(this.props.yearRange.split(":")[0],10);n<r&&(n=r)}t.setFullYear(n)}this.updateViewDate(e,t),e.preventDefault()}}},{key:"navForward",value:function(e){if(this.props.disabled)e.preventDefault();else{var t=new Date(this.getViewDate().getTime());if(t.setDate(1),"date"===this.props.view)11===t.getMonth()?(t.setMonth(0),t.setFullYear(t.getFullYear()+1)):t.setMonth(t.getMonth()+1);else if("month"===this.props.view){var n=t.getFullYear()+1;if(this.props.yearNavigator){var r=parseInt(this.props.yearRange.split(":")[1],10);n>r&&(n=r)}t.setFullYear(n)}this.updateViewDate(e,t),e.preventDefault()}}},{key:"onMonthDropdownChange",value:function(e,t){var n=this.getViewDate(),r=new Date(n.getTime());r.setMonth(parseInt(t,10)),this.updateViewDate(e,r)}},{key:"onYearDropdownChange",value:function(e,t){var n=this.getViewDate(),r=new Date(n.getTime());r.setFullYear(parseInt(t,10)),this.updateViewDate(e,r)}},{key:"onTodayButtonClick",value:function(e){var t=new Date,n={day:t.getDate(),month:t.getMonth(),year:t.getFullYear(),today:!0,selectable:!0},r={hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds(),milliseconds:t.getMilliseconds()};this.updateViewDate(e,t),this.onDateSelect(e,n,r),this.props.onTodayButtonClick&&this.props.onTodayButtonClick(e)}},{key:"onClearButtonClick",value:function(e){this.updateModel(e,null),this.updateInputfield(null),this.hideOverlay(null,this.reFocusInputField),this.props.onClearButtonClick&&this.props.onClearButtonClick(e)}},{key:"onPanelClick",value:function(e){this.props.inline||lp.emit("overlay-click",{originalEvent:e,target:this.container})}},{key:"onTimePickerElementMouseDown",value:function(e,t,n){this.props.disabled||(this.repeat(e,null,t,n),e.preventDefault())}},{key:"onTimePickerElementMouseUp",value:function(){this.props.disabled||this.clearTimePickerTimer()}},{key:"onTimePickerElementMouseLeave",value:function(){this.props.disabled||this.clearTimePickerTimer()}},{key:"repeat",value:function(e,t,n,r){var i=this;e.persist();var o=t||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout((function(){i.repeat(e,100,n,r)}),o),n){case 0:1===r?this.incrementHour(e):this.decrementHour(e);break;case 1:1===r?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===r?this.incrementSecond(e):this.decrementSecond(e);break;case 3:1===r?this.incrementMilliSecond(e):this.decrementMilliSecond(e)}}},{key:"clearTimePickerTimer",value:function(){this.timePickerTimer&&clearTimeout(this.timePickerTimer)}},{key:"incrementHour",value:function(e){var t=this.getCurrentDateTime(),n=t.getHours()+this.props.stepHour;n=n>=24?n-24:n,this.validateHour(n,t)&&(this.props.maxDate&&this.props.maxDate.toDateString()===t.toDateString()&&this.props.maxDate.getHours()===n&&(this.props.maxDate.getMinutes()<t.getMinutes()||this.props.maxDate.getMinutes()===t.getMinutes())?this.props.maxDate.getSeconds()<t.getSeconds()?this.props.maxDate.getMilliseconds()<t.getMilliseconds()?this.updateTime(e,n,this.props.maxDate.getMinutes(),this.props.maxDate.getSeconds(),this.props.maxDate.getMilliseconds()):this.updateTime(e,n,this.props.maxDate.getMinutes(),this.props.maxDate.getSeconds(),t.getMilliseconds()):this.updateTime(e,n,this.props.maxDate.getMinutes(),t.getSeconds(),t.getMilliseconds()):this.updateTime(e,n,t.getMinutes(),t.getSeconds(),t.getMilliseconds())),e.preventDefault()}},{key:"decrementHour",value:function(e){var t=this.getCurrentDateTime(),n=t.getHours()-this.props.stepHour;n=n<0?n+24:n,this.validateHour(n,t)&&(this.props.minDate&&this.props.minDate.toDateString()===t.toDateString()&&this.props.minDate.getHours()===n&&(this.props.minDate.getMinutes()>t.getMinutes()||this.props.minDate.getMinutes()===t.getMinutes())?this.props.minDate.getSeconds()>t.getSeconds()?this.props.minDate.getMilliseconds()>t.getMilliseconds()?this.updateTime(e,n,this.props.minDate.getMinutes(),this.props.minDate.getSeconds(),this.props.minDate.getMilliseconds()):this.updateTime(e,n,this.props.minDate.getMinutes(),this.props.minDate.getSeconds(),t.getMilliseconds()):this.updateTime(e,n,this.props.minDate.getMinutes(),t.getSeconds(),t.getMilliseconds()):this.updateTime(e,n,t.getMinutes(),t.getSeconds(),t.getMilliseconds())),e.preventDefault()}},{key:"incrementMinute",value:function(e){var t=this.getCurrentDateTime(),n=t.getMinutes()+this.props.stepMinute;n=n>59?n-60:n,this.validateMinute(n,t)&&(this.props.maxDate&&this.props.maxDate.toDateString()===t.toDateString()&&this.props.maxDate.getMinutes()===n&&this.props.maxDate.getSeconds()<t.getSeconds()?this.props.maxDate.getMilliseconds()<t.getMilliseconds()?this.updateTime(e,t.getHours(),n,this.props.maxDate.getSeconds(),this.props.maxDate.getMilliseconds()):this.updateTime(e,t.getHours(),n,this.props.maxDate.getSeconds(),t.getMilliseconds()):this.updateTime(e,t.getHours(),n,t.getSeconds(),t.getMilliseconds())),e.preventDefault()}},{key:"decrementMinute",value:function(e){var t=this.getCurrentDateTime(),n=t.getMinutes()-this.props.stepMinute;n=n<0?n+60:n,this.validateMinute(n,t)&&(this.props.minDate&&this.props.minDate.toDateString()===t.toDateString()&&this.props.minDate.getMinutes()===n&&this.props.minDate.getSeconds()>t.getSeconds()?this.props.minDate.getMilliseconds()>t.getMilliseconds()?this.updateTime(e,t.getHours(),n,this.props.minDate.getSeconds(),this.props.minDate.getMilliseconds()):this.updateTime(e,t.getHours(),n,this.props.minDate.getSeconds(),t.getMilliseconds()):this.updateTime(e,t.getHours(),n,t.getSeconds(),t.getMilliseconds())),e.preventDefault()}},{key:"incrementSecond",value:function(e){var t=this.getCurrentDateTime(),n=t.getSeconds()+this.props.stepSecond;n=n>59?n-60:n,this.validateSecond(n,t)&&(this.props.maxDate&&this.props.maxDate.toDateString()===t.toDateString()&&this.props.maxDate.getSeconds()===n&&this.props.maxDate.getMilliseconds()<t.getMilliseconds()?this.updateTime(e,t.getHours(),t.getMinutes(),n,this.props.maxDate.getMilliseconds()):this.updateTime(e,t.getHours(),t.getMinutes(),n,t.getMilliseconds())),e.preventDefault()}},{key:"decrementSecond",value:function(e){var t=this.getCurrentDateTime(),n=t.getSeconds()-this.props.stepSecond;n=n<0?n+60:n,this.validateSecond(n,t)&&(this.props.minDate&&this.props.minDate.toDateString()===t.toDateString()&&this.props.minDate.getSeconds()===n&&this.props.minDate.getMilliseconds()>t.getMilliseconds()?this.updateTime(e,t.getHours(),t.getMinutes(),n,this.props.minDate.getMilliseconds()):this.updateTime(e,t.getHours(),t.getMinutes(),n,t.getMilliseconds())),e.preventDefault()}},{key:"incrementMilliSecond",value:function(e){var t=this.getCurrentDateTime(),n=t.getMilliseconds()+this.props.stepMillisec;n=n>999?n-1e3:n,this.validateMillisecond(n,t)&&this.updateTime(e,t.getHours(),t.getMinutes(),t.getSeconds(),n),e.preventDefault()}},{key:"decrementMilliSecond",value:function(e){var t=this.getCurrentDateTime(),n=t.getMilliseconds()-this.props.stepMillisec;n=n<0?n+999:n,this.validateMillisecond(n,t)&&this.updateTime(e,t.getHours(),t.getMinutes(),t.getSeconds(),n),e.preventDefault()}},{key:"toggleAmPm",value:function(e){var t=this.getCurrentDateTime(),n=t.getHours(),r=n>=12?n-12:n+12;this.updateTime(e,r,t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.preventDefault()}},{key:"getViewDate",value:function(){return this.props.onViewDateChange?this.props.viewDate:this.state.viewDate}},{key:"getCurrentDateTime",value:function(){if(this.isSingleSelection())return this.props.value&&this.props.value instanceof Date?this.props.value:this.getViewDate();if(this.isMultipleSelection()){if(this.props.value&&this.props.value.length)return this.props.value[this.props.value.length-1]}else if(this.isRangeSelection()&&this.props.value&&this.props.value.length){var e=this.props.value[0];return this.props.value[1]||e}return new Date}},{key:"isValidDate",value:function(e){return e instanceof Date&&!isNaN(e)}},{key:"validateHour",value:function(e,t){var n=!0,r=t?t.toDateString():null;return this.props.minDate&&r&&this.props.minDate.toDateString()===r&&this.props.minDate.getHours()>e&&(n=!1),this.props.maxDate&&r&&this.props.maxDate.toDateString()===r&&this.props.maxDate.getHours()<e&&(n=!1),n}},{key:"validateMinute",value:function(e,t){var n=!0,r=t?t.toDateString():null;return this.props.minDate&&r&&this.props.minDate.toDateString()===r&&t.getHours()===this.props.minDate.getHours()&&this.props.minDate.getMinutes()>e&&(n=!1),this.props.maxDate&&r&&this.props.maxDate.toDateString()===r&&t.getHours()===this.props.maxDate.getHours()&&this.props.maxDate.getMinutes()<e&&(n=!1),n}},{key:"validateSecond",value:function(e,t){var n=!0,r=t?t.toDateString():null;return this.props.minDate&&r&&this.props.minDate.toDateString()===r&&t.getHours()===this.props.minDate.getHours()&&t.getMinutes()===this.props.minDate.getMinutes()&&this.props.minDate.getSeconds()>e&&(n=!1),this.props.maxDate&&r&&this.props.maxDate.toDateString()===r&&t.getHours()===this.props.maxDate.getHours()&&t.getMinutes()===this.props.maxDate.getMinutes()&&this.props.maxDate.getSeconds()<e&&(n=!1),n}},{key:"validateMillisecond",value:function(e,t){var n=!0,r=t?t.toDateString():null;return this.props.minDate&&r&&this.props.minDate.toDateString()===r&&t.getHours()===this.props.minDate.getHours()&&t.getSeconds()===this.props.minDate.getSeconds()&&t.getMinutes()===this.props.minDate.getMinutes()&&this.props.minDate.getMilliseconds()>e&&(n=!1),this.props.maxDate&&r&&this.props.maxDate.toDateString()===r&&t.getHours()===this.props.maxDate.getHours()&&t.getSeconds()===this.props.maxDate.getSeconds()&&t.getMinutes()===this.props.maxDate.getMinutes()&&this.props.maxDate.getMilliseconds()<e&&(n=!1),n}},{key:"validateDate",value:function(e){if(this.props.yearNavigator){var t=e.getFullYear(),n=this.props.yearRange?parseInt(this.props.yearRange.split(":")[0],10):null,r=this.props.yearRange?parseInt(this.props.yearRange.split(":")[1],10):null,i=this.props.minDate&&null!=n?Math.max(this.props.minDate.getFullYear(),n):this.props.minDate||n,o=this.props.maxDate&&null!=r?Math.min(this.props.maxDate.getFullYear(),r):this.props.maxDate||r;i&&i>t&&(t=i),o&&o<t&&(t=o),e.setFullYear(t)}if(this.props.monthNavigator&&"month"!==this.props.view){var s=e.getMonth(),a=parseInt(this.isInMinYear(e)&&Math.max(this.props.minDate.getMonth(),s).toString()||this.isInMaxYear(e)&&Math.min(this.props.maxDate.getMonth(),s).toString()||s);e.setMonth(a)}}},{key:"updateTime",value:function(e,t,n,r,i){var o=this.getCurrentDateTime();if(o.setHours(t),o.setMinutes(n),o.setSeconds(r),o.setMilliseconds(i),this.isMultipleSelection())if(this.props.value&&this.props.value.length){var s=Up(this.props.value);s[s.length-1]=o,o=s}else o=[o];else if(this.isRangeSelection())if(this.props.value&&this.props.value.length){var a=this.props.value[0];o=this.props.value[1]?[a,o]:[o,null]}else o=[o,null];this.updateModel(e,o),this.props.onSelect&&this.props.onSelect({originalEvent:e,value:o}),this.updateInputfield(o)}},{key:"updateViewDate",value:function(e,t){this.validateDate(t),this.props.onViewDateChange?this.props.onViewDateChange({originalEvent:e,value:t}):(this.viewStateChanged=!0,this.setState({viewDate:t}))}},{key:"onDateCellKeydown",value:function(e,t,n){var r=e.currentTarget,i=r.parentElement;switch(e.which){case 40:r.tabIndex="-1";var o=Ic.index(i),s=i.parentElement.nextElementSibling;if(s){var a=s.children[o].children[0];Ic.hasClass(a,"p-disabled")?(this.navigation={backward:!1},this.navForward(e)):(s.children[o].children[0].tabIndex="0",s.children[o].children[0].focus())}else this.navigation={backward:!1},this.navForward(e);e.preventDefault();break;case 38:r.tabIndex="-1";var l=Ic.index(i),u=i.parentElement.previousElementSibling;if(u){var c=u.children[l].children[0];Ic.hasClass(c,"p-disabled")?(this.navigation={backward:!0},this.navBackward(e)):(c.tabIndex="0",c.focus())}else this.navigation={backward:!0},this.navBackward(e);e.preventDefault();break;case 37:r.tabIndex="-1";var p=i.previousElementSibling;if(p){var h=p.children[0];Ic.hasClass(h,"p-disabled")?this.navigateToMonth(!0,n,e):(h.tabIndex="0",h.focus())}else this.navigateToMonth(!0,n,e);e.preventDefault();break;case 39:r.tabIndex="-1";var d=i.nextElementSibling;if(d){var f=d.children[0];Ic.hasClass(f,"p-disabled")?this.navigateToMonth(!1,n,e):(f.tabIndex="0",f.focus())}else this.navigateToMonth(!1,n,e);e.preventDefault();break;case 13:this.onDateSelect(e,t),e.preventDefault();break;case 27:this.hideOverlay(null,this.reFocusInputField),e.preventDefault();break;case 9:this.trapFocus(e)}}},{key:"navigateToMonth",value:function(e,t,n){if(e)if(1===this.props.numberOfMonths||0===t)this.navigation={backward:!0},this.navBackward(n);else{var r=this.overlayRef.current.children[t-1],i=Ic.find(r,".p-datepicker-calendar td span:not(.p-disabled)"),o=i[i.length-1];o.tabIndex="0",o.focus()}else if(1===this.props.numberOfMonths||t===this.props.numberOfMonths-1)this.navigation={backward:!1},this.navForward(n);else{var s=this.overlayRef.current.children[t+1],a=Ic.findSingle(s,".p-datepicker-calendar td span:not(.p-disabled)");a.tabIndex="0",a.focus()}}},{key:"onMonthCellKeydown",value:function(e,t){var n=e.currentTarget;switch(e.which){case 38:case 40:n.tabIndex="-1";var r=n.parentElement.children,i=Ic.index(n),o=r[40===e.which?i+3:i-3];o&&(o.tabIndex="0",o.focus()),e.preventDefault();break;case 37:n.tabIndex="-1";var s=n.previousElementSibling;s&&(s.tabIndex="0",s.focus()),e.preventDefault();break;case 39:n.tabIndex="-1";var a=n.nextElementSibling;a&&(a.tabIndex="0",a.focus()),e.preventDefault();break;case 13:this.onMonthSelect(e,t),e.preventDefault();break;case 27:this.hideOverlay(null,this.reFocusInputField),e.preventDefault();break;case 9:this.trapFocus(e)}}},{key:"onDateSelect",value:function(e,t,n){var r=this;if(!this.props.disabled&&t.selectable){if(Ic.find(this.overlayRef.current,".p-datepicker-calendar td span:not(.p-disabled)").forEach((function(e){return e.tabIndex=-1})),e.currentTarget.focus(),this.isMultipleSelection())if(this.isSelected(t)){var i=this.props.value.filter((function(e,n){return!r.isDateEquals(e,t)}));this.updateModel(e,i),this.updateInputfield(i)}else(!this.props.maxDateCount||!this.props.value||this.props.maxDateCount>this.props.value.length)&&this.selectDate(e,t,n);else this.selectDate(e,t,n);this.props.inline||!this.isSingleSelection()||this.props.showTime&&!this.props.hideOnDateTimeSelect||(setTimeout((function(){r.hideOverlay("dateselect")}),100),this.touchUIMask&&this.disableModality()),e.preventDefault()}else e.preventDefault()}},{key:"selectTime",value:function(e,t){if(this.props.showTime){var n,r,i,o;if(t)n=t.hours,r=t.minutes,i=t.seconds,o=t.milliseconds;else{var s=this.getCurrentDateTime(),a=[s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()];n=a[0],r=a[1],i=a[2],o=a[3]}e.setHours(n),e.setMinutes(r),e.setSeconds(i),e.setMilliseconds(o)}}},{key:"selectDate",value:function(e,t,n){var r=new Date(t.year,t.month,t.day);this.selectTime(r,n),this.props.minDate&&this.props.minDate>r&&(r=this.props.minDate),this.props.maxDate&&this.props.maxDate<r&&(r=this.props.maxDate);var i=r;if(this.isSingleSelection())this.updateModel(e,r);else if(this.isMultipleSelection())i=this.props.value?[].concat(Up(this.props.value),[r]):[r],this.updateModel(e,i);else if(this.isRangeSelection())if(this.props.value&&this.props.value.length){var o=this.props.value[0],s=this.props.value[1];!s&&r.getTime()>=o.getTime()?s=r:(o=r,s=null),i=[o,s],this.updateModel(e,i)}else i=[r,null],this.updateModel(e,i);this.props.onSelect&&this.props.onSelect({originalEvent:e,value:r}),this.updateInputfield(i)}},{key:"onMonthSelect",value:function(e,t){this.onDateSelect(e,{year:this.getViewDate().getFullYear(),month:t,day:1,selectable:!0}),e.preventDefault()}},{key:"updateModel",value:function(e,t){if(this.props.onChange){var n=t&&t instanceof Date?new Date(t.getTime()):t;this.viewStateChanged=!0,this.props.onChange({originalEvent:e,value:n,stopPropagation:function(){},preventDefault:function(){},target:{name:this.props.name,id:this.props.id,value:n}})}}},{key:"showOverlay",value:function(e){var t=this;this.props.onVisibleChange?this.props.onVisibleChange({visible:!0,type:e}):this.setState({overlayVisible:!0},(function(){t.overlayEventListener=function(e){t.isOutsideClicked(e.target)||(t.isOverlayClicked=!0)},lp.on("overlay-click",t.overlayEventListener)}))}},{key:"hideOverlay",value:function(e,t){var n=this,r=function(){n.viewStateChanged=!1,n.ignoreFocusFunctionality=!1,n.isOverlayClicked=!1,t&&t(),lp.off("overlay-click",n.overlayEventListener),n.overlayEventListener=null};this.props.onVisibleChange?this.props.onVisibleChange({visible:!1,type:e,callback:r}):this.setState({overlayVisible:!1},r)}},{key:"onOverlayEnter",value:function(){this.props.autoZIndex&&Wc.set(this.props.touchUI?"modal":"overlay",this.overlayRef.current,this.props.baseZIndex),this.alignOverlay()}},{key:"onOverlayEntered",value:function(){this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.props.onShow&&this.props.onShow()}},{key:"onOverlayExit",value:function(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}},{key:"onOverlayExited",value:function(){Wc.clear(this.overlayRef.current),this.props.onHide&&this.props.onHide()}},{key:"bindDocumentClickListener",value:function(){var e=this;this.documentClickListener||(this.documentClickListener=function(t){!e.isOverlayClicked&&e.isVisible()&&e.isOutsideClicked(t.target)&&e.hideOverlay("outside"),e.isOverlayClicked=!1},document.addEventListener("click",this.documentClickListener))}},{key:"unbindDocumentClickListener",value:function(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}},{key:"bindDocumentResizeListener",value:function(){this.documentResizeListener||this.props.touchUI||(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}},{key:"unbindDocumentResizeListener",value:function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}},{key:"bindScrollListener",value:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Nc(this.container,(function(){e.isVisible()&&e.hideOverlay()}))),this.scrollHandler.bindScrollListener()}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"isOutsideClicked",value:function(e){return this.container&&!(this.container.isSameNode(e)||this.isNavIconClicked(e)||this.container.contains(e)||this.overlayRef&&this.overlayRef.current.contains(e))}},{key:"isNavIconClicked",value:function(e){return Ic.hasClass(e,"p-datepicker-prev")||Ic.hasClass(e,"p-datepicker-prev-icon")||Ic.hasClass(e,"p-datepicker-next")||Ic.hasClass(e,"p-datepicker-next-icon")}},{key:"onWindowResize",value:function(){this.isVisible()&&!Ic.isAndroid()&&this.hideOverlay()}},{key:"alignOverlay",value:function(){this.props.touchUI?this.enableModality():Ic.alignOverlay(this.overlayRef.current,this.inputRef.current.parentElement,this.props.appendTo||Xu.appendTo)}},{key:"enableModality",value:function(){var e=this;this.touchUIMask||(this.touchUIMask=document.createElement("div"),this.touchUIMask.style.zIndex=String(Wc.get(this.overlayRef.current)-1),Ic.addMultipleClasses(this.touchUIMask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker"),this.touchUIMaskClickListener=function(){e.disableModality()},this.touchUIMask.addEventListener("click",this.touchUIMaskClickListener),document.body.appendChild(this.touchUIMask),Ic.addClass(document.body,"p-overflow-hidden"))}},{key:"disableModality",value:function(){if(this.touchUIMask){this.touchUIMask.removeEventListener("click",this.touchUIMaskClickListener),this.touchUIMaskClickListener=null,document.body.removeChild(this.touchUIMask),this.touchUIMask=null;for(var e,t=document.body.children,n=0;n<t.length;n++){var r=t[n];if(Ic.hasClass(r,"p-datepicker-mask-scrollblocker")){e=!0;break}}e||Ic.removeClass(document.body,"p-overflow-hidden"),this.hideOverlay()}}},{key:"getFirstDayOfMonthIndex",value:function(e,t){var n=new Date;n.setDate(1),n.setMonth(e),n.setFullYear(t);var r=n.getDay()+this.getSundayIndex();return r>=7?r-7:r}},{key:"getDaysCountInMonth",value:function(e,t){return 32-this.daylightSavingAdjust(new Date(t,e,32)).getDate()}},{key:"getDaysCountInPrevMonth",value:function(e,t){var n=this.getPreviousMonthAndYear(e,t);return this.getDaysCountInMonth(n.month,n.year)}},{key:"daylightSavingAdjust",value:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}},{key:"getPreviousMonthAndYear",value:function(e,t){var n,r;return 0===e?(n=11,r=t-1):(n=e-1,r=t),{month:n,year:r}}},{key:"getNextMonthAndYear",value:function(e,t){var n,r;return 11===e?(n=0,r=t+1):(n=e+1,r=t),{month:n,year:r}}},{key:"getSundayIndex",value:function(){var e=Ju("firstDayOfWeek",this.props.locale);return e>0?7-e:0}},{key:"createWeekDays",value:function(){for(var e=[],t=Zu(this.props.locale),n=t.firstDayOfWeek,r=t.dayNamesMin,i=0;i<7;i++)e.push(r[n]),n=6===n?0:++n;return e}},{key:"createMonths",value:function(e,t){for(var n=[],r=0;r<this.props.numberOfMonths;r++){var i=e+r,o=t;i>11&&(i=i%11-1,o=t+1),n.push(this.createMonth(i,o))}return n}},{key:"createMonth",value:function(e,t){for(var n=[],r=this.getFirstDayOfMonthIndex(e,t),i=this.getDaysCountInMonth(e,t),o=this.getDaysCountInPrevMonth(e,t),s=1,a=new Date,l=[],u=Math.ceil((i+r)/7),c=0;c<u;c++){var p=[];if(0===c){for(var h=o-r+1;h<=o;h++){var d=this.getPreviousMonthAndYear(e,t);p.push({day:h,month:d.month,year:d.year,otherMonth:!0,today:this.isToday(a,h,d.month,d.year),selectable:this.isSelectable(h,d.month,d.year,!0)})}for(var f=7-p.length,m=0;m<f;m++)p.push({day:s,month:e,year:t,today:this.isToday(a,s,e,t),selectable:this.isSelectable(s,e,t,!1)}),s++}else for(var g=0;g<7;g++){if(s>i){var v=this.getNextMonthAndYear(e,t);p.push({day:s-i,month:v.month,year:v.year,otherMonth:!0,today:this.isToday(a,s-i,v.month,v.year),selectable:this.isSelectable(s-i,v.month,v.year,!0)})}else p.push({day:s,month:e,year:t,today:this.isToday(a,s,e,t),selectable:this.isSelectable(s,e,t,!1)});s++}this.props.showWeek&&l.push(this.getWeekNumber(new Date(p[0].year,p[0].month,p[0].day))),n.push(p)}return{month:e,year:t,dates:n,weekNumbers:l}}},{key:"getWeekNumber",value:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t.getTime())/864e5)/7)+1}},{key:"isSelectable",value:function(e,t,n,r){var i=!0,o=!0,s=!0,a=!0,l=!0;return this.props.minDate&&(this.props.minDate.getFullYear()>n||this.props.minDate.getFullYear()===n&&(this.props.minDate.getMonth()>t||this.props.minDate.getMonth()===t&&this.props.minDate.getDate()>e))&&(i=!1),this.props.maxDate&&(this.props.maxDate.getFullYear()<n||this.props.maxDate.getFullYear()===n&&(this.props.maxDate.getMonth()<t||this.props.maxDate.getMonth()===t&&this.props.maxDate.getDate()<e))&&(o=!1),this.props.disabledDates&&(s=!this.isDateDisabled(e,t,n)),this.props.disabledDays&&(a=!this.isDayDisabled(e,t,n)),!1===this.props.selectOtherMonths&&r&&(l=!1),i&&o&&s&&a&&l}},{key:"isSelectableTime",value:function(e){var t=!0,n=!0;return this.props.minDate&&this.props.minDate.toDateString()===e.toDateString()&&(this.props.minDate.getHours()>e.getHours()||this.props.minDate.getHours()===e.getHours()&&(this.props.minDate.getMinutes()>e.getMinutes()||this.props.minDate.getMinutes()===e.getMinutes()&&(this.props.minDate.getSeconds()>e.getSeconds()||this.props.minDate.getSeconds()===e.getSeconds()&&this.props.minDate.getMilliseconds()>e.getMilliseconds())))&&(t=!1),this.props.maxDate&&this.props.maxDate.toDateString()===e.toDateString()&&(this.props.maxDate.getHours()<e.getHours()||this.props.maxDate.getHours()===e.getHours()&&(this.props.maxDate.getMinutes()<e.getMinutes()||this.props.maxDate.getMinutes()===e.getMinutes()&&(this.props.maxDate.getSeconds()<e.getSeconds()||this.props.maxDate.getSeconds()===e.getSeconds()&&this.props.maxDate.getMilliseconds()<e.getMilliseconds())))&&(n=!1),t&&n}},{key:"isSelected",value:function(e){if(!this.props.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.props.value,e);if(this.isMultipleSelection()){var t,n=!1,r=Jp(this.props.value);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(n=this.isDateEquals(i,e))break}}catch(o){r.e(o)}finally{r.f()}return n}return this.isRangeSelection()?this.props.value[1]?this.isDateEquals(this.props.value[0],e)||this.isDateEquals(this.props.value[1],e)||this.isDateBetween(this.props.value[0],this.props.value[1],e):this.isDateEquals(this.props.value[0],e):void 0}},{key:"isMonthSelected",value:function(e){var t=this.getViewDate();return!!(this.props.value&&this.props.value instanceof Date)&&(1===this.props.value.getDate()&&this.props.value.getMonth()===e&&this.props.value.getFullYear()===t.getFullYear())}},{key:"isDateEquals",value:function(e,t){return!!(e&&e instanceof Date)&&(e.getDate()===t.day&&e.getMonth()===t.month&&e.getFullYear()===t.year)}},{key:"isDateBetween",value:function(e,t,n){if(e&&t){var r=new Date(n.year,n.month,n.day);return e.getTime()<=r.getTime()&&t.getTime()>=r.getTime()}return!1}},{key:"isSingleSelection",value:function(){return"single"===this.props.selectionMode}},{key:"isRangeSelection",value:function(){return"range"===this.props.selectionMode}},{key:"isMultipleSelection",value:function(){return"multiple"===this.props.selectionMode}},{key:"isToday",value:function(e,t,n,r){return e.getDate()===t&&e.getMonth()===n&&e.getFullYear()===r}},{key:"isDateDisabled",value:function(e,t,n){if(this.props.disabledDates)for(var r=0;r<this.props.disabledDates.length;r++){var i=this.props.disabledDates[r];if(i.getFullYear()===n&&i.getMonth()===t&&i.getDate()===e)return!0}return!1}},{key:"isDayDisabled",value:function(e,t,n){if(this.props.disabledDays){var r=new Date(n,t,e).getDay();return-1!==this.props.disabledDays.indexOf(r)}return!1}},{key:"updateInputfield",value:function(e){if(this.inputRef&&this.inputRef.current){var t="";if(e)try{if(this.isSingleSelection())t=this.isValidDate(e)?this.formatDateTime(e):"";else if(this.isMultipleSelection())for(var n=0;n<e.length;n++){var r=e[n];t+=this.isValidDate(r)?this.formatDateTime(r):"",n!==e.length-1&&(t+=", ")}else if(this.isRangeSelection()&&e&&e.length){var i=e[0],o=e[1];t=this.isValidDate(i)?this.formatDateTime(i):"",o&&(t+=this.isValidDate(o)?" - "+this.formatDateTime(o):"")}}catch(s){t=e}this.inputRef.current.value=t}}},{key:"formatDateTime",value:function(e){var t=null;return e&&(this.props.timeOnly?t=this.formatTime(e):(t=this.formatDate(e,this.getDateFormat()),this.props.showTime&&(t+=" "+this.formatTime(e)))),t}},{key:"formatDate",value:function(e,t){if(!e)return"";var n,r=function(e){var r=n+1<t.length&&t.charAt(n+1)===e;return r&&n++,r},i=function(e,t,n){var i=""+t;if(r(e))for(;i.length<n;)i="0"+i;return i},o=function(e,t,n,i){return r(e)?i[t]:n[t]},s="",a=!1,l=Zu(this.props.locale),u=l.dayNamesShort,c=l.dayNames,p=l.monthNamesShort,h=l.monthNames;if(e)for(n=0;n<t.length;n++)if(a)"'"!==t.charAt(n)||r("'")?s+=t.charAt(n):a=!1;else switch(t.charAt(n)){case"d":s+=i("d",e.getDate(),2);break;case"D":s+=o("D",e.getDay(),u,c);break;case"o":s+=i("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":s+=i("m",e.getMonth()+1,2);break;case"M":s+=o("M",e.getMonth(),p,h);break;case"y":s+=r("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":s+=e.getTime();break;case"!":s+=1e4*e.getTime()+this.ticksTo1970;break;case"'":r("'")?s+="'":a=!0;break;default:s+=t.charAt(n)}return s}},{key:"formatTime",value:function(e){if(!e)return"";var t="",n=e.getHours(),r=e.getMinutes(),i=e.getSeconds(),o=e.getMilliseconds();return"12"===this.props.hourFormat&&n>11&&12!==n&&(n-=12),"12"===this.props.hourFormat?t+=0===n?12:n<10?"0"+n:n:t+=n<10?"0"+n:n,t+=":",t+=r<10?"0"+r:r,this.props.showSeconds&&(t+=":",t+=i<10?"0"+i:i),this.props.showMillisec&&(t+=".",t+=o<100?(o<10?"00":"0")+o:o),"12"===this.props.hourFormat&&(t+=e.getHours()>11?" PM":" AM"),t}},{key:"parseValueFromString",value:function(e){if(!e||0===e.trim().length)return null;var t;if(this.isSingleSelection())t=this.parseDateTime(e);else if(this.isMultipleSelection()){t=[];var n,r=Jp(e.split(","));try{for(r.s();!(n=r.n()).done;){var i=n.value;t.push(this.parseDateTime(i.trim()))}}catch(a){r.e(a)}finally{r.f()}}else if(this.isRangeSelection()){var o=e.split(" - ");t=[];for(var s=0;s<o.length;s++)t[s]=this.parseDateTime(o[s].trim())}return t}},{key:"parseDateTime",value:function(e){var t,n=e.split(" ");return this.props.timeOnly?(t=new Date,this.populateTime(t,n[0],n[1])):this.props.showTime?(t=this.parseDate(n[0],this.getDateFormat()),this.populateTime(t,n[1],n[2])):t=this.parseDate(e,this.getDateFormat()),t}},{key:"populateTime",value:function(e,t,n){if("12"===this.props.hourFormat&&"PM"!==n&&"AM"!==n)throw new Error("Invalid Time");var r=this.parseTime(t,n);e.setHours(r.hour),e.setMinutes(r.minute),e.setSeconds(r.second),e.setMilliseconds(r.millisecond)}},{key:"parseTime",value:function(e,t){var n=(e=this.props.showMillisec?e.replace(".",":"):e).split(":"),r=this.props.showSeconds?3:2;if(r=this.props.showMillisec?r+1:r,n.length!==r||2!==n[0].length||2!==n[1].length||this.props.showSeconds&&2!==n[2].length||this.props.showMillisec&&3!==n[3].length)throw new Error("Invalid time");var i=parseInt(n[0],10),o=parseInt(n[1],10),s=this.props.showSeconds?parseInt(n[2],10):null,a=this.props.showMillisec?parseInt(n[3],10):null;if(isNaN(i)||isNaN(o)||i>23||o>59||"12"===this.props.hourFormat&&i>12||this.props.showSeconds&&(isNaN(s)||s>59)||this.props.showMillisec&&(isNaN(s)||s>1e3))throw new Error("Invalid time");return"12"===this.props.hourFormat&&12!==i&&"PM"===t&&(i+=12),{hour:i,minute:o,second:s,millisecond:a}}},{key:"parseDate",value:function(e,t){if(null==t||null==e)throw new Error("Invalid arguments");if(""===(e="object"===Fp(e)?e.toString():e+""))return null;var n,r,i,o,s=0,a="string"!=typeof this.props.shortYearCutoff?this.props.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.props.shortYearCutoff,10),l=-1,u=-1,c=-1,p=-1,h=!1,d=function(e){var r=n+1<t.length&&t.charAt(n+1)===e;return r&&n++,r},f=function(t){var n=d(t),r="@"===t?14:"!"===t?20:"y"===t&&n?4:"o"===t?3:2,i=new RegExp("^\\d{"+("y"===t?r:1)+","+r+"}"),o=e.substring(s).match(i);if(!o)throw new Error("Missing number at position "+s);return s+=o[0].length,parseInt(o[0],10)},m=function(t,n,r){for(var i=-1,o=d(t)?r:n,a=[],l=0;l<o.length;l++)a.push([l,o[l]]);a.sort((function(e,t){return-(e[1].length-t[1].length)}));for(var u=0;u<a.length;u++){var c=a[u][1];if(e.substr(s,c.length).toLowerCase()===c.toLowerCase()){i=a[u][0],s+=c.length;break}}if(-1!==i)return i+1;throw new Error("Unknown name at position "+s)},g=function(){if(e.charAt(s)!==t.charAt(n))throw new Error("Unexpected literal at position "+s);s++};"month"===this.props.view&&(c=1);var v=Zu(this.props.locale),y=v.dayNamesShort,b=v.dayNames,w=v.monthNamesShort,E=v.monthNames;for(n=0;n<t.length;n++)if(h)"'"!==t.charAt(n)||d("'")?g():h=!1;else switch(t.charAt(n)){case"d":c=f("d");break;case"D":m("D",y,b);break;case"o":p=f("o");break;case"m":u=f("m");break;case"M":u=m("M",w,E);break;case"y":l=f("y");break;case"@":l=(o=new Date(f("@"))).getFullYear(),u=o.getMonth()+1,c=o.getDate();break;case"!":l=(o=new Date((f("!")-this.ticksTo1970)/1e4)).getFullYear(),u=o.getMonth()+1,c=o.getDate();break;case"'":d("'")?g():h=!0;break;default:g()}if(s<e.length&&(i=e.substr(s),!/^\s+/.test(i)))throw new Error("Extra/unparsed characters found in date: "+i);if(-1===l?l=(new Date).getFullYear():l<100&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=a?0:-100)),p>-1)for(u=1,c=p;;){if(c<=(r=this.getDaysCountInMonth(l,u-1)))break;u++,c-=r}if((o=this.daylightSavingAdjust(new Date(l,u-1,c))).getFullYear()!==l||o.getMonth()+1!==u||o.getDate()!==c)throw new Error("Invalid date");return o}},{key:"renderBackwardNavigator",value:function(e){var t=this,n=e?{onClick:this.onPrevButtonClick,onKeyDown:function(e){return t.onContainerButtonKeydown(e)}}:{style:{visibility:"hidden"}};return F.createElement("button",Ap({type:"button",className:"p-datepicker-prev p-link"},n),F.createElement("span",{className:"p-datepicker-prev-icon pi pi-chevron-left"}),F.createElement(Jc,null))}},{key:"renderForwardNavigator",value:function(e){var t=this,n=e?{onClick:this.onNextButtonClick,onKeyDown:function(e){return t.onContainerButtonKeydown(e)}}:{style:{visibility:"hidden"}};return F.createElement("button",Ap({type:"button",className:"p-datepicker-next p-link"},n),F.createElement("span",{className:"p-datepicker-next-icon pi pi-chevron-right"}),F.createElement(Jc,null))}},{key:"isInMinYear",value:function(e){return this.props.minDate&&this.props.minDate.getFullYear()===e.getFullYear()}},{key:"isInMaxYear",value:function(e){return this.props.maxDate&&this.props.maxDate.getFullYear()===e.getFullYear()}},{key:"renderTitleMonthElement",value:function(e){var t=this,n=Ju("monthNames",this.props.locale);if(this.props.monthNavigator&&"month"!==this.props.view){var r=this.getViewDate(),i=r.getMonth(),o=n.map((function(e,n){return(!t.isInMinYear(r)||n>=t.props.minDate.getMonth())&&(!t.isInMaxYear(r)||n<=t.props.maxDate.getMonth())?{label:e,value:n,index:n}:null})).filter((function(e){return!!e})),s=o.map((function(e){return e.label})),a=F.createElement("select",{className:"p-datepicker-month",onChange:function(e){return t.onMonthDropdownChange(e,e.target.value)},value:i},o.map((function(e){return F.createElement("option",{key:e.label,value:e.value},e.label)})));if(this.props.monthNavigatorTemplate){var l={onChange:this.onMonthDropdownChange,className:"p-datepicker-month",value:i,names:s,options:o,element:a,props:this.props};return Mc.getJSXElement(this.props.monthNavigatorTemplate,l)}return a}return F.createElement("span",{className:"p-datepicker-month"},n[e])}},{key:"renderTitleYearElement",value:function(e){var t=this;if(this.props.yearNavigator){for(var n=[],r=this.props.yearRange.split(":"),i=parseInt(r[0],10),o=parseInt(r[1],10),s=i;s<=o;s++)n.push(s);var a=this.getViewDate().getFullYear(),l=n.filter((function(e){return!(t.props.minDate&&t.props.minDate.getFullYear()>e||t.props.maxDate&&t.props.maxDate.getFullYear()<e)})),u=F.createElement("select",{className:"p-datepicker-year",onChange:function(e){return t.onYearDropdownChange(e,e.target.value)},value:a},l.map((function(e){return F.createElement("option",{key:e,value:e},e)})));if(this.props.yearNavigatorTemplate){var c=l.map((function(e,t){return{label:e,value:e,index:t}})),p={onChange:this.onYearDropdownChange,className:"p-datepicker-year",value:a,names:l,options:c,element:u,props:this.props};return Mc.getJSXElement(this.props.yearNavigatorTemplate,p)}return u}return F.createElement("span",{className:"p-datepicker-year"},e)}},{key:"renderTitle",value:function(e){var t=this.renderTitleMonthElement(e.month),n=this.renderTitleYearElement(e.year);return F.createElement("div",{className:"p-datepicker-title"},t,n)}},{key:"renderDayNames",value:function(e){var t=e.map((function(e,t){return F.createElement("th",{key:"".concat(e,"-").concat(t),scope:"col"},F.createElement("span",null,e))}));return this.props.showWeek?[F.createElement("th",{scope:"col",key:"wn",className:"p-datepicker-weekheader p-disabled"},F.createElement("span",null,Ju("weekHeader",this.props.locale)))].concat(Up(t)):t}},{key:"renderDateCellContent",value:function(e,t,n){var r=this,i=this.props.dateTemplate?this.props.dateTemplate(e):e.day;return F.createElement("span",{className:t,onClick:function(t){return r.onDateSelect(t,e)},onKeyDown:function(t){return r.onDateCellKeydown(t,e,n)}},i,F.createElement(Jc,null))}},{key:"renderWeek",value:function(e,t,n){var r=this,i=e.map((function(e){var t=r.isSelected(e),i=Cc({"p-datepicker-other-month":e.otherMonth,"p-datepicker-today":e.today}),o=Cc({"p-highlight":t,"p-disabled":!e.selectable}),s=e.otherMonth&&!r.props.showOtherMonths?null:r.renderDateCellContent(e,o,n);return F.createElement("td",{key:e.day,className:i},s)}));return this.props.showWeek?[F.createElement("td",{key:"wn"+t,className:"p-datepicker-weeknumber"},F.createElement("span",{className:"p-disabled"},t))].concat(Up(i)):i}},{key:"renderDates",value:function(e,t){var n=this;return e.dates.map((function(r,i){return F.createElement("tr",{key:i},n.renderWeek(r,e.weekNumbers[i],t))}))}},{key:"renderDateViewGrid",value:function(e,t,n){var r=this.renderDayNames(t),i=this.renderDates(e,n);return F.createElement("div",{className:"p-datepicker-calendar-container"},F.createElement("table",{className:"p-datepicker-calendar"},F.createElement("thead",null,F.createElement("tr",null,r)),F.createElement("tbody",null,i)))}},{key:"renderMonth",value:function(e,t){var n=this.createWeekDays(),r=this.renderBackwardNavigator(0===t),i=this.renderForwardNavigator(1===this.props.numberOfMonths||t===this.props.numberOfMonths-1),o=this.renderTitle(e),s=this.renderDateViewGrid(e,n,t),a=this.props.headerTemplate?this.props.headerTemplate():null;return F.createElement("div",{key:e.month,className:"p-datepicker-group"},F.createElement("div",{className:"p-datepicker-header"},a,r,o,i),s)}},{key:"renderMonths",value:function(e){var t=this,n=e.map((function(e,n){return t.renderMonth(e,n)}));return F.createElement("div",{className:"p-datepicker-group-container"},n)}},{key:"renderDateView",value:function(){var e=this.getViewDate(),t=this.createMonths(e.getMonth(),e.getFullYear()),n=this.renderMonths(t);return F.createElement(F.Fragment,null,n)}},{key:"renderMonthViewMonth",value:function(e){var t=this,n=Cc("p-monthpicker-month",{"p-highlight":this.isMonthSelected(e)}),r=Ju("monthNamesShort",this.props.locale)[e];return F.createElement("span",{key:r,className:n,onClick:function(n){return t.onMonthSelect(n,e)},onKeyDown:function(n){return t.onMonthCellKeydown(n,e)}},r,F.createElement(Jc,null))}},{key:"renderMonthViewMonths",value:function(){for(var e=[],t=0;t<=11;t++)e.push(this.renderMonthViewMonth(t));return e}},{key:"renderMonthView",value:function(){var e=this.renderBackwardNavigator(!0),t=this.renderForwardNavigator(!0),n=this.renderTitleYearElement(this.getViewDate().getFullYear()),r=this.renderMonthViewMonths();return F.createElement(F.Fragment,null,F.createElement("div",{className:"p-datepicker-group-container"},F.createElement("div",{className:"p-datepicker-group"},F.createElement("div",{className:"p-datepicker-header"},e,F.createElement("div",{className:"p-datepicker-title"},n),t))),F.createElement("div",{className:"p-monthpicker"},r))}},{key:"renderDatePicker",value:function(){if(!this.props.timeOnly)return"date"===this.props.view?this.renderDateView():"month"===this.props.view?this.renderMonthView():null}},{key:"renderHourPicker",value:function(){var e=this,t=this.getCurrentDateTime().getHours();"12"===this.props.hourFormat&&(0===t?t=12:t>11&&12!==t&&(t-=12));var n=t<10?"0"+t:t;return F.createElement("div",{className:"p-hour-picker"},F.createElement("button",{type:"button",className:"p-link",onMouseDown:function(t){return e.onTimePickerElementMouseDown(t,0,1)},onMouseUp:this.onTimePickerElementMouseUp,onMouseLeave:this.onTimePickerElementMouseLeave,onKeyDown:function(t){return e.onContainerButtonKeydown(t)}},F.createElement("span",{className:"pi pi-chevron-up"}),F.createElement(Jc,null)),F.createElement("span",null,n),F.createElement("button",{type:"button",className:"p-link",onMouseDown:function(t){return e.onTimePickerElementMouseDown(t,0,-1)},onMouseUp:this.onTimePickerElementMouseUp,onMouseLeave:this.onTimePickerElementMouseLeave,onKeyDown:function(t){return e.onContainerButtonKeydown(t)}},F.createElement("span",{className:"pi pi-chevron-down"}),F.createElement(Jc,null)))}},{key:"renderMinutePicker",value:function(){var e=this,t=this.getCurrentDateTime().getMinutes(),n=t<10?"0"+t:t;return F.createElement("div",{className:"p-minute-picker"},F.createElement("button",{type:"button",className:"p-link",onMouseDown:function(t){return e.onTimePickerElementMouseDown(t,1,1)},onMouseUp:this.onTimePickerElementMouseUp,onMouseLeave:this.onTimePickerElementMouseLeave,onKeyDown:function(t){return e.onContainerButtonKeydown(t)}},F.createElement("span",{className:"pi pi-chevron-up"}),F.createElement(Jc,null)),F.createElement("span",null,n),F.createElement("button",{type:"button",className:"p-link",onMouseDown:function(t){return e.onTimePickerElementMouseDown(t,1,-1)},onMouseUp:this.onTimePickerElementMouseUp,onMouseLeave:this.onTimePickerElementMouseLeave,onKeyDown:function(t){return e.onContainerButtonKeydown(t)}},F.createElement("span",{className:"pi pi-chevron-down"}),F.createElement(Jc,null)))}},{key:"renderSecondPicker",value:function(){var e=this;if(this.props.showSeconds){var t=this.getCurrentDateTime().getSeconds(),n=t<10?"0"+t:t;return F.createElement("div",{className:"p-second-picker"},F.createElement("button",{type:"button",className:"p-link",onMouseDown:function(t){return e.onTimePickerElementMouseDown(t,2,1)},onMouseUp:this.onTimePickerElementMouseUp,onMouseLeave:this.onTimePickerElementMouseLeave,onKeyDown:function(t){return e.onContainerButtonKeydown(t)}},F.createElement("span",{className:"pi pi-chevron-up"}),F.createElement(Jc,null)),F.createElement("span",null,n),F.createElement("button",{type:"button",className:"p-link",onMouseDown:function(t){return e.onTimePickerElementMouseDown(t,2,-1)},onMouseUp:this.onTimePickerElementMouseUp,onMouseLeave:this.onTimePickerElementMouseLeave,onKeyDown:function(t){return e.onContainerButtonKeydown(t)}},F.createElement("span",{className:"pi pi-chevron-down"}),F.createElement(Jc,null)))}return null}},{key:"renderMiliSecondPicker",value:function(){var e=this;if(this.props.showMillisec){var t=this.getCurrentDateTime().getMilliseconds(),n=t<100?(t<10?"00":"0")+t:t;return F.createElement("div",{className:"p-millisecond-picker"},F.createElement("button",{type:"button",className:"p-link",onMouseDown:function(t){return e.onTimePickerElementMouseDown(t,3,1)},onMouseUp:this.onTimePickerElementMouseUp,onMouseLeave:this.onTimePickerElementMouseLeave,onKeyDown:function(t){return e.onContainerButtonKeydown(t)}},F.createElement("span",{className:"pi pi-chevron-up"}),F.createElement(Jc,null)),F.createElement("span",null,n),F.createElement("button",{type:"button",className:"p-link",onMouseDown:function(t){return e.onTimePickerElementMouseDown(t,3,-1)},onMouseUp:this.onTimePickerElementMouseUp,onMouseLeave:this.onTimePickerElementMouseLeave,onKeyDown:function(t){return e.onContainerButtonKeydown(t)}},F.createElement("span",{className:"pi pi-chevron-down"}),F.createElement(Jc,null)))}return null}},{key:"renderAmPmPicker",value:function(){if("12"===this.props.hourFormat){var e=this.getCurrentDateTime().getHours()>11?"PM":"AM";return F.createElement("div",{className:"p-ampm-picker"},F.createElement("button",{type:"button",className:"p-link",onClick:this.toggleAmPm},F.createElement("span",{className:"pi pi-chevron-up"}),F.createElement(Jc,null)),F.createElement("span",null,e),F.createElement("button",{type:"button",className:"p-link",onClick:this.toggleAmPm},F.createElement("span",{className:"pi pi-chevron-down"}),F.createElement(Jc,null)))}return null}},{key:"renderSeparator",value:function(e){return F.createElement("div",{className:"p-separator"},F.createElement("span",null,e))}},{key:"renderTimePicker",value:function(){return this.props.showTime||this.props.timeOnly?F.createElement("div",{className:"p-timepicker"},this.renderHourPicker(),this.renderSeparator(":"),this.renderMinutePicker(),this.props.showSeconds&&this.renderSeparator(":"),this.renderSecondPicker(),this.props.showMillisec&&this.renderSeparator("."),this.renderMiliSecondPicker(),"12"===this.props.hourFormat&&this.renderSeparator(":"),this.renderAmPmPicker()):null}},{key:"renderInputElement",value:function(){return this.props.inline?null:F.createElement(Cp,{ref:this.inputRef,id:this.props.inputId,name:this.props.name,type:"text",className:this.props.inputClassName,style:this.props.inputStyle,readOnly:this.props.readOnlyInput,disabled:this.props.disabled,required:this.props.required,autoComplete:"off",placeholder:this.props.placeholder,onInput:this.onUserInput,onFocus:this.onInputFocus,onBlur:this.onInputBlur,onKeyDown:this.onInputKeyDown,"aria-labelledby":this.props.ariaLabelledBy,inputMode:this.props.inputMode})}},{key:"renderButton",value:function(){return this.props.showIcon?F.createElement(_p,{type:"button",icon:this.props.icon,onClick:this.onButtonClick,tabIndex:"-1",disabled:this.props.disabled,className:"p-datepicker-trigger"}):null}},{key:"renderButtonBar",value:function(){var e=this;if(this.props.showButtonBar){var t=Cc("p-button-text",this.props.todayButtonClassName),n=Cc("p-button-text",this.props.clearButtonClassName),r=Zu(this.props.locale),i=r.today,o=r.clear;return F.createElement("div",{className:"p-datepicker-buttonbar"},F.createElement(_p,{type:"button",label:i,onClick:this.onTodayButtonClick,onKeyDown:function(t){return e.onContainerButtonKeydown(t)},className:t}),F.createElement(_p,{type:"button",label:o,onClick:this.onClearButtonClick,onKeyDown:function(t){return e.onContainerButtonKeydown(t)},className:n}))}return null}},{key:"renderFooter",value:function(){if(this.props.footerTemplate){var e=this.props.footerTemplate();return F.createElement("div",{className:"p-datepicker-footer"},e)}return null}},{key:"render",value:function(){var e=this,t=Cc("p-calendar p-component p-inputwrapper",this.props.className,{"p-calendar-w-btn":this.props.showIcon,"p-calendar-disabled":this.props.disabled,"p-calendar-timeonly":this.props.timeOnly,"p-inputwrapper-filled":this.props.value||Ic.hasClass(this.inputRef.current,"p-filled")&&""!==this.inputRef.current.value,"p-inputwrapper-focus":this.state.focused}),n=Cc("p-datepicker p-component",this.props.panelClassName,{"p-datepicker-inline":this.props.inline,"p-disabled":this.props.disabled,"p-datepicker-timeonly":this.props.timeOnly,"p-datepicker-multiple-month":this.props.numberOfMonths>1,"p-datepicker-monthpicker":"month"===this.props.view,"p-datepicker-touch-ui":this.props.touchUI}),r=this.renderInputElement(),i=this.renderButton(),o=this.renderDatePicker(),s=this.renderTimePicker(),a=this.renderButtonBar(),l=this.renderFooter(),u=this.props.inline||this.isVisible();return F.createElement("span",{ref:function(t){return e.container=t},id:this.props.id,className:t,style:this.props.style},r,i,F.createElement(Qp,{ref:this.overlayRef,className:n,style:this.props.panelStyle,appendTo:this.props.appendTo,inline:this.props.inline,onClick:this.onPanelClick,in:u,onEnter:this.onOverlayEnter,onEntered:this.onOverlayEntered,onExit:this.onOverlayExit,onExited:this.onOverlayExited,transitionOptions:this.props.transitionOptions},o,s,a,l))}}]),r}();function ih(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oh(e,t){return(oh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sh(e){return(sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ah(e,t){return!t||"object"!==sh(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lh(e){return(lh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lh(e);if(t){var i=lh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ah(this,n)}}$p(rh,"defaultProps",{id:null,inputRef:null,name:null,value:null,visible:!1,viewDate:null,style:null,className:null,inline:!1,selectionMode:"single",inputId:null,inputStyle:null,inputClassName:null,inputMode:"none",required:!1,readOnlyInput:!1,keepInvalid:!1,mask:null,disabled:!1,tabIndex:null,placeholder:null,showIcon:!1,icon:"pi pi-calendar",showOnFocus:!0,numberOfMonths:1,view:"date",touchUI:!1,showTime:!1,timeOnly:!1,showSeconds:!1,showMillisec:!1,hourFormat:"24",stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,shortYearCutoff:"+10",hideOnDateTimeSelect:!1,showWeek:!1,locale:null,dateFormat:null,panelStyle:null,panelClassName:null,monthNavigator:!1,yearNavigator:!1,yearRange:null,disabledDates:null,disabledDays:null,minDate:null,maxDate:null,maxDateCount:null,showOtherMonths:!0,selectOtherMonths:!1,showButtonBar:!1,todayButtonClassName:"p-button-secondary",clearButtonClassName:"p-button-secondary",autoZIndex:!0,baseZIndex:0,appendTo:null,tooltip:null,tooltipOptions:null,ariaLabelledBy:null,dateTemplate:null,headerTemplate:null,footerTemplate:null,monthNavigatorTemplate:null,yearNavigatorTemplate:null,transitionOptions:null,onVisibleChange:null,onFocus:null,onBlur:null,onInput:null,onSelect:null,onChange:null,onViewDateChange:null,onTodayButtonClick:null,onClearButtonClick:null,onShow:null,onHide:null});var ch,ph,hh,dh=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oh(e,t)}(r,e.exports.Component);var n=uh(r);function r(){return ih(this,r),n.apply(this,arguments)}return r}();function fh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gh(e,t){return(gh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vh(e){return(vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yh(e,t){return!t||"object"!==vh(t)&&"function"!=typeof t?mh(e):t}function bh(e){return(bh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eh(Object(n),!0).forEach((function(t){wh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bh(e);if(t){var i=bh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yh(this,n)}}hh={columnKey:null,field:null,sortField:null,filterField:null,header:null,body:null,loadingBody:null,footer:null,sortable:!1,sortableDisabled:!1,sortFunction:null,filter:!1,filterMatchMode:"startsWith",filterPlaceholder:null,filterType:"text",filterMaxLength:null,filterElement:null,filterFunction:null,filterHeaderStyle:null,filterHeaderClassName:null,style:null,className:null,headerStyle:null,headerClassName:null,bodyStyle:null,bodyClassName:null,footerStyle:null,footerClassName:null,expander:!1,frozen:!1,selectionMode:null,colSpan:null,rowSpan:null,editor:null,editorValidator:null,editorValidatorEvent:"click",onBeforeEditorHide:null,onBeforeEditorShow:null,onEditorInit:null,onEditorSubmit:null,onEditorCancel:null,excludeGlobalFilter:!1,rowReorder:!1,rowReorderIcon:"pi pi-bars",rowEditor:!1,exportable:!0,reorderable:!0},(ph="defaultProps")in(ch=dh)?Object.defineProperty(ch,ph,{value:hh,enumerable:!0,configurable:!0,writable:!0}):ch[ph]=hh;var Ch=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gh(e,t)}(s,e.exports.Component);var n,r,i,o=Sh(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var n=(t=o.call(this,e)).isBoth();return t.state={first:n?{rows:0,cols:0}:0,last:n?{rows:0,cols:0}:0,numItemsInViewport:n?{rows:0,cols:0}:0,numToleratedItems:e.numToleratedItems,loading:!1},t.onScroll=t.onScroll.bind(mh(t)),t.lastScrollPos=n?{top:0,left:0}:0,t}return n=s,(r=[{key:"scrollTo",value:function(e){this.element&&this.element.scrollTo(e)}},{key:"scrollToIndex",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",r=this.isBoth(),i=this.isHorizontal(),o=this.state.first,s=this.props.itemSize,a=this.getContentPadding(),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<=t.state.numToleratedItems?0:e},u=function(e,t,n){return e*t+n},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.scrollTo({left:e,top:r,behavior:n})};if(r){var p={rows:l(e[0]),cols:l(e[1])};(p.rows!==o.rows||p.cols!==o.cols)&&c(u(p.cols,s[1],a.left),u(p.rows,s[0],a.top))}else{var h=l(e);h!==o&&(i?c(u(h,s,a.left),0):c(0,u(h,s,a.top)))}}},{key:"scrollInView",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";if(t){var i=this.isBoth(),o=this.isHorizontal(),s=this.getRenderedRange(),a=s.first,l=s.viewport,u=this.props.itemSize,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n.scrollTo({left:e,top:t,behavior:r})},p="to-start"===t,h="to-end"===t;if(p){if(i)l.first.rows-a.rows>e[0]?c(l.first.cols*u,(l.first.rows-1)*u):l.first.cols-a.cols>e[1]&&c((l.first.cols-1)*u,l.first.rows*u);else if(l.first-a>e){var d=(l.first-1)*u;o?c(d,0):c(0,d)}}else if(h)if(i)l.last.rows-a.rows<=e[0]+1?c(l.first.cols*u,(l.first.rows+1)*u):l.last.cols-a.cols<=e[1]+1&&c((l.first.cols+1)*u,l.first.rows*u);else if(l.last-a<=e+1){var f=(l.first+1)*u;o?c(f,0):c(0,f)}}else this.scrollToIndex(e,r)}},{key:"getRenderedRange",value:function(){var e=this.isBoth(),t=this.isHorizontal(),n=this.state,r=n.first,i=n.last,o=n.numItemsInViewport,s=this.props.itemSize,a=function(e,t){return Math.floor(e/(t||e))},l=r,u=0;if(this.element){var c=this.element.scrollTop,p=this.element.scrollLeft;u=e?{rows:(l={rows:a(c,s[0]),cols:a(p,s[1])}).rows+o.rows,cols:l.cols+o.cols}:(l=a(t?p:c,s))+o}return{first:r,last:i,viewport:{first:l,last:u}}}},{key:"isHorizontal",value:function(){return"horizontal"===this.props.orientation}},{key:"isBoth",value:function(){return"both"===this.props.orientation}},{key:"calculateOptions",value:function(){var e=this,t=this.isBoth(),n=this.isHorizontal(),r=this.state.first,i=this.props.itemSize,o=this.getContentPadding(),s=this.element?this.element.offsetWidth-o.left:0,a=this.element?this.element.offsetHeight-o.top:0,l=function(e,t){return Math.ceil(e/(t||e))},u=t?{rows:l(a,i[0]),cols:l(s,i[1])}:l(n?s:a,i),c=this.state.numToleratedItems||Math.ceil((t?u.rows:u)/2),p=function(t,n,r){return e.getLast(t+n+(t<c?2:3)*c,r)},h={numItemsInViewport:u,last:t?{rows:p(r.rows,u.rows),cols:p(r.cols,u.cols,!0)}:p(r,u),numToleratedItems:c};this.props.showLoader&&(h.loaderArr=Array.from({length:t?u.rows:u})),this.setState(h,(function(){e.props.lazy&&e.props.onLazyLoad&&e.props.onLazyLoad({first:e.state.first,last:e.state.last})}))}},{key:"getLast",value:function(e,t){return this.props.items?Math.min(t?this.props.items[0].length:this.props.items.length,e):0}},{key:"getContentPadding",value:function(){if(this.content){var e=getComputedStyle(this.content),t=parseInt(e.paddingLeft,10),n=parseInt(e.paddingRight,10),r=parseInt(e.paddingTop,10),i=parseInt(e.paddingBottom,10);return{left:t,right:n,top:r,bottom:i,x:t+n,y:r+i}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}},{key:"setSize",value:function(){var e=this;if(this.element){var t=this.isBoth(),n=this.isHorizontal(),r=this.element.parentElement,i=this.props.scrollWidth||"".concat(this.element.offsetWidth||r.offsetWidth,"px"),o=this.props.scrollHeight||"".concat(this.element.offsetHeight||r.offsetHeight,"px"),s=function(t,n){return e.element.style[t]=n};t?(s("height",o),s("width",i)):n?s("width",i):s("height",o)}}},{key:"setSpacerSize",value:function(){var e=this,t=this.props.items;if(this.spacer&&t){var n=this.isBoth(),r=this.isHorizontal(),i=this.props.itemSize,o=this.getContentPadding(),s=function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e.spacer.style[t]=(n||[]).length*r+i+"px"};n?(s("height",t[0],i[0],o.y),s("width",t[1],i[1],o.x)):r?s("width",t,i,o.x):s("height",t,i,o.y)}}},{key:"setContentPosition",value:function(e){var t=this;if(this.content){var n=this.isBoth(),r=this.isHorizontal(),i=e?e.first:this.state.first,o=this.props.itemSize,s=function(e,t){return e*t},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.content.style.transform="translate3d(".concat(e,"px, ").concat(n,"px, 0)")};if(n)a(s(i.cols,o[1]),s(i.rows,o[0]));else{var l=s(i,o);r?a(l,0):a(0,l)}}}},{key:"onScrollPositionChange",value:function(e){var t=this,n=e.target,r=this.isBoth(),i=this.isHorizontal(),o=this.state,s=o.first,a=o.last,l=o.numItemsInViewport,u=o.numToleratedItems,c=this.props.itemSize,p=this.getContentPadding(),h=function(e,t){return e?e>t?e-t:e:0},d=function(e,t){return Math.floor(e/(t||e))},f=function(e,t,n,r,i){return e<=u?u:i?n-r-u:t+u-1},m=function(e,t,n,r,i,o){return e<=u?0:o?e<t?n:e-u:e>t?n:e-2*u},g=function(e,n,r,i,o){var s=n+i+2*u;return e>=u&&(s+=u+1),t.getLast(s,o)},v=h(n.scrollTop,p.top),y=h(n.scrollLeft,p.left),b=0,w=a,E=!1;if(r){var k=this.lastScrollPos.top<=v,S=this.lastScrollPos.left<=y,C={rows:d(v,c[0]),cols:d(y,c[1])},D={rows:f(C.rows,s.rows,a.rows,l.rows,k),cols:f(C.cols,s.cols,a.cols,l.cols,S)};b={rows:m(C.rows,D.rows,s.rows,a.rows,l.rows,k),cols:m(C.cols,D.cols,s.cols,a.cols,l.cols,S)},w={rows:g(C.rows,b.rows,a.rows,l.rows),cols:g(C.cols,b.cols,a.cols,l.cols,!0)},E=b.rows!==s.rows||b.cols!==s.cols||w.rows!==a.rows||w.cols!==a.cols,this.lastScrollPos={top:v,left:y}}else{var x=i?y:v,T=this.lastScrollPos<=x,O=d(x,c);w=g(O,b=m(O,f(O,s,a,l,T),s,0,0,T),0,l),E=b!==s||w!==a,this.lastScrollPos=x}return{first:b,last:w,isRangeChanged:E}}},{key:"onScrollChange",value:function(e){var t=this,n=this.onScrollPositionChange(e),r=n.first,i=n.last;if(n.isRangeChanged){var o={first:r,last:i};this.setContentPosition(o),this.props.lazy&&this.props.onLazyLoad&&this.props.onLazyLoad(o),this.setState(o,(function(){t.props.onScrollIndexChange&&t.props.onScrollIndexChange(o)}))}}},{key:"onScroll",value:function(e){var t=this;this.props.onScroll&&this.props.onScroll(e),this.props.delay?(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.state.loading&&this.props.showLoader&&this.onScrollPositionChange(e).isRangeChanged&&this.setState({loading:!0}),this.scrollTimeout=setTimeout((function(){t.onScrollChange(e),t.state.loading&&t.props.showLoader&&!t.props.lazy&&t.setState({loading:!1})}),this.props.delay)):this.onScrollChange(e)}},{key:"getOptions",value:function(e,t){return{index:e,count:t,first:0===e,last:e===t-1,even:e%2==0,odd:e%2!=0,props:this.props}}},{key:"init",value:function(){this.setSize(),this.calculateOptions(),this.setSpacerSize()}},{key:"componentDidMount",value:function(){this.init()}},{key:"componentDidUpdate",value:function(e,t){e.itemSize===this.props.itemSize&&e.items&&e.items.length===(this.props.items||[]).length||this.init(),this.props.lazy&&e.loading!==this.props.loading&&this.state.loading!==this.props.loading&&this.setState({loading:this.props.loading}),e.orientation!==this.props.orientation&&(this.lastScrollPos=this.isBoth()?{top:0,left:0}:0)}},{key:"renderItem",value:function(e,t,n,r){var i=this.getOptions(t,n),o=Mc.getJSXElement(this.props.itemTemplate,r||e,i);return F.createElement(F.Fragment,{key:t},o)}},{key:"renderItems",value:function(){var e=this,t=this.props.items;if(t&&!this.state.loading){var n=this.isBoth(),r=this.state,i=r.first,o=r.last,s=t.length;return n?t.slice(i.rows,o.rows).map((function(t,n){var r=t.slice(i.cols,o.cols),a=i.rows+n;return e.renderItem(t,a,s,r)})):t.slice(i,o).map((function(t,n){var r=i+n;return e.renderItem(t,r,s)}))}return null}},{key:"renderLoaderItem",value:function(e,t,n){var r=kh(kh({},this.getOptions(e,t)),n||{}),i=Mc.getJSXElement(this.props.loadingTemplate,r);return F.createElement(F.Fragment,{key:e},i)}},{key:"renderLoader",value:function(){var e=this;if(this.state.loading){var t=Cc("p-virtualscroller-loader",{"p-component-overlay":!this.props.loadingTemplate}),n=F.createElement("i",{className:"p-virtualscroller-loading-icon pi pi-spinner pi-spin"});if(this.props.loadingTemplate){var r=this.isBoth(),i=this.state.numItemsInViewport,o=r?i.rows:i;n=this.state.loaderArr.map((function(t,n){return e.renderLoaderItem(n,o,r&&{numCols:i.cols})}))}return F.createElement("div",{className:t},n)}return null}},{key:"renderContent",value:function(){var e=this,t=this.renderItems(),n=F.createElement("div",{className:"p-virtualscroller-content",ref:function(t){return e.content=t}},t);if(this.props.contentTemplate){var r=this.state,i=r.loading,o=r.first,s=r.last,a={className:"p-virtualscroller-content",ref:function(t){return e.content=t},children:t,element:n,props:this.props,loading:i,first:o,last:s};return Mc.getJSXElement(this.props.contentTemplate,a)}return n}},{key:"render",value:function(){var e=this,t=Cc("p-virtualscroller",{"p-both-scroll":this.isBoth(),"p-horizontal-scroll":this.isHorizontal()},this.props.className),n=this.renderLoader(),r=this.renderContent();return F.createElement("div",{ref:function(t){return e.element=t},className:t,tabIndex:0,style:this.props.style,onScroll:this.onScroll},r,F.createElement("div",{ref:function(t){return e.spacer=t},className:"p-virtualscroller-spacer"}),n)}}])&&fh(n.prototype,r),i&&fh(n,i),s}();function Dh(){return(Dh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Th(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oh(e,t,n){return t&&Th(e.prototype,t),n&&Th(e,n),e}function Rh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ih(e,t){return(Ih=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ih(e,t)}function Mh(e){return(Mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ph(e,t){return!t||"object"!==Mh(t)&&"function"!=typeof t?Rh(e):t}function Lh(e){return(Lh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ah(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lh(e);if(t){var i=Lh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ph(this,n)}}wh(Ch,"defaultProps",{id:null,style:null,className:null,items:null,itemSize:0,scrollHeight:null,scrollWidth:null,orientation:"vertical",numToleratedItems:null,delay:0,lazy:!1,showLoader:!1,loadingTemplate:null,itemTemplate:null,contentTemplate:null,onScroll:null,onScrollIndexChange:null,onLazyLoad:null});var Fh=function(t){Nh(r,e.exports.Component);var n=Ah(r);function r(e){var t;return xh(this,r),(t=n.call(this,e)).onClick=t.onClick.bind(Rh(t)),t}return Oh(r,[{key:"onClick",value:function(e){this.props.onClick&&this.props.onClick({originalEvent:e,option:this.props.option})}},{key:"render",value:function(){var e=Cc("p-dropdown-item",{"p-highlight":this.props.selected,"p-disabled":this.props.disabled,"p-dropdown-item-empty":!this.props.label||0===this.props.label.length},this.props.option.className),t=this.props.template?Mc.getJSXElement(this.props.template,this.props.option):this.props.label;return F.createElement("li",{className:e,onClick:this.onClick,"aria-label":this.props.label,key:this.props.label,role:"option","aria-selected":this.props.selected},t,F.createElement(Jc,null))}}]),r}();function zh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zh(Object(n),!0).forEach((function(t){_h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lh(e);if(t){var i=Lh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ph(this,n)}}_h(Fh,"defaultProps",{option:null,label:null,template:null,selected:!1,disabled:!1,onClick:null});var jh=function(t){Nh(r,e.exports.Component);var n=Vh(r);function r(e){var t;return xh(this,r),(t=n.call(this,e)).onEnter=t.onEnter.bind(Rh(t)),t.onEntered=t.onEntered.bind(Rh(t)),t.onFilterInputChange=t.onFilterInputChange.bind(Rh(t)),t}return Oh(r,[{key:"onEnter",value:function(){var e=this;this.props.onEnter((function(){if(e.virtualScrollerRef){var t=e.props.getSelectedOptionIndex();-1!==t&&e.virtualScrollerRef.scrollToIndex(t)}}))}},{key:"onEntered",value:function(){var e=this;this.props.onEntered((function(){e.props.filter&&e.props.filterInputAutoFocus&&e.filterInput.focus()}))}},{key:"onFilterInputChange",value:function(e){this.virtualScrollerRef&&this.virtualScrollerRef.scrollToIndex(0),this.props.onFilterInputChange&&this.props.onFilterInputChange(e)}},{key:"isEmptyFilter",value:function(){return!(this.props.visibleOptions&&this.props.visibleOptions.length)&&this.props.hasFilter()}},{key:"renderGroupChildren",value:function(e){var t=this;return this.props.getOptionGroupChildren(e).map((function(e,n){var r=t.props.getOptionLabel(e),i=n+"_"+t.props.getOptionRenderKey(e),o=t.props.isOptionDisabled(e);return F.createElement(Fh,{key:i,label:r,option:e,template:t.props.itemTemplate,selected:t.props.isSelected(e),disabled:o,onClick:t.props.onOptionClick})}))}},{key:"renderEmptyMessage",value:function(e){var t=Mc.getJSXElement(e,this.props);return F.createElement("li",{className:"p-dropdown-empty-message"},t)}},{key:"renderItem",value:function(e,t){if(this.props.optionGroupLabel){var n=this.props.optionGroupTemplate?Mc.getJSXElement(this.props.optionGroupTemplate,e,t):this.props.getOptionGroupLabel(e),r=this.renderGroupChildren(e),i=t+"_"+this.props.getOptionGroupRenderKey(e);return F.createElement(F.Fragment,{key:i},F.createElement("li",{className:"p-dropdown-item-group"},n),r)}var o=this.props.getOptionLabel(e),s=t+"_"+this.props.getOptionRenderKey(e),a=this.props.isOptionDisabled(e);return F.createElement(Fh,{key:s,label:o,option:e,template:this.props.itemTemplate,selected:this.props.isSelected(e),disabled:a,onClick:this.props.onOptionClick})}},{key:"renderItems",value:function(){var e=this;return this.props.visibleOptions&&this.props.visibleOptions.length?this.props.visibleOptions.map((function(t,n){return e.renderItem(t,n)})):this.props.hasFilter()?this.renderEmptyMessage(this.props.emptyFilterMessage):this.renderEmptyMessage(this.props.emptyMessage)}},{key:"renderFilterClearIcon",value:function(){var e=this;return this.props.showFilterClear&&this.props.filterValue?F.createElement("i",{className:"p-dropdown-filter-clear-icon pi pi-times",onClick:function(){return e.props.onFilterClearIconClick((function(){return e.filterInput.focus()}))}}):null}},{key:"renderFilter",value:function(){var e=this;if(this.props.filter){var t=this.renderFilterClearIcon(),n=Cc("p-dropdown-filter-container",{"p-dropdown-clearable-filter":!!t});return F.createElement("div",{className:"p-dropdown-header"},F.createElement("div",{className:n},F.createElement("input",{ref:function(t){return e.filterInput=t},type:"text",autoComplete:"off",className:"p-dropdown-filter p-inputtext p-component",placeholder:this.props.filterPlaceholder,onKeyDown:this.props.onFilterInputKeyDown,onChange:this.onFilterInputChange,value:this.props.filterValue}),t,F.createElement("i",{className:"p-dropdown-filter-icon pi pi-search"})))}return null}},{key:"renderContent",value:function(){var e=this;if(this.props.virtualScrollerOptions){var t=Uh(Uh({},this.props.virtualScrollerOptions),{style:Uh(Uh({},this.props.virtualScrollerOptions.style),{height:this.props.scrollHeight}),className:Cc("p-dropdown-items-wrapper",this.props.virtualScrollerOptions.className),items:this.props.visibleOptions,onLazyLoad:function(t){return e.props.virtualScrollerOptions.onLazyLoad(Uh(Uh({},t),{filter:e.props.filterValue}))},itemTemplate:function(t,n){return t&&e.renderItem(t,n.index)},contentTemplate:function(t){var n=Cc("p-dropdown-items",t.className),r=e.isEmptyFilter()?e.renderEmptyMessage():t.children;return F.createElement("ul",{ref:t.ref,className:n,role:"listbox"},r)}});return F.createElement(Ch,Dh({ref:function(t){return e.virtualScrollerRef=t}},t))}var n=this.renderItems();return F.createElement("div",{className:"p-dropdown-items-wrapper",style:{maxHeight:this.props.scrollHeight||"auto"}},F.createElement("ul",{className:"p-dropdown-items",role:"listbox"},n))}},{key:"renderElement",value:function(){var e=Cc("p-dropdown-panel p-component",this.props.panelClassName),t=this.renderFilter(),n=this.renderContent();return F.createElement(hp,{nodeRef:this.props.forwardRef,classNames:"p-connected-overlay",in:this.props.in,timeout:{enter:120,exit:100},options:this.props.transitionOptions,unmountOnExit:!0,onEnter:this.onEnter,onEntering:this.props.onEntering,onEntered:this.onEntered,onExit:this.props.onExit,onExited:this.props.onExited},F.createElement("div",{ref:this.props.forwardRef,className:e,style:this.props.panelStyle,onClick:this.props.onClick},t,n))}},{key:"render",value:function(){var e=this.renderElement();return F.createElement(tp,{element:e,appendTo:this.props.appendTo})}}]),r}(),Bh=F.forwardRef((function(e,t){return F.createElement(jh,Dh({forwardRef:t},e))}));function Hh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hh(Object(n),!0).forEach((function(t){_h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wh(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return qh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qh(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function qh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lh(e);if(t){var i=Lh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ph(this,n)}}var $h=function(t){Nh(r,e.exports.Component);var n=Gh(r);function r(t){var i;return xh(this,r),(i=n.call(this,t)).state={filter:"",focused:!1,overlayVisible:!1},i.onClick=i.onClick.bind(Rh(i)),i.onInputFocus=i.onInputFocus.bind(Rh(i)),i.onInputBlur=i.onInputBlur.bind(Rh(i)),i.onInputKeyDown=i.onInputKeyDown.bind(Rh(i)),i.onEditableInputChange=i.onEditableInputChange.bind(Rh(i)),i.onEditableInputFocus=i.onEditableInputFocus.bind(Rh(i)),i.onOptionClick=i.onOptionClick.bind(Rh(i)),i.onFilterInputChange=i.onFilterInputChange.bind(Rh(i)),i.onFilterInputKeyDown=i.onFilterInputKeyDown.bind(Rh(i)),i.onFilterClearIconClick=i.onFilterClearIconClick.bind(Rh(i)),i.onPanelClick=i.onPanelClick.bind(Rh(i)),i.onOverlayEnter=i.onOverlayEnter.bind(Rh(i)),i.onOverlayEntered=i.onOverlayEntered.bind(Rh(i)),i.onOverlayExit=i.onOverlayExit.bind(Rh(i)),i.onOverlayExited=i.onOverlayExited.bind(Rh(i)),i.resetFilter=i.resetFilter.bind(Rh(i)),i.clear=i.clear.bind(Rh(i)),i.hasFilter=i.hasFilter.bind(Rh(i)),i.getOptionLabel=i.getOptionLabel.bind(Rh(i)),i.getOptionRenderKey=i.getOptionRenderKey.bind(Rh(i)),i.isOptionDisabled=i.isOptionDisabled.bind(Rh(i)),i.getOptionGroupChildren=i.getOptionGroupChildren.bind(Rh(i)),i.getOptionGroupLabel=i.getOptionGroupLabel.bind(Rh(i)),i.getOptionGroupRenderKey=i.getOptionGroupRenderKey.bind(Rh(i)),i.getSelectedOptionIndex=i.getSelectedOptionIndex.bind(Rh(i)),i.isSelected=i.isSelected.bind(Rh(i)),i.overlayRef=e.exports.createRef(),i.inputRef=e.exports.createRef(i.props.inputRef),i}return Oh(r,[{key:"onClick",value:function(e){this.props.disabled||Ic.hasClass(e.target,"p-dropdown-clear-icon")||"INPUT"===e.target.tagName||this.overlayRef.current&&this.overlayRef.current&&this.overlayRef.current.contains(e.target)||(this.focusInput.focus(),this.state.overlayVisible?this.hideOverlay():this.showOverlay())}},{key:"onInputFocus",value:function(e){var t=this;e.persist(),this.props.showOnFocus&&!this.state.overlayVisible&&this.showOverlay(),this.setState({focused:!0},(function(){t.props.onFocus&&t.props.onFocus(e)}))}},{key:"onInputBlur",value:function(e){var t=this;e.persist(),this.setState({focused:!1},(function(){t.props.onBlur&&t.props.onBlur(e)}))}},{key:"onPanelClick",value:function(e){lp.emit("overlay-click",{originalEvent:e,target:this.container})}},{key:"onInputKeyDown",value:function(e){switch(e.which){case 40:this.onDownKey(e);break;case 38:this.onUpKey(e);break;case 32:this.state.overlayVisible?this.hideOverlay():this.showOverlay(),e.preventDefault();break;case 13:this.hideOverlay(),e.preventDefault();break;case 27:case 9:this.hideOverlay();break;default:this.search(e)}}},{key:"onFilterInputKeyDown",value:function(e){switch(e.which){case 40:this.onDownKey(e);break;case 38:this.onUpKey(e);break;case 13:case 27:this.hideOverlay(),e.preventDefault()}}},{key:"onUpKey",value:function(e){if(this.getVisibleOptions()){var t=this.findPrevOption(this.getSelectedOptionIndex());t&&this.selectItem({originalEvent:e,option:t})}e.preventDefault()}},{key:"onDownKey",value:function(e){if(this.getVisibleOptions())if(!this.state.overlayVisible&&e.altKey)this.showOverlay();else{var t=this.findNextOption(this.getSelectedOptionIndex());t&&this.selectItem({originalEvent:e,option:t})}e.preventDefault()}},{key:"findNextOption",value:function(e){var t=this.getVisibleOptions();if(this.props.optionGroupLabel){var n=-1===e?0:e.group,r=-1===e?-1:e.option,i=this.findNextOptionInList(this.getOptionGroupChildren(t[n]),r);return i||(n+1!==t.length?this.findNextOption({group:n+1,option:-1}):null)}return this.findNextOptionInList(t,e)}},{key:"findNextOptionInList",value:function(e,t){var n=t+1;if(n===e.length)return null;var r=e[n];return this.isOptionDisabled(r)?this.findNextOptionInList(n):r}},{key:"findPrevOption",value:function(e){if(-1===e)return null;var t=this.getVisibleOptions();if(this.props.optionGroupLabel){var n=e.group,r=e.option,i=this.findPrevOptionInList(this.getOptionGroupChildren(t[n]),r);return i||(n>0?this.findPrevOption({group:n-1,option:this.getOptionGroupChildren(t[n-1]).length}):null)}return this.findPrevOptionInList(t,e)}},{key:"findPrevOptionInList",value:function(e,t){var n=t-1;if(n<0)return null;var r=e[n];return this.isOptionDisabled(r)?this.findPrevOption(n):r}},{key:"search",value:function(e){var t=this;this.searchTimeout&&clearTimeout(this.searchTimeout);var n=e.key;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=n,this.previousSearchChar===this.currentSearchChar?this.searchValue=this.currentSearchChar:this.searchValue=this.searchValue?this.searchValue+n:n,this.searchValue){var r=this.getSelectedOptionIndex(),i=this.props.optionGroupLabel?this.searchOptionInGroup(r):this.searchOption(++r);i&&(this.selectItem({originalEvent:e,option:i}),this.selectedOptionUpdated=!0)}this.searchTimeout=setTimeout((function(){t.searchValue=null}),250)}},{key:"searchOption",value:function(e){var t;if(this.searchValue){var n=this.getVisibleOptions();(t=this.searchOptionInRange(e,n.length))||(t=this.searchOptionInRange(0,e))}return t}},{key:"searchOptionInRange",value:function(e,t){for(var n=this.getVisibleOptions(),r=e;r<t;r++){var i=n[r];if(this.matchesSearchValue(i))return i}return null}},{key:"searchOptionInGroup",value:function(e){for(var t=-1===e?{group:0,option:-1}:e,n=this.getVisibleOptions(),r=t.group;r<n.length;r++)for(var i=this.getOptionGroupChildren(n[r]),o=t.group===r?t.option+1:0;o<i.length;o++)if(this.matchesSearchValue(i[o]))return i[o];for(var s=0;s<=t.group;s++)for(var a=this.getOptionGroupChildren(n[s]),l=0;l<(t.group===s?t.option:a.length);l++)if(this.matchesSearchValue(a[l]))return a[l];return null}},{key:"matchesSearchValue",value:function(e){return this.getOptionLabel(e).toLocaleLowerCase(this.props.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.props.filterLocale))}},{key:"onEditableInputChange",value:function(e){this.props.onChange&&this.props.onChange({originalEvent:e.originalEvent,value:e.target.value,stopPropagation:function(){},preventDefault:function(){},target:{name:this.props.name,id:this.props.id,value:e.target.value}})}},{key:"onEditableInputFocus",value:function(e){var t=this;e.persist(),this.setState({focused:!0},(function(){t.hideOverlay(),t.props.onFocus&&t.props.onFocus(e)}))}},{key:"onOptionClick",value:function(e){e.option.disabled||(this.selectItem(e),this.focusInput.focus()),this.hideOverlay()}},{key:"onFilterInputChange",value:function(e){var t=this,n=e.target.value;this.setState({filter:n},(function(){t.props.onFilter&&t.props.onFilter({originalEvent:e,filter:n})}))}},{key:"onFilterClearIconClick",value:function(e){this.resetFilter(e)}},{key:"resetFilter",value:function(e){var t=this;this.setState({filter:""},(function(){t.props.onFilter&&t.props.onFilter({filter:""}),e&&e()}))}},{key:"clear",value:function(e){this.props.onChange&&this.props.onChange({originalEvent:e,value:void 0,stopPropagation:function(){},preventDefault:function(){},target:{name:this.props.name,id:this.props.id,value:void 0}}),this.updateEditableLabel()}},{key:"selectItem",value:function(e){if(this.getSelectedOption()!==e.option){this.updateEditableLabel(e.option);var t=this.getOptionValue(e.option);this.props.onChange&&this.props.onChange({originalEvent:e.originalEvent,value:t,stopPropagation:function(){},preventDefault:function(){},target:{name:this.props.name,id:this.props.id,value:t}})}}},{key:"getSelectedOption",value:function(){var e=this.getSelectedOptionIndex();return-1!==e?this.props.optionGroupLabel?this.getOptionGroupChildren(this.props.options[e.group])[e.option]:this.props.options[e]:null}},{key:"getSelectedOptionIndex",value:function(){if(null!=this.props.value&&this.props.options){if(!this.props.optionGroupLabel)return this.findOptionIndexInList(this.props.value,this.props.options);for(var e=0;e<this.props.options.length;e++){var t=this.findOptionIndexInList(this.props.value,this.getOptionGroupChildren(this.props.options[e]));if(-1!==t)return{group:e,option:t}}}return-1}},{key:"findOptionIndexInList",value:function(e,t){for(var n=this.equalityKey(),r=0;r<t.length;r++)if(Mc.equals(e,this.getOptionValue(t[r]),n))return r;return-1}},{key:"isSelected",value:function(e){return Mc.equals(this.props.value,this.getOptionValue(e),this.equalityKey())}},{key:"equalityKey",value:function(){return this.props.optionValue?null:this.props.dataKey}},{key:"showOverlay",value:function(){this.setState({overlayVisible:!0})}},{key:"hideOverlay",value:function(){this.setState({overlayVisible:!1})}},{key:"onOverlayEnter",value:function(e){Wc.set("overlay",this.overlayRef.current),this.alignOverlay(),this.scrollInView(),e&&e()}},{key:"onOverlayEntered",value:function(e){this.bindDocumentClickListener(),this.bindScrollListener(),this.bindResizeListener(),e&&e(),this.props.onShow&&this.props.onShow()}},{key:"onOverlayExit",value:function(){this.unbindDocumentClickListener(),this.unbindScrollListener(),this.unbindResizeListener()}},{key:"onOverlayExited",value:function(){this.props.filter&&this.props.resetFilterOnHide&&this.resetFilter(),Wc.clear(this.overlayRef.current),this.props.onHide&&this.props.onHide()}},{key:"alignOverlay",value:function(){Ic.alignOverlay(this.overlayRef.current,this.input.parentElement,this.props.appendTo||Xu.appendTo)}},{key:"scrollInView",value:function(){var e=Ic.findSingle(this.overlayRef.current,"li.p-highlight");e&&e.scrollIntoView({block:"nearest",inline:"start"})}},{key:"bindDocumentClickListener",value:function(){var e=this;this.documentClickListener||(this.documentClickListener=function(t){e.state.overlayVisible&&e.isOutsideClicked(t)&&e.hideOverlay()},document.addEventListener("click",this.documentClickListener))}},{key:"unbindDocumentClickListener",value:function(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}},{key:"bindScrollListener",value:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Nc(this.container,(function(){e.state.overlayVisible&&e.hideOverlay()}))),this.scrollHandler.bindScrollListener()}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"bindResizeListener",value:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.state.overlayVisible&&!Ic.isAndroid()&&e.hideOverlay()},window.addEventListener("resize",this.resizeListener))}},{key:"unbindResizeListener",value:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}},{key:"isOutsideClicked",value:function(e){return this.container&&!(this.container.isSameNode(e.target)||this.isClearClicked(e)||this.container.contains(e.target)||this.overlayRef&&this.overlayRef.current.contains(e.target))}},{key:"isClearClicked",value:function(e){return Ic.hasClass(e.target,"p-dropdown-clear-icon")}},{key:"updateEditableLabel",value:function(e){this.input&&(this.input.value=e?this.getOptionLabel(e):this.props.value||"")}},{key:"hasFilter",value:function(){return this.state.filter&&this.state.filter.trim().length>0}},{key:"getOptionLabel",value:function(e){return this.props.optionLabel?Mc.resolveFieldData(e,this.props.optionLabel):e&&void 0!==e.label?e.label:e}},{key:"getOptionValue",value:function(e){return this.props.optionValue?Mc.resolveFieldData(e,this.props.optionValue):e&&void 0!==e.value?e.value:e}},{key:"getOptionRenderKey",value:function(e){return this.props.dataKey?Mc.resolveFieldData(e,this.props.dataKey):this.getOptionLabel(e)}},{key:"isOptionDisabled",value:function(e){return this.props.optionDisabled?Mc.isFunction(this.props.optionDisabled)?this.props.optionDisabled(e):Mc.resolveFieldData(e,this.props.optionDisabled):!(!e||void 0===e.disabled)&&e.disabled}},{key:"getOptionGroupRenderKey",value:function(e){return Mc.resolveFieldData(e,this.props.optionGroupLabel)}},{key:"getOptionGroupLabel",value:function(e){return Mc.resolveFieldData(e,this.props.optionGroupLabel)}},{key:"getOptionGroupChildren",value:function(e){return Mc.resolveFieldData(e,this.props.optionGroupChildren)}},{key:"checkValidity",value:function(){return this.inputRef.current.checkValidity()}},{key:"getVisibleOptions",value:function(){if(this.hasFilter()){var e=this.state.filter.trim().toLocaleLowerCase(this.props.filterLocale),t=this.props.filterBy?this.props.filterBy.split(","):[this.props.optionLabel||"label"];if(this.props.optionGroupLabel){var n,r=[],i=Wh(this.props.options);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=_c.filter(this.getOptionGroupChildren(o),t,e,this.props.filterMatchMode,this.props.filterLocale);s&&s.length&&r.push(Kh(Kh({},o),{items:s}))}}catch(a){i.e(a)}finally{i.f()}return r}return _c.filter(this.props.options,t,e,this.props.filterMatchMode,this.props.filterLocale)}return this.props.options}},{key:"updateInputField",value:function(){if(this.props.editable&&this.input){var e=this.getSelectedOption(),t=(e?this.getOptionLabel(e):null)||this.props.value||"";this.input.value=t}}},{key:"updateInputRef",value:function(){var e=this.props.inputRef;e&&("function"==typeof e?e(this.inputRef.current):e.current=this.inputRef.current)}},{key:"componentDidMount",value:function(){this.updateInputRef(),this.props.autoFocus&&this.focusInput&&this.focusInput.focus(),this.props.tooltip&&this.renderTooltip(),this.updateInputField(),this.inputRef.current.selectedIndex=1}},{key:"componentWillUnmount",value:function(){this.unbindDocumentClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.tooltip&&(this.tooltip.destroy(),this.tooltip=null),this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null),Wc.clear(this.overlayRef.current)}},{key:"componentDidUpdate",value:function(e){this.state.overlayVisible&&(this.props.filter&&this.alignOverlay(),e.value!==this.props.value&&this.scrollInView()),e.tooltip===this.props.tooltip&&e.tooltipOptions===this.props.tooltipOptions||(this.tooltip?this.tooltip.update(Kh({content:this.props.tooltip},this.props.tooltipOptions||{})):this.renderTooltip()),!this.state.filter||this.props.options&&0!==this.props.options.length||this.setState({filter:""}),this.updateInputField(),this.inputRef.current.selectedIndex=1}},{key:"renderHiddenSelect",value:function(e){var t=F.createElement("option",{value:""},this.props.placeholder),n=e?F.createElement("option",{value:e.value},this.getOptionLabel(e)):null;return F.createElement("div",{className:"p-hidden-accessible p-dropdown-hidden-select"},F.createElement("select",{ref:this.inputRef,required:this.props.required,name:this.props.name,tabIndex:-1,"aria-hidden":"true"},t,n))}},{key:"renderTooltip",value:function(){this.tooltip=op({target:this.container,content:this.props.tooltip,options:this.props.tooltipOptions})}},{key:"renderKeyboardHelper",value:function(){var e=this;return F.createElement("div",{className:"p-hidden-accessible"},F.createElement("input",{ref:function(t){return e.focusInput=t},id:this.props.inputId,type:"text",readOnly:!0,"aria-haspopup":"listbox",onFocus:this.onInputFocus,onBlur:this.onInputBlur,onKeyDown:this.onInputKeyDown,disabled:this.props.disabled,tabIndex:this.props.tabIndex,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy}))}},{key:"renderLabel",value:function(e){var t=this,n=e?this.getOptionLabel(e):null;if(this.props.editable){var r=n||this.props.value||"";return F.createElement("input",{ref:function(e){return t.input=e},type:"text",defaultValue:r,className:"p-dropdown-label p-inputtext",disabled:this.props.disabled,placeholder:this.props.placeholder,maxLength:this.props.maxLength,onInput:this.onEditableInputChange,onFocus:this.onEditableInputFocus,onBlur:this.onInputBlur,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-haspopup":"listbox"})}var i=Cc("p-dropdown-label p-inputtext",{"p-placeholder":null===n&&this.props.placeholder,"p-dropdown-label-empty":null===n&&!this.props.placeholder}),o=this.props.valueTemplate?Mc.getJSXElement(this.props.valueTemplate,e,this.props):n||this.props.placeholder||"empty";return F.createElement("span",{ref:function(e){return t.input=e},className:i},o)}},{key:"renderClearIcon",value:function(){return null!=this.props.value&&this.props.showClear&&!this.props.disabled?F.createElement("i",{className:"p-dropdown-clear-icon pi pi-times",onClick:this.clear}):null}},{key:"renderDropdownIcon",value:function(){var e=this,t=Cc("p-dropdown-trigger-icon p-clickable",this.props.dropdownIcon);return F.createElement("div",{ref:function(t){return e.trigger=t},className:"p-dropdown-trigger",role:"button","aria-haspopup":"listbox","aria-expanded":this.state.overlayVisible},F.createElement("span",{className:t}))}},{key:"render",value:function(){var e=this,t=Cc("p-dropdown p-component p-inputwrapper",this.props.className,{"p-disabled":this.props.disabled,"p-focus":this.state.focused,"p-dropdown-clearable":this.props.showClear&&!this.props.disabled,"p-inputwrapper-filled":this.props.value,"p-inputwrapper-focus":this.state.focused||this.state.overlayVisible}),n=this.getVisibleOptions(),r=this.getSelectedOption(),i=this.renderHiddenSelect(r),o=this.renderKeyboardHelper(),s=this.renderLabel(r),a=this.renderDropdownIcon(),l=this.renderClearIcon();return F.createElement("div",{id:this.props.id,ref:function(t){return e.container=t},className:t,style:this.props.style,onClick:this.onClick,onMouseDown:this.props.onMouseDown,onContextMenu:this.props.onContextMenu},o,i,s,l,a,F.createElement(Bh,Dh({ref:this.overlayRef,visibleOptions:n},this.props,{onClick:this.onPanelClick,onOptionClick:this.onOptionClick,filterValue:this.state.filter,hasFilter:this.hasFilter,onFilterClearIconClick:this.onFilterClearIconClick,onFilterInputKeyDown:this.onFilterInputKeyDown,onFilterInputChange:this.onFilterInputChange,getOptionLabel:this.getOptionLabel,getOptionRenderKey:this.getOptionRenderKey,isOptionDisabled:this.isOptionDisabled,getOptionGroupChildren:this.getOptionGroupChildren,getOptionGroupLabel:this.getOptionGroupLabel,getOptionGroupRenderKey:this.getOptionGroupRenderKey,isSelected:this.isSelected,getSelectedOptionIndex:this.getSelectedOptionIndex,in:this.state.overlayVisible,onEnter:this.onOverlayEnter,onEntered:this.onOverlayEntered,onExit:this.onOverlayExit,onExited:this.onOverlayExited})))}}]),r}();function Yh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qh(e){return(Qh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ed(e,t,n){return t&&Zh(e.prototype,t),n&&Zh(e,n),e}function td(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nd(e,t){return(nd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nd(e,t)}function id(e,t){return!t||"object"!==Qh(t)&&"function"!=typeof t?td(e):t}function od(e){return(od=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ad(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=od(e);if(t){var i=od(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return id(this,n)}}_h($h,"defaultProps",{id:null,inputRef:null,name:null,value:null,options:null,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,optionGroupTemplate:null,valueTemplate:null,itemTemplate:null,style:null,className:null,virtualScrollerOptions:null,scrollHeight:"200px",filter:!1,filterBy:null,filterMatchMode:"contains",filterPlaceholder:null,filterLocale:void 0,emptyMessage:"No records found",emptyFilterMessage:"No results found",editable:!1,placeholder:null,required:!1,disabled:!1,appendTo:null,tabIndex:null,autoFocus:!1,filterInputAutoFocus:!0,resetFilterOnHide:!1,showFilterClear:!1,panelClassName:null,panelStyle:null,dataKey:null,inputId:null,showClear:!1,maxLength:null,tooltip:null,tooltipOptions:null,ariaLabel:null,ariaLabelledBy:null,transitionOptions:null,dropdownIcon:"pi pi-chevron-down",showOnFocus:!1,onChange:null,onFocus:null,onBlur:null,onMouseDown:null,onContextMenu:null,onShow:null,onHide:null,onFilter:null});var ld=function(t){rd(r,e.exports.Component);var n=ad(r);function r(){return Jh(this,r),n.apply(this,arguments)}return ed(r,[{key:"render",value:function(){var e=Cc("p-paginator-first p-paginator-element p-link",{"p-disabled":this.props.disabled}),t="p-paginator-icon pi pi-angle-double-left",n=F.createElement("button",{type:"button",className:e,onClick:this.props.onClick,disabled:this.props.disabled},F.createElement("span",{className:t}),F.createElement(Jc,null));if(this.props.template){var r={onClick:this.props.onClick,className:e,iconClassName:t,disabled:this.props.disabled,element:n,props:this.props};return Mc.getJSXElement(this.props.template,r)}return n}}]),r}();function ud(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=od(e);if(t){var i=od(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return id(this,n)}}sd(ld,"defaultProps",{disabled:!1,onClick:null,template:null});var cd=function(t){rd(r,e.exports.Component);var n=ud(r);function r(){return Jh(this,r),n.apply(this,arguments)}return ed(r,[{key:"render",value:function(){var e=Cc("p-paginator-next p-paginator-element p-link",{"p-disabled":this.props.disabled}),t="p-paginator-icon pi pi-angle-right",n=F.createElement("button",{type:"button",className:e,onClick:this.props.onClick,disabled:this.props.disabled},F.createElement("span",{className:t}),F.createElement(Jc,null));if(this.props.template){var r={onClick:this.props.onClick,className:e,iconClassName:t,disabled:this.props.disabled,element:n,props:this.props};return Mc.getJSXElement(this.props.template,r)}return n}}]),r}();function pd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=od(e);if(t){var i=od(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return id(this,n)}}sd(cd,"defaultProps",{disabled:!1,onClick:null,template:null});var hd=function(t){rd(r,e.exports.Component);var n=pd(r);function r(){return Jh(this,r),n.apply(this,arguments)}return ed(r,[{key:"render",value:function(){var e=Cc("p-paginator-prev p-paginator-element p-link",{"p-disabled":this.props.disabled}),t="p-paginator-icon pi pi-angle-left",n=F.createElement("button",{type:"button",className:e,onClick:this.props.onClick,disabled:this.props.disabled},F.createElement("span",{className:t}),F.createElement(Jc,null));if(this.props.template){var r={onClick:this.props.onClick,className:e,iconClassName:t,disabled:this.props.disabled,element:n,props:this.props};return Mc.getJSXElement(this.props.template,r)}return n}}]),r}();function dd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=od(e);if(t){var i=od(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return id(this,n)}}sd(hd,"defaultProps",{disabled:!1,onClick:null,template:null});var fd=function(t){rd(r,e.exports.Component);var n=dd(r);function r(){return Jh(this,r),n.apply(this,arguments)}return ed(r,[{key:"render",value:function(){var e=Cc("p-paginator-last p-paginator-element p-link",{"p-disabled":this.props.disabled}),t="p-paginator-icon pi pi-angle-double-right",n=F.createElement("button",{type:"button",className:e,onClick:this.props.onClick,disabled:this.props.disabled},F.createElement("span",{className:t}),F.createElement(Jc,null));if(this.props.template){var r={onClick:this.props.onClick,className:e,iconClassName:t,disabled:this.props.disabled,element:n,props:this.props};return Mc.getJSXElement(this.props.template,r)}return n}}]),r}();function md(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=od(e);if(t){var i=od(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return id(this,n)}}sd(fd,"defaultProps",{disabled:!1,onClick:null,template:null});var gd=function(t){rd(r,e.exports.Component);var n=md(r);function r(){return Jh(this,r),n.apply(this,arguments)}return ed(r,[{key:"onPageLinkClick",value:function(e,t){this.props.onClick&&this.props.onClick({originalEvent:e,value:t}),e.preventDefault()}},{key:"render",value:function(){var e,t=this;if(this.props.value){var n=this.props.value[0],r=this.props.value[this.props.value.length-1];e=this.props.value.map((function(e,i){var o=Cc("p-paginator-page p-paginator-element p-link",{"p-paginator-page-start":e===n,"p-paginator-page-end":e===r,"p-highlight":e-1===t.props.page}),s=F.createElement("button",{type:"button",className:o,onClick:function(n){return t.onPageLinkClick(n,e)}},e,F.createElement(Jc,null));if(t.props.template){var a={onClick:function(n){return t.onPageLinkClick(n,e)},className:o,view:{startPage:n-1,endPage:r-1},page:e-1,currentPage:t.props.page,totalPages:t.props.pageCount,element:s,props:t.props};s=Mc.getJSXElement(t.props.template,a)}return F.createElement(F.Fragment,{key:e},s)}))}return F.createElement("span",{className:"p-paginator-pages"},e)}}]),r}();function vd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=od(e);if(t){var i=od(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return id(this,n)}}sd(gd,"defaultProps",{value:null,page:null,rows:null,pageCount:null,links:null,template:null});var yd=function(t){rd(r,e.exports.Component);var n=vd(r);function r(){return Jh(this,r),n.apply(this,arguments)}return ed(r,[{key:"hasOptions",value:function(){return this.props.options&&this.props.options.length>0}},{key:"render",value:function(){var e=this.hasOptions(),t=e?this.props.options.map((function(e){return{label:String(e),value:e}})):[],n=e?F.createElement($h,{value:this.props.value,options:t,onChange:this.props.onChange,appendTo:this.props.appendTo}):null;if(this.props.template){var r={value:this.props.value,options:t,onChange:this.props.onChange,appendTo:this.props.appendTo,currentPage:this.props.page,totalPages:this.props.pageCount,totalRecords:this.props.totalRecords,element:n,props:this.props};return Mc.getJSXElement(this.props.template,r)}return n}}]),r}();function bd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bd(Object(n),!0).forEach((function(t){sd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ed(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=od(e);if(t){var i=od(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return id(this,n)}}sd(yd,"defaultProps",{options:null,value:null,page:null,pageCount:null,totalRecords:0,appendTo:null,onChange:null,template:null});var kd=function(t){rd(r,e.exports.Component);var n=Ed(r);function r(){return Jh(this,r),n.apply(this,arguments)}return ed(r,[{key:"render",value:function(){var e={currentPage:this.props.page+1,totalPages:this.props.pageCount,first:Math.min(this.props.first+1,this.props.totalRecords),last:Math.min(this.props.first+this.props.rows,this.props.totalRecords),rows:this.props.rows,totalRecords:this.props.totalRecords},t=this.props.reportTemplate.replace("{currentPage}",e.currentPage).replace("{totalPages}",e.totalPages).replace("{first}",e.first).replace("{last}",e.last).replace("{rows}",e.rows).replace("{totalRecords}",e.totalRecords),n=F.createElement("span",{className:"p-paginator-current"},t);if(this.props.template){var r=wd(wd({},e),{className:"p-paginator-current",element:n,props:this.props});return Mc.getJSXElement(this.props.template,r)}return n}}]),r}();function Sd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=od(e);if(t){var i=od(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return id(this,n)}}sd(kd,"defaultProps",{pageCount:null,page:null,first:null,rows:null,totalRecords:null,reportTemplate:"({currentPage} of {totalPages})",template:null});var Cd=function(t){rd(r,e.exports.Component);var n=Sd(r);function r(e){var t;return Jh(this,r),(t=n.call(this,e)).changePageToFirst=t.changePageToFirst.bind(td(t)),t.changePageToPrev=t.changePageToPrev.bind(td(t)),t.changePageToNext=t.changePageToNext.bind(td(t)),t.changePageToLast=t.changePageToLast.bind(td(t)),t.onRowsChange=t.onRowsChange.bind(td(t)),t.onPageLinkClick=t.onPageLinkClick.bind(td(t)),t}return ed(r,[{key:"isFirstPage",value:function(){return 0===this.getPage()}},{key:"isLastPage",value:function(){return this.getPage()===this.getPageCount()-1}},{key:"getPageCount",value:function(){return Math.ceil(this.props.totalRecords/this.props.rows)||1}},{key:"calculatePageLinkBoundaries",value:function(){var e=this.getPageCount(),t=Math.min(this.props.pageLinkSize,e),n=Math.max(0,Math.ceil(this.getPage()-t/2)),r=Math.min(e-1,n+t-1),i=this.props.pageLinkSize-(r-n+1);return[n=Math.max(0,n-i),r]}},{key:"updatePageLinks",value:function(){for(var e=[],t=this.calculatePageLinkBoundaries(),n=t[0],r=t[1],i=n;i<=r;i++)e.push(i+1);return e}},{key:"changePage",value:function(e,t){var n=this.getPageCount(),r=Math.floor(e/t);if(r>=0&&r<n){var i={first:e,rows:t,page:r,pageCount:n};this.props.onPageChange&&this.props.onPageChange(i)}}},{key:"getPage",value:function(){return Math.floor(this.props.first/this.props.rows)}},{key:"changePageToFirst",value:function(e){this.changePage(0,this.props.rows),e.preventDefault()}},{key:"changePageToPrev",value:function(e){this.changePage(this.props.first-this.props.rows,this.props.rows),e.preventDefault()}},{key:"onPageLinkClick",value:function(e){this.changePage((e.value-1)*this.props.rows,this.props.rows)}},{key:"changePageToNext",value:function(e){this.changePage(this.props.first+this.props.rows,this.props.rows),e.preventDefault()}},{key:"changePageToLast",value:function(e){this.changePage((this.getPageCount()-1)*this.props.rows,this.props.rows),e.preventDefault()}},{key:"onRowsChange",value:function(e){var t=e.value;this.isRowChanged=t!==this.props.rows,this.changePage(0,t)}},{key:"componentDidUpdate",value:function(e,t){this.props.rows===e.rows||this.isRowChanged?this.getPage()>0&&e.totalRecords!==this.props.totalRecords&&this.props.first>=this.props.totalRecords&&this.changePage((this.getPageCount()-1)*this.props.rows,this.props.rows):this.changePage(0,this.props.rows),this.isRowChanged=!1}},{key:"renderElement",value:function(e,t){var n;switch(e){case"FirstPageLink":n=F.createElement(ld,{key:e,onClick:this.changePageToFirst,disabled:this.isFirstPage(),template:t});break;case"PrevPageLink":n=F.createElement(hd,{key:e,onClick:this.changePageToPrev,disabled:this.isFirstPage(),template:t});break;case"NextPageLink":n=F.createElement(cd,{key:e,onClick:this.changePageToNext,disabled:this.isLastPage(),template:t});break;case"LastPageLink":n=F.createElement(fd,{key:e,onClick:this.changePageToLast,disabled:this.isLastPage(),template:t});break;case"PageLinks":n=F.createElement(gd,{key:e,value:this.updatePageLinks(),page:this.getPage(),rows:this.props.rows,pageCount:this.getPageCount(),onClick:this.onPageLinkClick,template:t});break;case"RowsPerPageDropdown":n=F.createElement(yd,{key:e,value:this.props.rows,page:this.getPage(),pageCount:this.getPageCount(),totalRecords:this.props.totalRecords,options:this.props.rowsPerPageOptions,onChange:this.onRowsChange,appendTo:this.props.dropdownAppendTo,template:t});break;case"CurrentPageReport":n=F.createElement(kd,{reportTemplate:this.props.currentPageReportTemplate,key:e,page:this.getPage(),pageCount:this.getPageCount(),first:this.props.first,rows:this.props.rows,totalRecords:this.props.totalRecords,template:t});break;default:n=null}return n}},{key:"renderElements",value:function(){var e=this,t=this.props.template;return t?"object"===Qh(t)?t.layout?t.layout.split(" ").map((function(n){var r=n.trim();return e.renderElement(r,t[r])})):Object.entries(t).map((function(t){var n=Xh(t,2),r=n[0],i=n[1];return e.renderElement(r,i)})):t.split(" ").map((function(t){return e.renderElement(t.trim())})):null}},{key:"render",value:function(){if(this.props.alwaysShow||1!==this.getPageCount()){var e=Cc("p-paginator p-component",this.props.className),t=Mc.getJSXElement(this.props.leftContent,this.props),n=Mc.getJSXElement(this.props.rightContent,this.props),r=this.renderElements(),i=t&&F.createElement("div",{className:"p-paginator-left-content"},t),o=n&&F.createElement("div",{className:"p-paginator-right-content"},n);return F.createElement("div",{className:e,style:this.props.style},i,r,o)}return null}}]),r}();function Dd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xd(e){return function(e){if(Array.isArray(e))return Dd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Dd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dd(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Td(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Od(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rd(e,t,n){return t&&Od(e.prototype,t),n&&Od(e,n),e}function Id(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nd(e,t){return(Nd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Md(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nd(e,t)}function Pd(e){return(Pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ld(e,t){return!t||"object"!==Pd(t)&&"function"!=typeof t?Id(e):t}function _d(e){return(_d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ad(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_d(e);if(t){var i=_d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ld(this,n)}}sd(Cd,"defaultProps",{totalRecords:0,rows:0,first:0,pageLinkSize:5,rowsPerPageOptions:null,alwaysShow:!0,style:null,className:null,template:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",onPageChange:null,leftContent:null,rightContent:null,dropdownAppendTo:null,currentPageReportTemplate:"({currentPage} of {totalPages})"});var zd=function(t){Md(r,e.exports.Component);var n=Fd(r);function r(e){var t;return Td(this,r),(t=n.call(this,e)).onHeaderScroll=t.onHeaderScroll.bind(Id(t)),t.onBodyScroll=t.onBodyScroll.bind(Id(t)),t}return Rd(r,[{key:"componentDidMount",value:function(){if(this.setScrollHeight(),this.props.frozen)this.scrollBody.style.paddingBottom=Ic.calculateScrollbarWidth()+"px";else{var e=Ic.calculateScrollbarWidth();this.scrollHeaderBox.style.marginRight=e+"px",this.scrollFooterBox&&(this.scrollFooterBox.style.marginRight=e+"px")}}},{key:"componentDidUpdate",value:function(e,t,n){this.props.scrollHeight!==e.scrollHeight&&this.setScrollHeight(),!this.props.frozen&&this.props.virtualScroll&&(this.virtualScroller.style.height=this.props.totalRecords*this.props.virtualRowHeight+"px"),this.virtualScrollCallback&&!this.props.loading&&(this.virtualScrollCallback(),this.virtualScrollCallback=null)}},{key:"setScrollHeight",value:function(){if(this.props.scrollHeight){var e=this.container.previousElementSibling;if(e){var t=Ic.findSingle(e,".p-datatable-scrollable-body");this.scrollBody.style.maxHeight=t.style.maxHeight}else if(-1!==this.props.scrollHeight.indexOf("%")){var n=this.findDataTableContainer(this.container);this.scrollBody.style.visibility="hidden",this.scrollBody.style.height="100px";var r=Ic.getOuterHeight(n),i=Ic.getOuterHeight(n.parentElement)*parseInt(this.props.scrollHeight,10)/100-(r-100);this.props.frozen&&(i-=Ic.calculateScrollbarWidth()),this.scrollBody.style.height="auto",this.scrollBody.style.maxHeight=i+"px",this.scrollBody.style.visibility="visible"}else this.scrollBody.style.maxHeight=this.props.scrollHeight}}},{key:"findDataTableContainer",value:function(e){if(e){for(var t=e;t&&!Ic.hasClass(t,"p-datatable");)t=t.parentElement;return t}return null}},{key:"onHeaderScroll",value:function(){this.scrollHeader.scrollLeft=0}},{key:"onBodyScroll",value:function(){var e,t=this,n=this.container.previousElementSibling;if(n&&(e=Ic.findSingle(n,".p-datatable-scrollable-body")),this.scrollHeaderBox.style.marginLeft=-1*this.scrollBody.scrollLeft+"px",this.scrollFooterBox&&(this.scrollFooterBox.style.marginLeft=-1*this.scrollBody.scrollLeft+"px"),e&&(e.scrollTop=this.scrollBody.scrollTop),this.props.virtualScroll){var r=Ic.getClientHeight(this.scrollBody),i=Ic.getOuterHeight(this.scrollTable),o=this.props.virtualRowHeight*this.props.rows,s=Ic.getOuterHeight(this.virtualScroller)/o||1,a=this.scrollTable.style.top||"0";if(this.scrollBody.scrollTop+r>parseFloat(a)+i||this.scrollBody.scrollTop<parseFloat(a)){this.loadingTable&&(this.loadingTable.style.display="table",this.loadingTable.style.top=this.scrollBody.scrollTop+"px");var l=Math.floor(this.scrollBody.scrollTop*s/this.scrollBody.scrollHeight)+1;this.props.onVirtualScroll&&(this.props.onVirtualScroll({page:l}),this.virtualScrollCallback=function(){t.loadingTable&&(t.loadingTable.style.display="none"),t.scrollTable.style.top=(l-1)*o+"px"})}}}},{key:"renderColGroup",value:function(){return this.props.columns&&this.props.columns.length?F.createElement("colgroup",{className:"p-datatable-scrollable-colgroup"},this.props.columns.map((function(e,t){return F.createElement("col",{key:e.props.field+"_"+t,style:e.props.headerStyle||e.props.style,className:e.props.headerClassName||e.props.className})}))):null}},{key:"renderLoadingTable",value:function(e){var t=this;return this.props.virtualScroll?F.createElement("table",{ref:function(e){return t.loadingTable=e},style:{top:"0",display:"none"},className:"p-datatable-scrollable-body-table p-datatable-loading-virtual-table p-datatable-virtual-table"},e,this.props.loadingBody):null}},{key:"render",value:function(){var e=this,t=Cc("p-datatable-scrollable-view",{"p-datatable-frozen-view":this.props.frozen,"p-datatable-unfrozen-view":!this.props.frozen&&this.props.frozenWidth}),n=Cc("p-datatable-scrollable-body-table",this.props.tableClassName,{"p-datatable-virtual-table":this.props.virtualScroll}),r=Cc("p-datatable-scrollable-header-table",this.props.tableClassName),i=Cc("p-datatable-scrollable-footer-table",this.props.tableClassName),o=Object.assign({top:"0"},this.props.tableStyle),s=this.props.columns?this.props.frozen?this.props.frozenWidth:"calc(100% - "+this.props.frozenWidth+")":0,a=this.props.frozen?null:this.props.frozenWidth,l=this.renderColGroup(),u=this.renderLoadingTable(l),c=!this.props.frozen&&this.props.scrollHeight?{overflowY:"scroll"}:null;return F.createElement("div",{className:t,style:{width:s,left:a},ref:function(t){e.container=t}},F.createElement("div",{className:"p-datatable-scrollable-header",ref:function(t){e.scrollHeader=t},onScroll:this.onHeaderScroll},F.createElement("div",{className:"p-datatable-scrollable-header-box",ref:function(t){e.scrollHeaderBox=t}},F.createElement("table",{className:r,style:this.props.tableStyle},l,this.props.header,this.props.frozenBody))),F.createElement("div",{className:"p-datatable-scrollable-body",ref:function(t){e.scrollBody=t},style:c,onScroll:this.onBodyScroll},F.createElement("table",{ref:function(t){return e.scrollTable=t},style:o,className:n},l,this.props.body),u,F.createElement("div",{className:"p-datatable-virtual-scroller",ref:function(t){e.virtualScroller=t}})),F.createElement("div",{className:"p-datatable-scrollable-footer",ref:function(t){e.scrollFooter=t}},F.createElement("div",{className:"p-datatable-scrollable-footer-box",ref:function(t){e.scrollFooterBox=t}},F.createElement("table",{className:i,style:this.props.tableStyle},l,this.props.footer))))}}]),r}();function Ud(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vd(){return(Vd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function jd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_d(e);if(t){var i=_d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ld(this,n)}}Ad(zd,"defaultProps",{header:null,body:null,footer:null,columns:null,frozen:null,frozenWidth:null,frozenBody:null,virtualScroll:!1,virtualRowHeight:null,rows:null,totalRecords:null,loading:!1,tableStyle:null,tableClassName:null,onVirtualScroll:null});var Bd=function(t){Md(r,e.exports.Component);var n=jd(r);function r(e){var t;return Td(this,r),(t=n.call(this,e)).state={focused:!1},t.onClick=t.onClick.bind(Id(t)),t.onFocus=t.onFocus.bind(Id(t)),t.onBlur=t.onBlur.bind(Id(t)),t.onChange=t.onChange.bind(Id(t)),t.onKeyDown=t.onKeyDown.bind(Id(t)),t}return Rd(r,[{key:"onClick",value:function(e){this.props.onClick&&this.props.onClick({originalEvent:e,data:this.props.rowData}),this.input.focus()}},{key:"onFocus",value:function(){this.setState({focused:!0})}},{key:"onBlur",value:function(){this.setState({focused:!1})}},{key:"onChange",value:function(e){this.onClick(e)}},{key:"onKeyDown",value:function(e){"Space"===e.code&&(this.onClick(e),e.preventDefault())}},{key:"render",value:function(){var e=this,t=Cc("p-radiobutton-box p-component p-clickable",{"p-highlight":this.props.selected,"p-focus":this.state.focused}),n="".concat(this.props.tableId?this.props.tableId+"_":"","dt_radio");return F.createElement("div",{className:"p-radiobutton p-component"},F.createElement("div",{className:"p-hidden-accessible"},F.createElement("input",{name:n,ref:function(t){return e.input=t},type:"radio",checked:this.props.selected,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange,onKeyDown:this.onKeyDown})),F.createElement("div",{className:t,onClick:this.onClick,role:"radio","aria-checked":this.props.selected},F.createElement("div",{className:"p-radiobutton-icon p-clickable"})))}}]),r}();function Hd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_d(e);if(t){var i=_d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ld(this,n)}}Ad(Bd,"defaultProps",{rowData:null,onClick:null,selected:!1});var Kd=function(t){Md(r,e.exports.Component);var n=Hd(r);function r(e){var t;return Td(this,r),(t=n.call(this,e)).state={focused:!1},t.onClick=t.onClick.bind(Id(t)),t.onFocus=t.onFocus.bind(Id(t)),t.onBlur=t.onBlur.bind(Id(t)),t.onKeyDown=t.onKeyDown.bind(Id(t)),t}return Rd(r,[{key:"onClick",value:function(e){this.props.disabled||(this.setState({focused:!0}),this.props.onClick&&this.props.onClick({originalEvent:e,data:this.props.rowData,checked:this.props.selected}))}},{key:"onFocus",value:function(){this.setState({focused:!0})}},{key:"onBlur",value:function(){this.setState({focused:!1})}},{key:"onKeyDown",value:function(e){"Space"===e.code&&(this.onClick(e),e.preventDefault())}},{key:"render",value:function(){var e=Cc("p-checkbox-box p-component p-clickable",{"p-highlight":this.props.selected,"p-disabled":this.props.disabled,"p-focus":this.state.focused}),t=Cc("p-checkbox-icon p-clickable",{"pi pi-check":this.props.selected}),n=this.props.disabled?null:"0";return F.createElement("div",{className:"p-checkbox p-component",onClick:this.onClick},F.createElement("div",{className:e,role:"checkbox","aria-checked":this.props.selected,tabIndex:n,onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur},F.createElement("span",{className:t})))}}]),r}();function Wd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wd(Object(n),!0).forEach((function(t){Ad(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_d(e);if(t){var i=_d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ld(this,n)}}Ad(Kd,"defaultProps",{rowData:null,onClick:null,disabled:!1});var $d=function(t){Md(r,e.exports.Component);var n=Gd(r);function r(e){var t;return Td(this,r),(t=n.call(this,e)).state={editing:t.props.editing},t.onExpanderClick=t.onExpanderClick.bind(Id(t)),t.onClick=t.onClick.bind(Id(t)),t.onBlur=t.onBlur.bind(Id(t)),t.onKeyDown=t.onKeyDown.bind(Id(t)),t.onMouseDown=t.onMouseDown.bind(Id(t)),t.onMouseUp=t.onMouseUp.bind(Id(t)),t.onEditorFocus=t.onEditorFocus.bind(Id(t)),t}return Rd(r,[{key:"onExpanderClick",value:function(e){this.props.onRowToggle&&this.props.onRowToggle({originalEvent:e,data:this.props.rowData}),e.preventDefault()}},{key:"onKeyDown",value:function(e){if("row"!==this.props.editMode&&(13!==e.which&&9!==e.which||this.switchCellToViewMode(e,!0),27===e.which&&this.switchCellToViewMode(e,!1)),this.props.allowCellSelection){var t=e.currentTarget;switch(e.which){case 37:var n=this.findPrevSelectableCell(t);n&&(this.changeTabIndex(t,n),n.focus()),e.preventDefault();break;case 39:var r=this.findNextSelectableCell(t);r&&(this.changeTabIndex(t,r),r.focus()),e.preventDefault();break;case 38:var i=this.findPrevSelectableRow(t.parentElement);if(i){var o=i.children[this.props.index];this.changeTabIndex(t,o),o.focus()}e.preventDefault();break;case 40:var s=this.findNextSelectableRow(t.parentElement);if(s){var a=s.children[this.props.index];this.changeTabIndex(t,a),a.focus()}e.preventDefault();break;case 13:case 32:this.onClick(e),e.preventDefault()}}}},{key:"onClick",value:function(e){var t=this;"row"!==this.props.editMode&&this.props.editor&&!this.state.editing&&(this.props.selectOnEdit||!this.props.selectOnEdit&&this.props.selected)&&(this.selfClick=!0,this.props.onBeforeEditorShow&&this.props.onBeforeEditorShow({originalEvent:e,columnProps:this.props}),this.setState({editing:!0},(function(){t.props.onEditorInit&&t.props.onEditorInit({originalEvent:e,columnProps:t.props}),"click"===t.props.editorValidatorEvent&&(t.bindDocumentEditListener(),t.overlayEventListener=function(e){t.isOutsideClicked(e.target)||(t.selfClick=!0)},lp.on("overlay-click",t.overlayEventListener)),t.props.onEditingCellChange&&t.props.onEditingCellChange({rowIndex:t.props.rowIndex,cellIndex:t.props.index,editing:!0})}))),this.props.allowCellSelection&&this.props.onClick&&this.props.onClick({originalEvent:e,value:Mc.resolveFieldData(this.props.rowData,this.props.field),field:this.props.field,rowData:this.props.rowData,rowIndex:this.props.rowIndex,cellIndex:this.props.index,selected:this.isSelected()})}},{key:"onBlur",value:function(e){this.selfClick=!1,"row"!==this.props.editMode&&this.state.editing&&"blur"===this.props.editorValidatorEvent&&this.switchCellToViewMode(e,!0)}},{key:"onMouseDown",value:function(e){this.props.onMouseDown&&this.props.onMouseDown({originalEvent:e,value:Mc.resolveFieldData(this.props.rowData,this.props.field),field:this.props.field,rowData:this.props.rowData,rowIndex:this.props.rowIndex,cellIndex:this.props.index,selected:this.isSelected()})}},{key:"onMouseUp",value:function(e){this.props.onMouseUp&&this.props.onMouseUp({originalEvent:e,value:Mc.resolveFieldData(this.props.rowData,this.props.field),field:this.props.field,rowData:this.props.rowData,rowIndex:this.props.rowIndex,cellIndex:this.props.index,selected:this.isSelected()})}},{key:"onEditorFocus",value:function(e){this.onClick(e)}},{key:"bindDocumentEditListener",value:function(){var e=this;this.documentEditListener||(this.documentEditListener=function(t){!e.selfClick&&e.isOutsideClicked(t.target)&&e.switchCellToViewMode(t,!0),e.selfClick=!1},document.addEventListener("click",this.documentEditListener))}},{key:"isOutsideClicked",value:function(e){return this.container&&!(this.container.isSameNode(e)||this.container.contains(e))}},{key:"closeCell",value:function(e){var t=this;this.props.onBeforeEditorHide&&this.props.onBeforeEditorHide({originalEvent:e,columnProps:this.props}),setTimeout((function(){t.setState({editing:!1},(function(){t.unbindDocumentEditListener(),lp.off("overlay-click",t.overlayEventListener),t.overlayEventListener=null,t.props.onEditingCellChange&&t.props.onEditingCellChange({rowIndex:t.props.rowIndex,cellIndex:t.props.index,editing:!1})}))}),1)}},{key:"switchCellToViewMode",value:function(e,t){var n={originalEvent:e,columnProps:this.props};!t&&this.props.onEditorCancel&&this.props.onEditorCancel(n);var r=!0;this.props.editorValidator&&(r=this.props.editorValidator(n)),r&&(t&&this.props.onEditorSubmit&&this.props.onEditorSubmit(n),this.closeCell(e))}},{key:"findNextSelectableCell",value:function(e){var t=e.nextElementSibling;return t?Ic.hasClass(t,"p-selectable-cell")?t:this.findNextSelectableRow(t):null}},{key:"findPrevSelectableCell",value:function(e){var t=e.previousElementSibling;return t?Ic.hasClass(t,"p-selectable-cell")?t:this.findPrevSelectableRow(t):null}},{key:"findNextSelectableRow",value:function(e){var t=e.nextElementSibling;return t?Ic.hasClass(t,"p-selectable-row")?t:this.findNextSelectableRow(t):null}},{key:"findPrevSelectableRow",value:function(e){var t=e.previousElementSibling;return t?Ic.hasClass(t,"p-selectable-row")?t:this.findPrevSelectableRow(t):null}},{key:"changeTabIndex",value:function(e,t){e&&t&&(e.tabIndex=-1,t.tabIndex=0)}},{key:"getTabIndex",value:function(e){return this.props.allowCellSelection?e||0===this.props.rowIndex&&0===this.props.index?0:-1:null}},{key:"isSelected",value:function(){return!!this.props.selection&&(this.props.selection instanceof Array?this.findIndexInSelection()>-1:this.equals(this.props.selection))}},{key:"equals",value:function(e){return!(e.rowIndex!==this.props.rowIndex&&e.rowData!==this.props.rowData||e.field!==this.props.field&&e.cellIndex!==this.props.index)}},{key:"findIndexInSelection",value:function(){var e=this;return this.props.selection?this.props.selection.findIndex((function(t){return e.equals(t)})):-1}},{key:"unbindDocumentEditListener",value:function(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null,this.selfClick=!1)}},{key:"componentDidUpdate",value:function(){var e=this;"row"!==this.props.editMode&&this.container&&this.props.editor&&(clearTimeout(this.tabindexTimeout),this.tabindexTimeout=setTimeout((function(){if(e.state.editing){var t=Ic.findSingle(e.container,"input");t&&document.activeElement!==t&&!t.hasAttribute("data-isCellEditing")&&(t.setAttribute("data-isCellEditing",!0),t.focus()),e.keyHelper.tabIndex=-1}else e.keyHelper&&e.keyHelper.setAttribute("tabindex",0)}),1))}},{key:"componentWillUnmount",value:function(){this.unbindDocumentEditListener(),this.overlayEventListener&&(lp.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null)}},{key:"render",value:function(){var e,t,n=this,r=this.props.allowCellSelection&&this.isSelected(),i=null;if(this.props.cellClassName){var o=Mc.resolveFieldData(this.props.rowData,this.props.field);i=this.props.cellClassName(o,qd(qd({},this.props),{rowData:this.props.rowData}))}var s=Cc(this.props.bodyClassName||this.props.className,i,{"p-selection-column":this.props.selectionMode,"p-selectable-cell":this.props.allowCellSelection,"p-highlight":r,"p-editable-column":this.props.editor,"p-cell-editing":this.state.editing&&this.props.editor}),a=this.getTabIndex(r);if(this.props.expander){var l=Cc("p-row-toggler-icon pi pi-fw p-clickable",{"pi-chevron-down":this.props.expanded,"pi-chevron-right":!this.props.expanded}),u="".concat(this.props.tableId?this.props.tableId+"_":"","content_").concat(this.props.rowIndex,"_expanded"),c={onClick:this.onExpanderClick,className:"p-row-toggler p-link",iconClassName:l};e=F.createElement("button",{type:"button",onClick:c.onClick,className:c.className,"aria-expanded":this.props.expanded,"aria-controls":u},F.createElement("span",{className:c.iconClassName}),F.createElement(Jc,null)),this.props.body&&(c.element=e,e=this.props.body(this.props.rowData,qd(qd({},this.props),{expander:c})))}else if(this.props.selectionMode){var p=!0;this.props.showSelectionElement&&(p=this.props.showSelectionElement(this.props.rowData)),p&&(e="single"===this.props.selectionMode?F.createElement(Bd,{onClick:this.props.onRadioClick,rowData:this.props.rowData,selected:this.props.selected,tableId:this.props.tableId}):F.createElement(Kd,{onClick:this.props.onCheckboxClick,rowData:this.props.rowData,selected:this.props.selected}))}else if(this.props.rowReorder){var h=!0;if(this.props.showRowReorderElement&&(h=this.props.showRowReorderElement(this.props.rowData)),h){var d=Cc("p-datatable-reorderablerow-handle",this.props.rowReorderIcon);e=F.createElement("i",{className:d})}}else if(this.props.rowEditor){var f={};this.state.editing?(f={editing:!0,onSaveClick:this.props.onRowEditSave,saveClassName:"p-row-editor-save p-link",saveIconClassName:"p-row-editor-save-icon pi pi-fw pi-check p-clickable",onCancelClick:this.props.onRowEditCancel,cancelClassName:"p-row-editor-cancel p-link",cancelIconClassName:"p-row-editor-cancel-icon pi pi-fw pi-times p-clickable"},e=F.createElement(F.Fragment,null,F.createElement("button",{type:"button",onClick:f.onSaveClick,className:f.saveClassName},F.createElement("span",{className:f.saveIconClassName}),F.createElement(Jc,null)),F.createElement("button",{type:"button",onClick:f.onCancelClick,className:f.cancelClassName},F.createElement("span",{className:f.cancelIconClassName}),F.createElement(Jc,null)))):(f={editing:!1,onInitClick:this.props.onRowEditInit,initClassName:"p-row-editor-init p-link",initIconClassName:"p-row-editor-init-icon pi pi-fw pi-pencil p-clickable"},e=F.createElement("button",{type:"button",onClick:f.onInitClick,className:f.initClassName},F.createElement("span",{className:f.initIconClassName}),F.createElement(Jc,null))),this.props.body&&(f.element=e,e=this.props.body(this.props.rowData,qd(qd({},this.props),{rowEditor:f})))}else e=this.state.editing&&this.props.editor?this.props.editor(this.props):this.props.body?this.props.body(this.props.rowData,this.props):Mc.resolveFieldData(this.props.rowData,this.props.field);return"row"!==this.props.editMode&&(t=this.props.editor&&F.createElement("a",{tabIndex:"0",ref:function(e){n.keyHelper=e},className:"p-cell-editor-key-helper p-hidden-accessible",onFocus:this.onEditorFocus},F.createElement("span",null))),F.createElement("td",{ref:function(e){n.container=e},role:"cell",tabIndex:a,className:s,style:this.props.bodyStyle||this.props.style,onClick:this.onClick,onKeyDown:this.onKeyDown,rowSpan:this.props.rowSpan,onBlur:this.onBlur,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},t,e)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"row"===e.editMode&&e.editing!==t.editing?{editing:e.editing}:null}}]),r}();function Yd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yd(Object(n),!0).forEach((function(t){Ad(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_d(e);if(t){var i=_d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ld(this,n)}}var Jd=function(t){Md(r,e.exports.Component);var n=Qd(r);function r(e){var t;return Td(this,r),(t=n.call(this,e)).props.isRowEditingControlled||(t.state={editing:!1}),t.onClick=t.onClick.bind(Id(t)),t.onDoubleClick=t.onDoubleClick.bind(Id(t)),t.onTouchEnd=t.onTouchEnd.bind(Id(t)),t.onRightClick=t.onRightClick.bind(Id(t)),t.onMouseDown=t.onMouseDown.bind(Id(t)),t.onMouseUp=t.onMouseUp.bind(Id(t)),t.onDragEnd=t.onDragEnd.bind(Id(t)),t.onDragOver=t.onDragOver.bind(Id(t)),t.onDragLeave=t.onDragLeave.bind(Id(t)),t.onDrop=t.onDrop.bind(Id(t)),t.onKeyDown=t.onKeyDown.bind(Id(t)),t.onRowEditInit=t.onRowEditInit.bind(Id(t)),t.onRowEditSave=t.onRowEditSave.bind(Id(t)),t.onRowEditCancel=t.onRowEditCancel.bind(Id(t)),t.updateEditingState=t.updateEditingState.bind(Id(t)),t}return Rd(r,[{key:"getEditing",value:function(){return this.props.isRowEditingControlled?this.props.editing:this.state.editing}},{key:"onClick",value:function(e){this.props.onClick&&this.props.onClick({originalEvent:e,data:this.props.rowData,index:this.props.rowIndex})}},{key:"onDoubleClick",value:function(e){this.props.onDoubleClick&&this.props.onDoubleClick({originalEvent:e,data:this.props.rowData,index:this.props.rowIndex})}},{key:"onTouchEnd",value:function(e){this.props.onTouchEnd&&this.props.onTouchEnd(e)}},{key:"onRightClick",value:function(e){this.props.onRightClick&&this.props.onRightClick({originalEvent:e,data:this.props.rowData,index:this.props.rowIndex})}},{key:"onMouseDown",value:function(e){Ic.hasClass(e.target,"p-datatable-reorderablerow-handle")?e.currentTarget.draggable=!0:e.currentTarget.draggable=!1,this.props.onMouseDown&&this.props.onMouseDown({originalEvent:e,data:this.props.rowData,index:this.props.rowIndex})}},{key:"onMouseUp",value:function(e){this.props.onMouseUp&&this.props.onMouseUp({originalEvent:e,data:this.props.rowData,index:this.props.rowIndex})}},{key:"onDragEnd",value:function(e){this.props.onDragEnd&&this.props.onDragEnd(e),e.currentTarget.draggable=!1}},{key:"onDragOver",value:function(e){this.props.onDragOver&&this.props.onDragOver({originalEvent:e,rowElement:this.container}),e.preventDefault()}},{key:"onDragLeave",value:function(e){this.props.onDragLeave&&this.props.onDragLeave({originalEvent:e,rowElement:this.container})}},{key:"onDrop",value:function(e){this.props.onDrop&&this.props.onDrop({originalEvent:e,rowElement:this.container}),e.preventDefault()}},{key:"onKeyDown",value:function(e){if(this.isFocusable()&&!this.props.allowCellSelection){var t=e.target,n=e.currentTarget;switch(e.which){case 40:var r=this.findNextSelectableRow(n);r&&(this.changeTabIndex(n,r),r.focus()),e.preventDefault();break;case 38:var i=this.findPrevSelectableRow(n);i&&(this.changeTabIndex(n,i),i.focus()),e.preventDefault();break;case 13:this.onClick(e),e.preventDefault();break;case 32:"INPUT"===t.nodeName||"TEXTAREA"===t.nodeName||t.readOnly||(this.onClick(e),e.preventDefault())}}}},{key:"changeTabIndex",value:function(e,t){e&&t&&(e.tabIndex=-1,t.tabIndex=0)}},{key:"findNextSelectableRow",value:function(e){var t=e.nextElementSibling;return t?Ic.hasClass(t,"p-selectable-row")?t:this.findNextSelectableRow(t):null}},{key:"findPrevSelectableRow",value:function(e){var t=e.previousElementSibling;return t?Ic.hasClass(t,"p-selectable-row")?t:this.findPrevSelectableRow(t):null}},{key:"updateEditingState",value:function(e,t){this.props.isRowEditingControlled?this.props.onRowEditingToggle({originalEvent:e,data:this.props.rowData,index:this.props.rowIndex}):this.setState({editing:t})}},{key:"onRowEditInit",value:function(e){this.props.onRowEditInit&&this.props.onRowEditInit({originalEvent:e,data:this.props.rowData,index:this.props.rowIndex}),this.updateEditingState(e,!0),e.preventDefault()}},{key:"onRowEditSave",value:function(e){var t=!0;this.props.rowEditorValidator&&(t=this.props.rowEditorValidator(this.props.rowData)),this.props.onRowEditSave&&this.props.onRowEditSave({originalEvent:e,data:this.props.rowData,index:this.props.rowIndex,valid:t}),t&&this.updateEditingState(e,!1),e.preventDefault()}},{key:"onRowEditCancel",value:function(e){this.props.onRowEditCancel&&this.props.onRowEditCancel({originalEvent:e,data:this.props.rowData,index:this.props.rowIndex}),this.updateEditingState(e,!1),e.preventDefault()}},{key:"isFocusable",value:function(){return this.props.selectionMode&&"single"!==this.props.selectionModeInColumn&&"multiple"!==this.props.selectionModeInColumn}},{key:"getTabIndex",value:function(){return this.isFocusable()&&!this.props.allowCellSelection?0===this.props.rowIndex?0:-1:null}},{key:"render",value:function(){var e=this,t=F.Children.toArray(this.props.children),n={"p-highlight":!this.props.allowCellSelection&&this.props.selected,"p-highlight-contextmenu":this.props.contextMenuSelected,"p-selectable-row":this.props.allowRowSelection,"p-row-odd":this.props.rowIndex%2!=0};if(this.props.rowClassName){var r=this.props.rowClassName(this.props.rowData);n=Xd(Xd({},n),r)}for(var i=Cc(n),o=this.props.virtualScroll?{height:this.props.virtualRowHeight}:{},s="rowspan"===this.props.rowGroupMode,a=this.getTabIndex(),l=[],u=0;u<t.length;u++){var c=t[u],p=void 0;if(s&&this.props.sortField===c.props.field){if(!this.props.groupRowSpan)continue;p=this.props.groupRowSpan,i+=" p-datatable-rowspan-group"}var h=this.getEditing(),d=F.createElement($d,Vd({tableId:this.props.tableId,key:u},c.props,{value:this.props.value,rowSpan:p,rowData:this.props.rowData,index:u,rowIndex:this.props.rowIndex,onRowToggle:this.props.onRowToggle,expanded:this.props.expanded,onRadioClick:this.props.onRadioClick,onCheckboxClick:this.props.onCheckboxClick,selected:this.props.selected,selection:this.props.selection,selectOnEdit:this.props.selectOnEdit,editMode:this.props.editMode,editing:h,onRowEditInit:this.onRowEditInit,onRowEditSave:this.onRowEditSave,onRowEditCancel:this.onRowEditCancel,onMouseDown:this.props.onCellMouseDown,onMouseUp:this.props.onCellMouseUp,showRowReorderElement:this.props.showRowReorderElement,showSelectionElement:this.props.showSelectionElement,allowCellSelection:this.props.allowCellSelection,onClick:this.props.onCellClick,onEditingCellChange:this.props.onEditingCellChange,cellClassName:this.props.cellClassName}));l.push(d)}return F.createElement("tr",{role:"row",tabIndex:a,ref:function(t){e.container=t},className:i,onClick:this.onClick,onDoubleClick:this.onDoubleClick,onTouchEnd:this.onTouchEnd,onContextMenu:this.onRightClick,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onDragStart:this.props.onDragStart,onDragEnd:this.onDragEnd,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,style:o,onKeyDown:this.onKeyDown},l)}}]),r}();function Zd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_d(e);if(t){var i=_d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ld(this,n)}}var ef=function(t){Md(r,e.exports.Component);var n=Zd(r);function r(e){var t;return Td(this,r),(t=n.call(this,e)).onClick=t.onClick.bind(Id(t)),t}return Rd(r,[{key:"onClick",value:function(e){this.props.onClick&&this.props.onClick({originalEvent:e,data:this.props.rowData})}},{key:"render",value:function(){var e=Cc("p-row-toggler-icon pi pi-fw p-clickable",{"pi-chevron-down":this.props.expanded,"pi-chevron-right":!this.props.expanded});return F.createElement("button",{type:"button",onClick:this.onClick,className:"p-row-toggler p-link"},F.createElement("span",{className:e}),F.createElement(Jc,null))}}]),r}();Ad(ef,"defaultProps",{rowData:null,onClick:null,expanded:!1});var tf=["originalEvent"];function nf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nf(Object(n),!0).forEach((function(t){Ad(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function of(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_d(e);if(t){var i=_d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ld(this,n)}}var sf=function(t){Md(r,e.exports.Component);var n=of(r);function r(e){var t;return Td(this,r),(t=n.call(this,e)).onRowClick=t.onRowClick.bind(Id(t)),t.onRowRightClick=t.onRowRightClick.bind(Id(t)),t.onRowTouchEnd=t.onRowTouchEnd.bind(Id(t)),t.onRowToggle=t.onRowToggle.bind(Id(t)),t.onRowEditingToggle=t.onRowEditingToggle.bind(Id(t)),t.onRadioClick=t.onRadioClick.bind(Id(t)),t.onCheckboxClick=t.onCheckboxClick.bind(Id(t)),t.onDragSelectionMouseMove=t.onDragSelectionMouseMove.bind(Id(t)),t.onDragSelectionMouseUp=t.onDragSelectionMouseUp.bind(Id(t)),t.onRowDragEnd=t.onRowDragEnd.bind(Id(t)),t.onRowDragLeave=t.onRowDragLeave.bind(Id(t)),t.onRowDrop=t.onRowDrop.bind(Id(t)),t.onRowMouseDown=t.onRowMouseDown.bind(Id(t)),t.onRowMouseUp=t.onRowMouseUp.bind(Id(t)),t.onCellClick=t.onCellClick.bind(Id(t)),t.onCellMouseDown=t.onCellMouseDown.bind(Id(t)),t.onCellMouseUp=t.onCellMouseUp.bind(Id(t)),t}return Rd(r,[{key:"onRowClick",value:function(e){if(!this.allowCellSelection()&&this.allowSelection(e)){if(this.props.onRowClick&&this.props.onRowClick(e),this.allowRowSelection())if(this.allowRangeSelection(e))this.onRangeSelection(e);else{var t=this.isRadioSelectionModeInColumn()||this.isCheckboxSelectionModeInColumn()||this.allowMetaKeySelection(e);this.anchorRowIndex=e.index,this.rangeRowIndex=e.index,this.anchorRowFirst=this.props.first,this.isSingleSelection()?this.onSingleSelection(rf(rf({},e),{},{toggleable:t,type:"row"})):this.onMultipleSelection(rf(rf({},e),{},{toggleable:t,type:"row"}))}else this.focusOnElement(e.originalEvent);this.rowTouched=!1}}},{key:"onCellClick",value:function(e){if(this.allowSelection(e)){if(this.props.onCellClick&&this.props.onCellClick(e),this.allowCellSelection())if(this.allowRangeSelection(e))this.onRangeSelection(e);else{var t=this.allowMetaKeySelection(e),n=e.originalEvent,r=Ud(e,tf);this.anchorRowIndex=e.rowIndex,this.rangeRowIndex=e.rowIndex,this.anchorRowFirst=this.props.first,this.anchorCellIndex=e.cellIndex,this.isSingleSelection()?this.onSingleSelection({originalEvent:n,data:r,toggleable:t,type:"cell"}):this.onMultipleSelection({originalEvent:n,data:r,toggleable:t,type:"cell"})}this.rowTouched=!1}}},{key:"onSingleSelection",value:function(e){var t=e.originalEvent,n=e.data,r=e.toggleable,i=e.type,o=this.isSelected(n),s=this.props.selection;o?r&&(s=null,this.onUnselect({originalEvent:t,data:n,type:i})):(s=n,this.onSelect({originalEvent:t,data:n,type:i})),this.focusOnElement(t,!0),this.props.onSelectionChange&&s!==this.props.selection&&this.props.onSelectionChange({originalEvent:t,value:s})}},{key:"onMultipleSelection",value:function(e){var t=this,n=e.originalEvent,r=e.data,i=e.toggleable,o=e.type,s=this.isSelected(r),a=this.props.selection||[];if(s)if(i){var l=this.findIndexInSelection(r);a=this.props.selection.filter((function(e,t){return t!==l})),this.onUnselect({originalEvent:n,data:r,type:o})}else a.length&&(this.props.selection.forEach((function(e){return t.onUnselect({originalEvent:n,data:e,type:o})})),a=[r],this.onSelect({originalEvent:n,data:r,type:o}));else a=i&&this.isMultipleSelection()?[].concat(xd(a),[r]):[r],this.onSelect({originalEvent:n,data:r,type:o});this.focusOnElement(n,!0),this.props.onSelectionChange&&a!==this.props.selection&&this.props.onSelectionChange({originalEvent:n,value:a})}},{key:"onRangeSelection",value:function(e){Ic.clearSelection(),this.rangeRowIndex=this.allowCellSelection()?e.rowIndex:e.index;var t=this.selectRange(e),n=this.isMultipleSelection()?xd(new Set([].concat(xd(this.props.selection||[]),xd(t)))):t;this.props.onSelectionChange&&n!==this.props.selection&&this.props.onSelectionChange({originalEvent:e.originalEvent,value:n}),this.anchorRowIndex=this.rangeRowIndex,this.anchorCellIndex=e.cellIndex,this.focusOnElement(e.originalEvent,!1)}},{key:"selectRange",value:function(e){var t,n,r=this.props.lazy&&this.props.paginator;return r&&(this.anchorRowIndex+=this.anchorRowFirst,this.rangeRowIndex+=this.props.first),this.rangeRowIndex>this.anchorRowIndex?(t=this.anchorRowIndex,n=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(t=this.rangeRowIndex,n=this.anchorRowIndex):t=n=this.rangeRowIndex,r&&(t=Math.max(t-this.props.first,0),n-=this.props.first),this.allowCellSelection()?this.selectRangeOnCell(e,t,n):this.selectRangeOnRow(e,t,n)}},{key:"selectRangeOnRow",value:function(e,t,n){for(var r=this.props.value,i=[],o=t;o<=n;o++){var s=r[o];i.push(s),this.onSelect({originalEvent:e.originalEvent,data:s,type:"row"})}return i}},{key:"selectRangeOnCell",value:function(e,t,n){var r,i,o=e.cellIndex;o>this.anchorCellIndex?(r=this.anchorCellIndex,i=o):o<this.anchorCellIndex?(r=o,i=this.anchorCellIndex):r=i=o;for(var s=this.props.value,a=[],l=t;l<=n;l++)for(var u=s[l],c=F.Children.toArray(this.props.children),p=r;p<=i;p++){var h=c[p].props.field,d={value:Mc.resolveFieldData(u,h),field:h,rowData:u,rowIndex:l,cellIndex:p,selected:!0};a.push(d),this.onSelect({originalEvent:e.originalEvent,data:d,type:"cell"})}return a}},{key:"onSelect",value:function(e){this.allowCellSelection()?this.props.onCellSelect&&this.props.onCellSelect(rf(rf({originalEvent:e.originalEvent},e.data),{},{type:e.type})):this.props.onRowSelect&&this.props.onRowSelect(e)}},{key:"onUnselect",value:function(e){this.allowCellSelection()?this.props.onCellUnselect&&this.props.onCellUnselect(rf(rf({originalEvent:e.originalEvent},e.data),{},{type:e.type})):this.props.onRowUnselect&&this.props.onRowUnselect(e)}},{key:"enableDragSelection",value:function(e){this.props.dragSelection&&!this.dragSelectionHelper&&(this.dragSelectionHelper=document.createElement("div"),Ic.addClass(this.dragSelectionHelper,"p-datatable-drag-selection-helper"),this.initialDragPosition={x:e.clientX,y:e.clientY},this.dragSelectionHelper.style.top="".concat(e.pageY,"px"),this.dragSelectionHelper.style.left="".concat(e.pageX,"px"),this.bindDragSelectionEvents())}},{key:"bindDragSelectionEvents",value:function(){document.addEventListener("mousemove",this.onDragSelectionMouseMove),document.addEventListener("mouseup",this.onDragSelectionMouseUp),document.body.appendChild(this.dragSelectionHelper)}},{key:"unbindDragSelectionEvents",value:function(){this.onDragSelectionMouseUp()}},{key:"onDragSelectionMouseMove",value:function(e){var t=this.initialDragPosition,n=t.x,r=t.y,i=e.clientX-n,o=e.clientY-r;o<0&&(this.dragSelectionHelper.style.top="".concat(e.pageY+5,"px")),i<0&&(this.dragSelectionHelper.style.left="".concat(e.pageX+5,"px")),this.dragSelectionHelper.style.height="".concat(Math.abs(o),"px"),this.dragSelectionHelper.style.width="".concat(Math.abs(i),"px"),e.preventDefault()}},{key:"onDragSelectionMouseUp",value:function(){this.dragSelectionHelper&&(this.dragSelectionHelper.remove(),this.dragSelectionHelper=null),document.removeEventListener("mousemove",this.onDragSelectionMouseMove),document.removeEventListener("mouseup",this.onDragSelectionMouseUp)}},{key:"onRowMouseDown",value:function(e){Ic.clearSelection(),this.allowRowDrag(e)&&(this.enableDragSelection(e.originalEvent),this.anchorRowIndex=e.index,this.rangeRowIndex=e.index,this.anchorRowFirst=this.props.first)}},{key:"onRowMouseUp",value:function(e){var t=e.index===this.anchorRowIndex;this.allowRowDrag(e)&&!t&&this.onRangeSelection(e)}},{key:"onCellMouseDown",value:function(e){this.allowCellDrag(e)&&(this.enableDragSelection(e.originalEvent),this.anchorRowIndex=e.rowIndex,this.rangeRowIndex=e.rowIndex,this.anchorRowFirst=this.props.first,this.anchorCellIndex=e.cellIndex)}},{key:"onCellMouseUp",value:function(e){var t=e.rowIndex===this.anchorRowIndex&&e.cellIndex===this.anchorCellIndex;this.allowCellDrag(e)&&!t&&this.onRangeSelection(e)}},{key:"onRowTouchEnd",value:function(e){this.rowTouched=!0}},{key:"onRowRightClick",value:function(e){this.props.onContextMenu&&(Ic.clearSelection(),this.props.onContextMenuSelectionChange&&this.props.onContextMenuSelectionChange({originalEvent:e.originalEvent,value:e.data}),this.props.onContextMenu&&this.props.onContextMenu({originalEvent:e.originalEvent,data:e.data}),e.originalEvent.preventDefault())}},{key:"onRadioClick",value:function(e){this.onSingleSelection(rf(rf({},e),{},{toggleable:!0,type:"radio"}))}},{key:"onCheckboxClick",value:function(e){this.onMultipleSelection(rf(rf({},e),{},{toggleable:!0,type:"checkbox"}))}},{key:"allowDrag",value:function(e){return this.props.dragSelection&&this.isMultipleSelection()&&!e.originalEvent.shiftKey}},{key:"allowRowDrag",value:function(e){return!this.allowCellSelection()&&this.allowDrag(e)}},{key:"allowCellDrag",value:function(e){return this.allowCellSelection()&&this.allowDrag(e)}},{key:"allowSelection",value:function(e){var t=e.originalEvent.target.nodeName;return"INPUT"!==t&&"BUTTON"!==t&&"A"!==t&&!Ic.hasClass(e.originalEvent.target,"p-clickable")}},{key:"allowMetaKeySelection",value:function(e){return!this.rowTouched&&(!this.props.metaKeySelection||this.props.metaKeySelection&&(e.originalEvent.metaKey||e.originalEvent.ctrlKey))}},{key:"allowRangeSelection",value:function(e){return this.isMultipleSelection()&&e.originalEvent.shiftKey&&null!==this.anchorRowIndex}},{key:"allowRowSelection",value:function(){return(this.props.selectionMode||this.props.selectionModeInColumn)&&!this.isRadioOnlySelection()&&!this.isCheckboxOnlySelection()}},{key:"allowCellSelection",value:function(){return this.props.cellSelection&&!this.isRadioSelectionModeInColumn()&&!this.isCheckboxSelectionModeInColumn()}},{key:"isRadioSelectionMode",value:function(){return"radiobutton"===this.props.selectionMode}},{key:"isCheckboxSelectionMode",value:function(){return"checkbox"===this.props.selectionMode}},{key:"isRadioSelectionModeInColumn",value:function(){return"single"===this.props.selectionModeInColumn}},{key:"isCheckboxSelectionModeInColumn",value:function(){return"multiple"===this.props.selectionModeInColumn}},{key:"isSingleSelection",value:function(){return"single"===this.props.selectionMode&&!this.isCheckboxSelectionModeInColumn()||!this.isRadioSelectionMode()&&this.isRadioSelectionModeInColumn()}},{key:"isMultipleSelection",value:function(){return"multiple"===this.props.selectionMode&&!this.isRadioSelectionModeInColumn()||this.isCheckboxSelectionModeInColumn()}},{key:"isRadioOnlySelection",value:function(){return this.isRadioSelectionMode()&&this.isRadioSelectionModeInColumn()}},{key:"isCheckboxOnlySelection",value:function(){return this.isCheckboxSelectionMode()&&this.isCheckboxSelectionModeInColumn()}},{key:"isSelected",value:function(e){return!(!e||!this.props.selection)&&(this.props.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.props.selection))}},{key:"isContextMenuSelected",value:function(e){return!(!e||!this.props.contextMenuSelection)&&this.equals(e,this.props.contextMenuSelection)}},{key:"focusOnElement",value:function(e,t){var n=e.currentTarget;if(!this.allowCellSelection())if(this.isCheckboxSelectionModeInColumn()){var r=Ic.findSingle(n,"td.p-selection-column .p-checkbox-box");r&&r.focus()}else if(this.isRadioSelectionModeInColumn()){var i=Ic.findSingle(n,'td.p-selection-column input[type="radio"]');i&&i.focus()}!t&&n&&n.focus()}},{key:"equals",value:function(e,t){return this.allowCellSelection()?!(e.rowIndex!==t.rowIndex&&e.rowData!==t.rowData||e.field!==t.field&&e.cellIndex!==t.cellIndex):"equals"===this.compareSelectionBy?e===t:Mc.equals(e,t,this.props.dataKey)}},{key:"findIndexInSelection",value:function(e){var t=this;return this.props.selection?this.props.selection.findIndex((function(n){return t.equals(e,n)})):-1}},{key:"onRowToggle",value:function(e){var t,n=this.props.dataKey;if(n){var r=String(Mc.resolveFieldData(e.data,n));null!=(t=this.props.expandedRows?rf({},this.props.expandedRows):{})[r]?(delete t[r],this.props.onRowCollapse&&this.props.onRowCollapse({originalEvent:e,data:e.data})):(t[r]=!0,this.props.onRowExpand&&this.props.onRowExpand({originalEvent:e,data:e.data}))}else{var i=this.findRowIndex(this.props.expandedRows,e.data);t=this.props.expandedRows?xd(this.props.expandedRows):[],-1!==i?(t=t.filter((function(e,t){return t!==i})),this.props.onRowCollapse&&this.props.onRowCollapse({originalEvent:e,data:e.data})):(t.push(e.data),this.props.onRowExpand&&this.props.onRowExpand({originalEvent:e,data:e.data}))}this.props.onRowToggle&&this.props.onRowToggle({data:t})}},{key:"findRowIndex",value:function(e,t){return e?e.findIndex((function(e){return Mc.equals(t,e)})):-1}},{key:"isRowExpanded",value:function(e){var t=this.props.dataKey;if(t){var n=String(Mc.resolveFieldData(e,t));return this.props.expandedRows&&null!=this.props.expandedRows[n]}return-1!==this.findRowIndex(this.props.expandedRows,e)}},{key:"onRowEditingToggle",value:function(e){var t,n=this.props.dataKey;if(n){var r=String(Mc.resolveFieldData(e.data,n));null!=(t=this.props.editingRows?rf({},this.props.editingRows):{})[r]?delete t[r]:t[r]=!0}else{var i=this.findRowIndex(this.props.editingRows,e.data);t=this.props.editingRows?xd(this.props.editingRows):[],-1!==i?t=t.filter((function(e,t){return t!==i})):t.push(e.data)}this.props.onRowEditChange&&this.props.onRowEditChange({originalEvent:e.originalEvent,data:t,index:e.rowIndex})}},{key:"isRowEditing",value:function(e){var t=this.props.dataKey;if(t){var n=String(Mc.resolveFieldData(e,t));return this.props.editingRows&&null!=this.props.editingRows[n]}return-1!==this.findRowIndex(this.props.editingRows,e)}},{key:"isSelectionEnabled",value:function(){if(this.props.selectionMode||null!=this.props.selectionModeInColumn)return!0;if(!Array.isArray(this.props.children))return this.props.children&&null!=this.props.children.selectionMode;for(var e=0;e<this.props.children.length;e++)if(this.props.children[e].props.selectionMode)return!0;return!1}},{key:"onRowDragStart",value:function(e,t){this.rowDragging=!0,this.draggedRowIndex=t,e.dataTransfer.setData("text","b")}},{key:"onRowDragEnd",value:function(e,t){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}},{key:"onRowDragOver",value:function(e,t){if(this.rowDragging&&this.draggedRowIndex!==t){var n=e.rowElement,r=Ic.getOffset(n).top+Ic.getWindowScrollTop(),i=e.originalEvent.pageY,o=r+Ic.getOuterHeight(n)/2,s=n.previousElementSibling;i<o?(Ic.removeClass(n,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=t,s?Ic.addClass(s,"p-datatable-dragpoint-bottom"):Ic.addClass(n,"p-datatable-dragpoint-top")):(s?Ic.removeClass(s,"p-datatable-dragpoint-bottom"):Ic.addClass(n,"p-datatable-dragpoint-top"),this.droppedRowIndex=t+1,Ic.addClass(n,"p-datatable-dragpoint-bottom"))}}},{key:"onRowDragLeave",value:function(e){var t=e.rowElement,n=t.previousElementSibling;n&&Ic.removeClass(n,"p-datatable-dragpoint-bottom"),Ic.removeClass(t,"p-datatable-dragpoint-bottom"),Ic.removeClass(t,"p-datatable-dragpoint-top")}},{key:"onRowDrop",value:function(e){if(null!=this.droppedRowIndex){var t=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1,n=xd(this.props.value);Mc.reorderArray(n,this.draggedRowIndex,t),this.props.onRowReorder&&this.props.onRowReorder({originalEvent:e,value:n,dragIndex:this.draggedRowIndex,dropIndex:this.droppedRowIndex})}this.onRowDragLeave(e),this.onRowDragEnd(e)}},{key:"componentWillUnmount",value:function(){this.props.dragSelection&&this.unbindDragSelectionEvents()}},{key:"renderRowGroupHeader",value:function(e,t){var n=null;return"subheader"===this.props.rowGroupMode&&this.props.expandableRowGroups&&(n=F.createElement(ef,{onClick:this.onRowToggle,rowData:e,expanded:this.isRowExpanded(e)})),F.createElement("tr",{role:"row",key:t+"_rowgroupheader",className:"p-rowgroup-header"},F.createElement("td",{role:"cell",colSpan:F.Children.count(this.props.children)},n,F.createElement("span",{className:"p-rowgroup-header-name"},this.props.rowGroupHeaderTemplate(e,t))))}},{key:"renderRowGroupFooter",value:function(e,t){return F.createElement("tr",{role:"row",key:t+"_rowgroupfooter",className:"p-rowgroup-footer"},this.props.rowGroupFooterTemplate(e,t))}},{key:"render",value:function(){var e,t=this;if(this.props.children){var n=this.props.rows||0,r=this.props.first||0,i=this.isSelectionEnabled(),o=this.props.rowGroupMode,s=o&&"subheader"===o,a=o&&"rowspan"===o,l=!1;if(this.props.value&&this.props.value.length){e=[];for(var u=this.props.lazy?0:this.props.value.length>r?r:0,c=this.props.virtualScroll?u+2*n:u+n||this.props.value.length,p=function(n){if(n>=t.props.value.length)return"break";var r=t.props.value[n],o=t.isRowExpanded(r),c=t.isRowEditing(r),p=!!i&&t.isSelected(t.props.value[n]),h=t.isContextMenuSelected(r),d=void 0;if(s){var f=Mc.resolveFieldData(r,t.props.groupField),m=Mc.resolveFieldData(t.props.value[n-1],t.props.groupField);0!==n&&f===m||(e.push(t.renderRowGroupHeader(r,n)),l=o)}if(a){var g=n,v=Mc.resolveFieldData(r,t.props.sortField);if(n===u||Mc.resolveFieldData(t.props.value[n-1],t.props.sortField)!==v){var y=v;for(d=0;v===y;){d++;var b=t.props.value[++g];if(!b)break;y=Mc.resolveFieldData(b,t.props.sortField)}}}var w=t.props.expandableRowGroups&&s&&l;if(!t.props.expandableRowGroups||w){var E=F.createElement(Jd,{tableId:t.props.tableId,key:n,value:t.props.value,rowData:r,rowIndex:n,onClick:t.onRowClick,onDoubleClick:t.props.onRowDoubleClick,onRightClick:t.onRowRightClick,onTouchEnd:t.onRowTouchEnd,onMouseDown:t.onRowMouseDown,onMouseUp:t.onRowMouseUp,onCellMouseDown:t.onCellMouseDown,onCellMouseUp:t.onCellMouseUp,onRowToggle:t.onRowToggle,expanded:o,selectionMode:t.props.selectionMode,selectOnEdit:t.props.selectOnEdit,onRadioClick:t.onRadioClick,onCheckboxClick:t.onCheckboxClick,selected:p,contextMenuSelected:h,rowClassName:t.props.rowClassName,cellClassName:t.props.cellClassName,sortField:t.props.sortField,rowGroupMode:t.props.rowGroupMode,groupRowSpan:d,onDragStart:function(e){return t.onRowDragStart(e,n)},onDragEnd:t.onRowDragEnd,onDragOver:function(e){return t.onRowDragOver(e,n)},onDragLeave:t.onRowDragLeave,onDrop:t.onRowDrop,virtualScroll:t.props.virtualScroll,virtualRowHeight:t.props.virtualRowHeight,editMode:t.props.editMode,editing:c,isRowEditingControlled:!!t.props.onRowEditChange,rowEditorValidator:t.props.rowEditorValidator,onRowEditInit:t.props.onRowEditInit,onRowEditSave:t.props.onRowEditSave,onRowEditCancel:t.props.onRowEditCancel,onRowEditingToggle:t.onRowEditingToggle,showRowReorderElement:t.props.showRowReorderElement,showSelectionElement:t.props.showSelectionElement,onSelectionChange:t.props.onSelectionChange,selectionModeInColumn:t.props.selectionModeInColumn,dragSelection:t.props.dragSelection,selection:t.props.selection,allowRowSelection:t.allowRowSelection(),allowCellSelection:t.allowCellSelection(),onCellClick:t.onCellClick,onEditingCellChange:t.props.onEditingCellChange},t.props.children);e.push(E)}if(o&&(!s||!t.props.expandableRowGroups)){var k=t.props.rowExpansionTemplate(r),S="".concat(t.props.tableId?t.props.tableId+"_":"","content_").concat(n,"_expanded"),C=F.createElement("tr",{key:S,id:S,role:"row",className:"p-row-expanded"},F.createElement("td",{role:"cell",colSpan:t.props.children.length},k));e.push(C)}if(s&&(!t.props.expandableRowGroups||w)){var D=Mc.resolveFieldData(r,t.props.groupField),x=Mc.resolveFieldData(t.props.value[n+1],t.props.groupField);n!==t.props.value.length-1&&D===x||e.push(t.renderRowGroupFooter(r,n))}},h=u;h<c;h++){if("break"===p(h))break}}else{var d=this.props.emptyMessage;e=this.props.loading||null===d?null:F.createElement("tr",{role:"row",className:"p-datatable-emptymessage"},F.createElement("td",{role:"cell",colSpan:this.props.children.length},"function"==typeof d?d(this.props.frozen):d))}}return F.createElement("tbody",{className:"p-datatable-tbody"},e)}}]),r}();function af(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_d(e);if(t){var i=_d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ld(this,n)}}var lf=function(t){Md(r,e.exports.Component);var n=af(r);function r(){return Td(this,r),n.apply(this,arguments)}return Rd(r,[{key:"render",value:function(){var e=this.props.footerClassName||this.props.className,t=Mc.getJSXElement(this.props.footer,this.props);return F.createElement("td",{role:"cell",className:e,style:this.props.footerStyle||this.props.style,colSpan:this.props.colSpan,rowSpan:this.props.rowSpan},t)}}]),r}();function uf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_d(e);if(t){var i=_d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ld(this,n)}}var cf=function(t){Md(r,e.exports.Component);var n=uf(r);function r(){return Td(this,r),n.apply(this,arguments)}return Rd(r,[{key:"createFooterCells",value:function(e,t,n){var r=F.Children.toArray(e.props.children);return F.Children.map(r,(function(e,t){return F.createElement(lf,Vd({key:t},e.props))}))}},{key:"render",value:function(){var e,t=this;this.props.columnGroup?e=F.Children.toArray(this.props.columnGroup.props.children).map((function(e,n){return F.createElement("tr",{key:n,role:"row"},t.createFooterCells(e))})):e=F.createElement("tr",{role:"row"},this.createFooterCells(this));return F.createElement("tfoot",{className:"p-datatable-tfoot"},e)}}]),r}();function pf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_d(e);if(t){var i=_d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ld(this,n)}}var hf=function(t){Md(r,e.exports.Component);var n=pf(r);function r(e){var t;return Td(this,r),(t=n.call(this,e)).state={filterValue:"",badgeVisible:!1},t.onClick=t.onClick.bind(Id(t)),t.onFilterChange=t.onFilterChange.bind(Id(t)),t.onMouseDown=t.onMouseDown.bind(Id(t)),t.onResizerMouseDown=t.onResizerMouseDown.bind(Id(t)),t.onResizerClick=t.onResizerClick.bind(Id(t)),t.onResizerDoubleClick=t.onResizerDoubleClick.bind(Id(t)),t.onKeyDown=t.onKeyDown.bind(Id(t)),t.onDragStart=t.onDragStart.bind(Id(t)),t.onDragOver=t.onDragOver.bind(Id(t)),t.onDragLeave=t.onDragLeave.bind(Id(t)),t.onDrop=t.onDrop.bind(Id(t)),t}return Rd(r,[{key:"onClick",value:function(e){var t=this.props.columnProps,n=t.field,r=t.sortField,i=t.sortable,o=t.sortFunction;if(!this.isSortableDisabled()){var s=e.target;(Ic.hasClass(s,"p-sortable-column")||Ic.hasClass(s,"p-column-title")||Ic.hasClass(s,"p-sortable-column-icon")||Ic.hasClass(s.parentElement,"p-sortable-column-icon"))&&(this.props.onSort({originalEvent:e,sortField:r||n,sortFunction:o,sortable:i,sortableDisabledFields:this.props.sortableDisabledFields}),Ic.clearSelection())}}},{key:"onFilterChange",value:function(e){var t=this,n=e.target.value;this.props.columnProps.filter&&this.props.onFilter&&(this.filterTimeout&&clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout((function(){t.props.onFilter({value:n,field:t.props.columnProps.filterField||t.props.columnProps.field,matchMode:t.props.columnProps.filterMatchMode}),t.filterTimeout=null}),this.props.filterDelay)),this.setState({filterValue:n})}},{key:"onResizerMouseDown",value:function(e){this.props.resizableColumns&&this.props.onColumnResizeStart&&(this.props.onColumnResizeStart({originalEvent:e,columnEl:e.target.parentElement,columnProps:this.props.columnProps}),e.preventDefault())}},{key:"onResizerClick",value:function(e){this.props.resizableColumns&&this.props.onColumnResizerClick&&(this.props.onColumnResizerClick({originalEvent:e,element:e.currentTarget.parentElement,column:this.props.columnProps}),e.preventDefault())}},{key:"onResizerDoubleClick",value:function(e){this.props.resizableColumns&&this.props.onColumnResizerDoubleClick&&(this.props.onColumnResizerDoubleClick({originalEvent:e,element:e.currentTarget.parentElement,column:this.props.columnProps}),e.preventDefault())}},{key:"onMouseDown",value:function(e){this.props.reorderableColumns&&this.props.columnProps.reorderable&&("INPUT"!==e.target.nodeName?this.el.draggable=!0:"INPUT"===e.target.nodeName&&(this.el.draggable=!1))}},{key:"onKeyDown",value:function(e){"Enter"===e.key&&e.currentTarget===this.el&&(this.onClick(e),e.preventDefault())}},{key:"onDragStart",value:function(e){this.props.onDragStart&&this.props.onDragStart({originalEvent:e,column:this.props.columnProps})}},{key:"onDragOver",value:function(e){this.props.onDragOver&&this.props.onDragOver({originalEvent:e,column:this.props.columnProps})}},{key:"onDragLeave",value:function(e){this.props.onDragLeave&&this.props.onDragLeave({originalEvent:e,column:this.props.columnProps})}},{key:"onDrop",value:function(e){this.props.onDrop&&this.props.onDrop({originalEvent:e,column:this.props.columnProps})}},{key:"getMultiSortMetaDataIndex",value:function(){if(this.props.multiSortMeta)for(var e=this.props.columnProps.sortField||this.props.columnProps.field,t=0;t<this.props.multiSortMeta.length;t++)if(this.props.multiSortMeta[t].field===e)return t;return-1}},{key:"componentDidUpdate",value:function(e){var t=e.columnProps,n=this.props.columnProps,r=n.filterField||n.field;t.sortableDisabled===n.sortableDisabled&&t.sortable===n.sortable||this.props.onSortableChange(),!(this.state.filterValue&&e.filters&&e.filters[r])||this.props.filters&&this.props.filters[r]||this.setState({filterValue:""})}},{key:"getAriaSort",value:function(e,t){if(this.props.columnProps.sortable){var n=e?t<0?"pi-sort-amount-down":"pi-sort-amount-up-alt":"pi-sort-alt";return"pi-sort-amount-down"===n?"descending":"pi-sort-amount-up-alt"===n?"ascending":"none"}return null}},{key:"isSortableDisabled",value:function(){return!this.props.columnProps.sortable||this.props.columnProps.sortable&&(this.props.allSortableDisabled||this.props.columnProps.sortableDisabled)}},{key:"isSingleSorted",value:function(){return null!==this.props.sortField&&(this.props.columnProps.field===this.props.sortField||this.props.columnProps.sortField===this.props.sortField)}},{key:"renderSortIcon",value:function(e,t){if(this.props.columnProps.sortable){var n=Cc("p-sortable-column-icon pi pi-fw",e?t<0?"pi-sort-amount-down":"pi-sort-amount-up-alt":"pi-sort-alt");return F.createElement("span",{className:n})}return null}},{key:"renderSortBadge",value:function(e){return-1!==e&&this.state.badgeVisible?F.createElement("span",{className:"p-sortable-column-badge"},e+1):null}},{key:"render",value:function(){var e,t,n=this;if(this.props.columnProps.filter&&this.props.renderOptions.renderFilter&&(e=this.props.columnProps.filterElement||F.createElement(Cp,{onChange:this.onFilterChange,type:this.props.columnProps.filterType,value:this.state.filterValue,className:"p-column-filter",placeholder:this.props.columnProps.filterPlaceholder,maxLength:this.props.columnProps.filterMaxLength})),"multiple"===this.props.columnProps.selectionMode&&this.props.renderOptions.renderHeaderCheckbox&&(t=F.createElement(Kd,{onClick:this.props.onHeaderCheckboxClick,selected:this.props.headerCheckboxSelected,disabled:!this.props.value||0===this.props.value.length})),this.props.renderOptions.filterOnly)return F.createElement("th",{ref:function(e){return n.el=e},role:"columnheader",className:Cc("p-filter-column",this.props.columnProps.filterHeaderClassName),style:this.props.columnProps.filterHeaderStyle||this.props.columnProps.style,colSpan:this.props.columnProps.colSpan,rowSpan:this.props.columnProps.rowSpan},e,t);var r=this.getMultiSortMetaDataIndex(),i=-1!==r?this.props.multiSortMeta[r]:null,o=this.isSingleSorted(),s=null!==i,a=0,l=this.props.resizableColumns&&F.createElement("span",{className:"p-column-resizer p-clickable",onMouseDown:this.onResizerMouseDown,onClick:this.onResizerClick,onDoubleClick:this.onResizerDoubleClick});o?a=this.props.sortOrder:s&&(a=i.order);var u=this.props.columnProps.sortable&&(o||s),c=this.isSortableDisabled(),p=Cc({"p-sortable-column":this.props.columnProps.sortable,"p-highlight":u,"p-sortable-disabled":c,"p-resizable-column":this.props.resizableColumns,"p-selection-column":this.props.columnProps.selectionMode},this.props.columnProps.headerClassName||this.props.columnProps.className),h=this.renderSortIcon(u,a),d=this.getAriaSort(u,a),f=this.renderSortBadge(r),m=this.props.columnProps.sortable&&!c?this.props.tabIndex:null;return F.createElement("th",{ref:function(e){return n.el=e},role:"columnheader",tabIndex:m,className:p,style:this.props.columnProps.headerStyle||this.props.columnProps.style,onClick:this.onClick,onMouseDown:this.onMouseDown,onKeyDown:this.onKeyDown,colSpan:this.props.columnProps.colSpan,rowSpan:this.props.columnProps.rowSpan,"aria-sort":d,onDragStart:this.onDragStart,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop},l,F.createElement("span",{className:"p-column-title"},this.props.columnProps.header),h,f,e,t)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{badgeVisible:e.multiSortMeta&&e.multiSortMeta.length>1}}}]),r}();function df(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ff(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ff(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function ff(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_d(e);if(t){var i=_d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ld(this,n)}}var gf=function(t){Md(r,e.exports.Component);var n=mf(r);function r(e){var t;return Td(this,r),(t=n.call(this,e)).state={sortableDisabledFields:[],allSortableDisabled:!1},t.onSortableChange=t.onSortableChange.bind(Id(t)),t}return Rd(r,[{key:"createHeaderCells",value:function(e,t){var n=this;return F.Children.map(e,(function(e,r){return F.createElement(hf,{key:e.props.columnKey||e.props.field||r,allSortableDisabled:n.isAllSortableDisabled(),onSortableChange:n.onSortableChange,columnProps:e.props,value:n.props.value,onSort:n.props.onSort,sortableDisabledFields:n.state.sortableDisabledFields,sortMode:n.props.sortMode,sortField:n.props.sortField,sortOrder:n.props.sortOrder,multiSortMeta:n.props.multiSortMeta,resizableColumns:n.props.resizableColumns,onColumnResizeStart:n.props.onColumnResizeStart,onColumnResizerClick:n.props.onColumnResizerClick,onColumnResizerDoubleClick:n.props.onColumnResizerDoubleClick,filterDelay:n.props.filterDelay,onFilter:n.props.onFilter,renderOptions:t,onHeaderCheckboxClick:n.props.onHeaderCheckboxClick,headerCheckboxSelected:n.props.headerCheckboxSelected,reorderableColumns:n.props.reorderableColumns,onDragStart:n.props.onColumnDragStart,onDragOver:n.props.onColumnDragOver,onDragLeave:n.props.onColumnDragLeave,onDrop:n.props.onColumnDrop,filters:n.props.filters,tabIndex:n.props.tabIndex})}))}},{key:"hasColumnFilter",value:function(e){if(e){var t,n=df(e);try{for(n.s();!(t=n.n()).done;){if(t.value.props.filter)return!0}}catch(r){n.e(r)}finally{n.f()}}return!1}},{key:"isSingleSort",value:function(){return"single"===this.props.sortMode}},{key:"isMultipleSort",value:function(){return"multiple"===this.props.sortMode}},{key:"isAllSortableDisabled",value:function(){return this.isSingleSort()&&this.state.allSortableDisabled}},{key:"isColumnSorted",value:function(e){return null!==this.props.sortField&&(e.props.field===this.props.sortField||e.props.sortField===this.props.sortField)}},{key:"updateSortableDisabled",value:function(){var e=this;if(this.isSingleSort()||this.isMultipleSort()&&this.props.onSort){var t=[],n=!1;F.Children.forEach(this.props.children,(function(r){r.props.sortableDisabled&&(t.push(r.props.sortField||r.props.field),!n&&e.isColumnSorted(r)&&(n=!0))})),this.setState({sortableDisabledFields:t,allSortableDisabled:n})}}},{key:"onSortableChange",value:function(){this.updateSortableDisabled()}},{key:"componentDidMount",value:function(){this.updateSortableDisabled()}},{key:"render",value:function(){var e,t=this;if(this.props.columnGroup){e=F.Children.toArray(this.props.columnGroup.props.children).map((function(e,n){return F.createElement("tr",{key:n,role:"row"},t.createHeaderCells(F.Children.toArray(e.props.children),{filterOnly:!1,renderFilter:!0,renderHeaderCheckbox:!0}))}))}else{var n=F.Children.toArray(this.props.children);e=this.hasColumnFilter(n)?F.createElement(F.Fragment,null,F.createElement("tr",{role:"row"},this.createHeaderCells(n,{filterOnly:!1,renderFilter:!1,renderHeaderCheckbox:!1})),F.createElement("tr",{role:"row"},this.createHeaderCells(n,{filterOnly:!0,renderFilter:!0,renderHeaderCheckbox:!0}))):F.createElement("tr",{role:"row"},this.createHeaderCells(n,{filterOnly:!1,renderFilter:!1,renderHeaderCheckbox:!0}))}return F.createElement("thead",{className:"p-datatable-thead"},e)}}]),r}();function vf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_d(e);if(t){var i=_d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ld(this,n)}}var yf=function(t){Md(r,e.exports.Component);var n=vf(r);function r(){return Td(this,r),n.apply(this,arguments)}return Rd(r,[{key:"renderRow",value:function(e){for(var t=[],n=0;n<this.props.columns.length;n++)t.push(F.createElement("td",{key:n},this.props.columns[n].props.loadingBody()));return F.createElement("tr",{key:e},t)}},{key:"renderRows",value:function(){for(var e=[],t=0;t<this.props.rows;t++)e.push(this.renderRow(t));return e}},{key:"render",value:function(){var e=this.renderRows();return F.createElement("tbody",{className:"p-datatable-tbody"},e)}}]),r}();function bf(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return wf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wf(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function wf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_d(e);if(t){var i=_d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ld(this,n)}}var Sf=function(t){Md(r,e.exports.Component);var n=kf(r);function r(e){var t;return Td(this,r),(t=n.call(this,e)).state={d_rows:e.rows,editingCells:[]},t.props.onPage||(t.state.first=e.first,t.state.rows=e.rows),t.props.onSort||(t.state.sortField=e.sortField,t.state.sortOrder=e.sortOrder,t.state.multiSortMeta=e.multiSortMeta),t.props.onFilter||(t.state.filters=e.filters),t.isStateful()&&t.restoreState(t.state),t.onPageChange=t.onPageChange.bind(Id(t)),t.onSort=t.onSort.bind(Id(t)),t.onFilter=t.onFilter.bind(Id(t)),t.onColumnResizeStart=t.onColumnResizeStart.bind(Id(t)),t.onHeaderCheckboxClick=t.onHeaderCheckboxClick.bind(Id(t)),t.onColumnDragStart=t.onColumnDragStart.bind(Id(t)),t.onColumnDragOver=t.onColumnDragOver.bind(Id(t)),t.onColumnDragLeave=t.onColumnDragLeave.bind(Id(t)),t.onColumnDrop=t.onColumnDrop.bind(Id(t)),t.onVirtualScroll=t.onVirtualScroll.bind(Id(t)),t.onEditingCellChange=t.onEditingCellChange.bind(Id(t)),t}return Rd(r,[{key:"getFirst",value:function(){return this.props.onPage?this.props.first:this.state.first}},{key:"getRows",value:function(){return this.props.onPage?this.props.rows:this.state.rows}},{key:"getSortField",value:function(){return this.props.onSort?this.props.sortField:this.state.sortField}},{key:"getSortOrder",value:function(){return this.props.onSort?this.props.sortOrder:this.state.sortOrder}},{key:"getMultiSortMeta",value:function(){return this.props.onSort?this.props.multiSortMeta:this.state.multiSortMeta}},{key:"getFilters",value:function(){return this.props.onFilter?this.props.filters:this.state.filters}},{key:"getStorage",value:function(){switch(this.props.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;case"custom":return null;default:throw new Error(this.props.stateStorage+' is not a valid value for the state storage, supported values are "local", "session" and "custom".')}}},{key:"isCustomStateStorage",value:function(){return"custom"===this.props.stateStorage}},{key:"isStateful",value:function(){return null!=this.props.stateKey||this.isCustomStateStorage()}},{key:"saveState",value:function(){var e={};this.props.paginator&&(e.first=this.getFirst(),e.rows=this.getRows());var t=this.getSortField();t&&(e.sortField=t,e.sortOrder=this.getSortOrder());var n=this.getMultiSortMeta();if(n&&(e.multiSortMeta=n),this.hasFilter()&&(e.filters=this.getFilters()),this.props.resizableColumns&&this.saveColumnWidths(e),this.props.reorderableColumns&&(e.columnOrder=this.state.columnOrder),this.props.expandedRows&&(e.expandedRows=this.props.expandedRows),this.props.selection&&this.props.onSelectionChange&&(e.selection=this.props.selection),this.isCustomStateStorage())this.props.customSaveState&&this.props.customSaveState(e);else{var r=this.getStorage();Object.keys(e).length&&r.setItem(this.props.stateKey,JSON.stringify(e))}this.props.onStateSave&&this.props.onStateSave(e)}},{key:"clearState",value:function(){var e=this.getStorage();e&&this.props.stateKey&&e.removeItem(this.props.stateKey)}},{key:"restoreState",value:function(e){var t={};if(this.isCustomStateStorage())this.props.customRestoreState&&(t=this.props.customRestoreState());else{var n=this.getStorage().getItem(this.props.stateKey);n&&(t=JSON.parse(n))}this._restoreState(t,e)}},{key:"restoreTableState",value:function(e){var t=this._restoreState(e);t&&Object.keys(t).length&&this.setState(t)}},{key:"_restoreState",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&Object.keys(e).length){if(this.props.paginator)if(this.props.onPage){var r=function(e,n){var r=t.getTotalRecords(t.processData()),i=Math.ceil(r/n)||1;return{first:e,rows:n,page:Math.floor(e/n),pageCount:i}};this.props.onPage(r(e.first,e.rows))}else n.first=e.first,n.rows=e.rows;e.sortField&&(this.props.onSort?this.props.onSort({sortField:e.sortField,sortOrder:e.sortOrder}):(n.sortField=e.sortField,n.sortOrder=e.sortOrder)),e.multiSortMeta&&(this.props.onSort?this.props.onSort({multiSortMeta:e.multiSortMeta}):n.multiSortMeta=e.multiSortMeta),e.filters&&(this.props.onFilter?this.props.onFilter({filters:e.filters}):n.filters=e.filters),this.props.resizableColumns&&(this.columnWidthsState=e.columnWidths,this.tableWidthState=e.tableWidth),this.props.reorderableColumns&&(n.columnOrder=e.columnOrder),e.expandedRows&&this.props.onRowToggle&&this.props.onRowToggle({data:e.expandedRows}),e.selection&&this.props.onSelectionChange&&this.props.onSelectionChange({value:e.selection}),this.props.onStateRestore&&this.props.onStateRestore(e)}return n}},{key:"saveColumnWidths",value:function(e){var t=[];Ic.find(this.container,".p-datatable-thead > tr > th.p-resizable-column").map((function(e){return t.push(Ic.getOuterWidth(e))})),e.columnWidths=t.join(","),"expand"===this.props.columnResizeMode&&(e.tableWidth=this.props.scrollable?Ic.findSingle(this.container,".p-datatable-scrollable-header-table").style.width:Ic.getOuterWidth(this.table)+"px")}},{key:"restoreColumnWidths",value:function(){if(this.columnWidthsState){var e=this.columnWidthsState.split(",");if("expand"===this.props.columnResizeMode&&this.tableWidthState&&(this.props.scrollable?this.setScrollableItemsWidthOnExpandResize(null,this.tableWidthState,0):(this.table.style.width=this.tableWidthState,this.container.style.width=this.tableWidthState)),this.props.scrollable){var t=Ic.find(this.container,".p-datatable-scrollable-header-table > colgroup > col"),n=Ic.find(this.container,".p-datatable-scrollable-body-table > colgroup > col");t.map((function(t,n){return t.style.width=e[n]+"px"})),n.map((function(t,n){return t.style.width=e[n]+"px"}))}else{Ic.find(this.table,".p-datatable-thead > tr > th").map((function(t,n){return t.style.width=e[n]+"px"}))}}}},{key:"onPageChange",value:function(e){this.props.onPage?this.props.onPage(e):this.setState({first:e.first,rows:e.rows}),this.props.onValueChange&&this.props.onValueChange(this.processData())}},{key:"createPaginator",value:function(e,t,n){var r=Cc("p-paginator-"+e,this.props.paginatorClassName);return F.createElement(Cd,{first:this.getFirst(),rows:this.getRows(),pageLinkSize:this.props.pageLinkSize,className:r,onPageChange:this.onPageChange,template:this.props.paginatorTemplate,totalRecords:t,rowsPerPageOptions:this.props.rowsPerPageOptions,currentPageReportTemplate:this.props.currentPageReportTemplate,leftContent:this.props.paginatorLeft,rightContent:this.props.paginatorRight,alwaysShow:this.props.alwaysShowPaginator,dropdownAppendTo:this.props.paginatorDropdownAppendTo})}},{key:"onSort",value:function(e){var t,n,r=e.sortField,i=this.props.defaultSortOrder;if(this.columnSortable=e.sortable,this.columnSortFunction=e.sortFunction,this.columnField=e.sortField,"multiple"===this.props.sortMode){var o=e.originalEvent.metaKey||e.originalEvent.ctrlKey,s=e.sortableDisabledFields,a=(t=xd(this.getMultiSortMeta()||[])).find((function(e){return e.field===r}));i=a?this.getCalculatedSortOrder(a.order):i;var l={field:r,order:i};i?(t=o?t:t.filter((function(e){return s.some((function(t){return t===e.field}))})),this.addSortMeta(l,t)):this.props.removableSort&&this.removeSortMeta(l,t),n={multiSortMeta:t}}else i=this.getSortField()===r?this.getCalculatedSortOrder(this.getSortOrder()):i,this.props.removableSort&&(r=i?r:null),n={sortField:r,sortOrder:i};this.props.onSort?this.props.onSort(n):(n.first=0,this.setState(n)),this.props.onValueChange&&this.props.onValueChange(this.processData({sortField:r,sortOrder:i,multiSortMeta:t}))}},{key:"getCalculatedSortOrder",value:function(e){return this.props.removableSort?this.props.defaultSortOrder===e?-1*e:0:-1*e}},{key:"addSortMeta",value:function(e,t){for(var n=-1,r=0;r<t.length;r++)if(t[r].field===e.field){n=r;break}n>=0?t[n]=e:t.push(e)}},{key:"removeSortMeta",value:function(e,t){for(var n=-1,r=0;r<t.length;r++)if(t[r].field===e.field){n=r;break}n>=0&&t.splice(n,1),t=t.length>0?t:null}},{key:"sortSingle",value:function(e,t,n){var r=xd(e);return this.columnSortable&&this.columnSortFunction?r=this.columnSortFunction({field:this.getSortField(),order:this.getSortOrder()}):r.sort((function(e,r){var i=Mc.resolveFieldData(e,t),o=Mc.resolveFieldData(r,t),s=null;return s=null==i&&null!=o?-1:null!=i&&null==o?1:null==i&&null==o?0:"string"==typeof i&&"string"==typeof o?i.localeCompare(o,void 0,{numeric:!0}):i<o?-1:i>o?1:0,n*s})),r}},{key:"sortMultiple",value:function(e,t){var n=this,r=xd(e);if(this.columnSortable&&this.columnSortFunction){var i=t.find((function(e){return e.field===n.columnField})),o=this.columnField,s=i?i.order:this.defaultSortOrder;r=this.columnSortFunction({field:o,order:s})}else r.sort((function(e,r){return n.multisortField(e,r,t,0)}));return r}},{key:"multisortField",value:function(e,t,n,r){var i=Mc.resolveFieldData(e,n[r].field),o=Mc.resolveFieldData(t,n[r].field),s=null;if("string"==typeof i||i instanceof String){if(i.localeCompare&&i!==o)return n[r].order*i.localeCompare(o,void 0,{numeric:!0})}else s=i<o?-1:1;return i===o?n.length-1>r?this.multisortField(e,t,n,r+1):0:n[r].order*s}},{key:"filter",value:function(e,t,n){this.onFilter({value:e,field:t,matchMode:n})}},{key:"onFilter",value:function(e){var t=this.getFilters(),n=t?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ef(Object(n),!0).forEach((function(t){Ad(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ef(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t):{};this.isFilterBlank(e.value)?n[e.field]&&delete n[e.field]:n[e.field]={value:e.value,matchMode:e.matchMode},this.props.onFilter?this.props.onFilter({filters:n}):this.setState({first:0,filters:n}),this.props.onValueChange&&this.props.onValueChange(this.processData({filters:n}))}},{key:"hasFilter",value:function(){var e=this.getFilters()||this.props.globalFilter;return e&&Object.keys(e).length>0}},{key:"isFilterBlank",value:function(e){return null==e||("string"==typeof e&&0===e.trim().length||e instanceof Array&&0===e.length)}},{key:"hasFooter",value:function(){return!!this.props.children&&(!!this.props.footerColumnGroup||this.hasChildrenFooter(this.props.children))}},{key:"hasChildrenFooter",value:function(e){var t=!1;if(e){if(!(e instanceof Array))return e.props&&null!==e.props.footer;for(var n=0;n<e.length;n++)t=t||this.hasChildrenFooter(e[n])}return t}},{key:"onColumnResizeStart",value:function(e){var t=Ic.getOffset(this.container).left;this.resizeColumn=e.columnEl,this.resizeColumnProps=e.columnProps,this.columnResizing=!0,this.lastResizerHelperX=e.originalEvent.pageX-t+this.container.scrollLeft,this.bindColumnResizeEvents()}},{key:"onColumnResize",value:function(e){var t=Ic.getOffset(this.container).left;Ic.addClass(this.container,"p-unselectable-text"),this.resizerHelper.style.height=this.container.offsetHeight+"px",this.resizerHelper.style.top="0px",this.resizerHelper.style.left=e.pageX-t+this.container.scrollLeft+"px",this.resizerHelper.style.display="block"}},{key:"onColumnResizeEnd",value:function(e){var t=this.resizerHelper.offsetLeft-this.lastResizerHelperX,n=this.resizeColumn.offsetWidth,r=n+t,i=this.resizeColumn.style.minWidth||15;if(n+t>parseInt(i,10)){if("fit"===this.props.columnResizeMode){var o=this.resizeColumn.nextElementSibling,s=o.offsetWidth-t;if(r>15&&s>15)if(this.props.scrollable){var a=this.findParentScrollableView(this.resizeColumn),l=Ic.findSingle(a,"table.p-datatable-scrollable-body-table"),u=Ic.findSingle(a,"table.p-datatable-scrollable-header-table"),c=Ic.findSingle(a,"table.p-datatable-scrollable-footer-table"),p=Ic.index(this.resizeColumn);this.resizeColGroup(u,p,r,s),this.resizeColGroup(l,p,r,s),this.resizeColGroup(c,p,r,s)}else this.resizeColumn.style.width=r+"px",o&&(o.style.width=s+"px")}else"expand"===this.props.columnResizeMode&&(this.props.scrollable?this.setScrollableItemsWidthOnExpandResize(this.resizeColumn,r,t):(this.table.style.width=this.table.offsetWidth+t+"px",this.resizeColumn.style.width=r+"px"));this.props.onColumnResizeEnd&&this.props.onColumnResizeEnd({element:this.resizeColumn,column:this.resizeColumnProps,delta:t}),this.isStateful()&&this.saveState()}this.resizerHelper.style.display="none",this.resizeColumn=null,this.resizeColumnProps=null,Ic.removeClass(this.container,"p-unselectable-text"),this.unbindColumnResizeEvents()}},{key:"setScrollableItemsWidthOnExpandResize",value:function(e,t,n){var r=e?this.findParentScrollableView(e):this.container,i=Ic.findSingle(r,".p-datatable-scrollable-body"),o=Ic.findSingle(r,".p-datatable-scrollable-header"),s=Ic.findSingle(r,".p-datatable-scrollable-footer"),a=Ic.findSingle(i,"table.p-datatable-scrollable-body-table"),l=Ic.findSingle(o,"table.p-datatable-scrollable-header-table"),u=Ic.findSingle(s,"table.p-datatable-scrollable-footer-table"),c=e?a.offsetWidth+n:t,p=e?l.offsetWidth+n:t,h=this.container.offsetWidth>=c,d=function(e,t,n,r){e&&t&&(e.style.width=r?n+Ic.calculateScrollbarWidth(i)+"px":"auto",t.style.width=n+"px")};if(d(i,a,c,h),d(o,l,p,h),d(s,u,p,h),e){var f=Ic.index(e);this.resizeColGroup(l,f,t,null),this.resizeColGroup(a,f,t,null),this.resizeColGroup(u,f,t,null)}}},{key:"findParentScrollableView",value:function(e){if(e){for(var t=e.parentElement;t&&!Ic.hasClass(t,"p-datatable-scrollable-view");)t=t.parentElement;return t}return null}},{key:"resizeColGroup",value:function(e,t,n,r){if(e){var i="COLGROUP"===e.children[0].nodeName?e.children[0]:null;if(!i)throw new Error("Scrollable tables require a colgroup to support resizable columns");var o=i.children[t],s=o.nextElementSibling;o.style.width=n+"px",s&&r&&(s.style.width=r+"px")}}},{key:"bindColumnResizeEvents",value:function(){var e=this;this.documentColumnResizeListener=document.addEventListener("mousemove",(function(t){e.columnResizing&&e.onColumnResize(t)})),this.documentColumnResizeEndListener=document.addEventListener("mouseup",(function(t){e.columnResizing&&(e.columnResizing=!1,e.onColumnResizeEnd(t))}))}},{key:"unbindColumnResizeEvents",value:function(){document.removeEventListener("document",this.documentColumnResizeListener),document.removeEventListener("document",this.documentColumnResizeEndListener)}},{key:"findParentHeader",value:function(e){if("TH"===e.nodeName)return e;for(var t=e.parentElement;"TH"!==t.nodeName&&(t=t.parentElement););return t}},{key:"onColumnDragStart",value:function(e){var t=e.originalEvent,n=e.column;this.columnResizing?t.preventDefault():(this.iconWidth=Ic.getHiddenElementOuterWidth(this.reorderIndicatorUp),this.iconHeight=Ic.getHiddenElementOuterHeight(this.reorderIndicatorUp),this.draggedColumnEl=this.findParentHeader(t.currentTarget),this.draggedColumn=n,t.dataTransfer.setData("text","b"))}},{key:"onColumnDragOver",value:function(e){var t=e.originalEvent,n=this.findParentHeader(t.currentTarget);if(this.props.reorderableColumns&&this.draggedColumnEl&&n){t.preventDefault();var r=Ic.getOffset(this.container),i=Ic.getOffset(n);if(this.draggedColumnEl!==n){var o=i.left-r.left,s=i.left+n.offsetWidth/2;this.reorderIndicatorUp.style.top=i.top-r.top-(this.iconHeight-1)+"px",this.reorderIndicatorDown.style.top=i.top-r.top+n.offsetHeight+"px",t.pageX>s?(this.reorderIndicatorUp.style.left=o+n.offsetWidth-Math.ceil(this.iconWidth/2)+"px",this.reorderIndicatorDown.style.left=o+n.offsetWidth-Math.ceil(this.iconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUp.style.left=o-Math.ceil(this.iconWidth/2)+"px",this.reorderIndicatorDown.style.left=o-Math.ceil(this.iconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUp.style.display="block",this.reorderIndicatorDown.style.display="block"}}}},{key:"onColumnDragLeave",value:function(e){var t=e.originalEvent;this.props.reorderableColumns&&this.draggedColumnEl&&(t.preventDefault(),this.reorderIndicatorUp.style.display="none",this.reorderIndicatorDown.style.display="none")}},{key:"onColumnDrop",value:function(e){var t=this,n=e.originalEvent,r=e.column;if(n.preventDefault(),this.draggedColumnEl){var i=Ic.index(this.draggedColumnEl),o=Ic.index(this.findParentHeader(n.currentTarget)),s=i!==o;if(s&&(o-i==1&&-1===this.dropPosition||i-o==1&&1===this.dropPosition)&&(s=!1),s){var a=this.state.columnOrder?this.getColumns():F.Children.toArray(this.props.children),l=function(e,t){return e.columnKey||t.columnKey?Mc.equals(e,t,"columnKey"):Mc.equals(e,t,"field")},u=a.findIndex((function(e){return l(e.props,t.draggedColumn)})),c=a.findIndex((function(e){return l(e.props,r)}));c<u&&1===this.dropPosition&&c++,c>u&&-1===this.dropPosition&&c--,Mc.reorderArray(a,u,c);var p,h=[],d=bf(a);try{for(d.s();!(p=d.n()).done;){var f=p.value;h.push(f.props.columnKey||f.props.field)}}catch(m){d.e(m)}finally{d.f()}this.setState({columnOrder:h}),this.props.onColReorder&&this.props.onColReorder({originalEvent:n,dragIndex:u,dropIndex:c,columns:a})}this.reorderIndicatorUp.style.display="none",this.reorderIndicatorDown.style.display="none",this.draggedColumnEl.draggable=!1,this.draggedColumnEl=null,this.dropPosition=null}}},{key:"onVirtualScroll",value:function(e){var t=this;this.virtualScrollTimer&&clearTimeout(this.virtualScrollTimer),this.virtualScrollTimer=setTimeout((function(){t.props.onVirtualScroll&&t.props.onVirtualScroll({first:(e.page-1)*t.props.rows,rows:t.props.virtualScroll?2*t.props.rows:t.props.rows})}),this.props.virtualScrollDelay)}},{key:"hasEditingCell",value:function(){return this.state.editingCells&&0!==this.state.editingCells.length}},{key:"onEditingCellChange",value:function(e){var t=this,n=e.rowIndex,r=e.cellIndex,i=e.editing,o=xd(this.state.editingCells);i?o.push({rowIndex:n,cellIndex:r}):o=o.filter((function(e){return!(e.rowIndex===n&&e.cellIndex===r)})),this.setState({editingCells:o},(function(){t.props.onValueChange&&t.props.onValueChange(t.processData())}))}},{key:"exportCSV",value:function(e){var t,n=this,r="\ufeff",i=this.getColumns();t=e&&e.selectionOnly?this.props.selection||[]:[].concat(xd(this.props.frozenValue||[]),xd(this.processData()||[])),i.forEach((function(e,t){var o=e.props,s=o.field,a=o.header;o.exportable&&s&&(r+='"'+(a||s)+'"',t<i.length-1&&(r+=n.props.csvSeparator))})),t.forEach((function(e){r+="\n",i.forEach((function(t,o){var s=t.props,a=s.field;if(s.exportable&&a){var l=Mc.resolveFieldData(e,a);l=null!=l?n.props.exportFunction?n.props.exportFunction({data:l,field:a}):String(l).replace(/"/g,'""'):"",r+='"'+l+'"',o<i.length-1&&(r+=n.props.csvSeparator)}}))}));var o=new Blob([r],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(o,this.props.exportFilename+".csv");else{var s=document.createElement("a");void 0!==s.download?(s.setAttribute("href",URL.createObjectURL(o)),s.setAttribute("download",this.props.exportFilename+".csv"),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)):(r="data:text/csv;charset=utf-8,"+r,window.open(encodeURI(r)))}}},{key:"closeEditingCell",value:function(){"row"!==this.props.editMode&&document.body.click()}},{key:"onHeaderCheckboxClick",value:function(e){var t,n=e.originalEvent;e.checked?(t=[],this.props.onAllRowsUnselect&&this.props.onAllRowsUnselect({originalEvent:n,data:t,type:"all"})):(t=xd(this.hasFilter()?this.processData():this.props.value),this.props.onAllRowsSelect&&this.props.onAllRowsSelect({originalEvent:n,data:t,type:"all"}));this.props.onSelectionChange&&this.props.onSelectionChange({originalEvent:n,value:t})}},{key:"filterLocal",value:function(e,t){for(var n=[],r=t||this.getFilters(),i=F.Children.toArray(this.props.children),o=0;o<e.length;o++){for(var s=!0,a=!1,l=0;l<i.length;l++){var u=i[l],c=u.props.filterField||u.props.field,p=r?r[c]:null;if(p){var h=p.value,d=Mc.resolveFieldData(e[o],c),f=p.matchMode||u.props.filterMatchMode,m="custom"===f?u.props.filterFunction:_c[f],g={rowData:e[o],filters:r,props:this.props,column:{filterMeta:p,filterField:c,props:u.props}};if(null===m||m(d,h,this.props.filterLocale,g)||(s=!1),!s)break}u.props.excludeGlobalFilter||!this.props.globalFilter||a||(a=_c.contains(Mc.resolveFieldData(e[o],c),this.props.globalFilter,this.props.filterLocale))}var v=s;this.props.globalFilter&&(v=s&&a),v&&n.push(e[o])}return n.length===e.length&&(n=e),n}},{key:"processData",value:function(e){var t=this.props.value;if(!this.props.lazy&&!this.hasEditingCell()&&t&&t.length){var n=e&&e.sortField||this.getSortField(),r=e&&e.sortOrder||this.getSortOrder(),i=e&&e.multiSortMeta||this.getMultiSortMeta();(n||i&&i.length)&&("single"===this.props.sortMode?t=this.sortSingle(t,n,r):"multiple"===this.props.sortMode&&(t=this.sortMultiple(t,i)));var o=e&&e.filters||this.getFilters();(o||this.props.globalFilter)&&(t=this.filterLocal(t,o))}return t}},{key:"isAllSelected",value:function(){var e=this.hasFilter()?this.processData():this.props.value;return this.props.selection&&e&&e.length&&this.props.selection.length===e.length}},{key:"getFrozenColumns",value:function(e){var t,n=null,r=bf(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.props.frozen&&(n=n||[]).push(i)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"getScrollableColumns",value:function(e){var t,n=null,r=bf(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.props.frozen||(n=n||[]).push(i)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"getSelectionModeInColumn",value:function(e){if(Array.isArray(e)){var t,n=bf(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.props.selectionMode)return r.props.selectionMode}}catch(i){n.e(i)}finally{n.f()}}return null}},{key:"createTableHeader",value:function(e,t,n){return F.createElement(gf,{value:e,sortMode:this.props.sortMode,onSort:this.onSort,sortField:this.getSortField(),sortOrder:this.getSortOrder(),multiSortMeta:this.getMultiSortMeta(),columnGroup:n,resizableColumns:this.props.resizableColumns,onColumnResizeStart:this.onColumnResizeStart,onColumnResizerClick:this.props.onColumnResizerClick,onColumnResizerDoubleClick:this.props.onColumnResizerDoubleClick,onFilter:this.onFilter,filterDelay:this.props.filterDelay,onHeaderCheckboxClick:this.onHeaderCheckboxClick,headerCheckboxSelected:this.isAllSelected(),reorderableColumns:this.props.reorderableColumns,onColumnDragStart:this.onColumnDragStart,filters:this.getFilters(),onColumnDragOver:this.onColumnDragOver,onColumnDragLeave:this.onColumnDragLeave,onColumnDrop:this.onColumnDrop,tabIndex:this.props.tabIndex},t)}},{key:"createTableBody",value:function(e,t,n,r){return F.createElement(sf,{tableId:this.props.id,value:e,first:this.getFirst(),rows:this.getRows(),lazy:this.props.lazy,paginator:this.props.paginator,dataKey:this.props.dataKey,compareSelectionBy:this.props.compareSelectionBy,selectionMode:this.props.selectionMode,selection:this.props.selection,metaKeySelection:this.props.metaKeySelection,frozen:n,selectionModeInColumn:r,onSelectionChange:this.props.onSelectionChange,onRowClick:this.props.onRowClick,onRowDoubleClick:this.props.onRowDoubleClick,onRowSelect:this.props.onRowSelect,onRowUnselect:this.props.onRowUnselect,contextMenuSelection:this.props.contextMenuSelection,onContextMenuSelectionChange:this.props.onContextMenuSelectionChange,onContextMenu:this.props.onContextMenu,expandedRows:this.props.expandedRows,onRowToggle:this.props.onRowToggle,rowExpansionTemplate:this.props.rowExpansionTemplate,selectOnEdit:this.props.selectOnEdit,onRowExpand:this.props.onRowExpand,onRowCollapse:this.props.onRowCollapse,emptyMessage:this.props.emptyMessage,virtualScroll:this.props.virtualScroll,virtualRowHeight:this.props.virtualRowHeight,loading:this.props.loading,groupField:this.props.groupField,rowGroupMode:this.props.rowGroupMode,rowGroupHeaderTemplate:this.props.rowGroupHeaderTemplate,rowGroupFooterTemplate:this.props.rowGroupFooterTemplate,sortField:this.getSortField(),rowClassName:this.props.rowClassName,cellClassName:this.props.cellClassName,onRowReorder:this.props.onRowReorder,editMode:this.props.editMode,editingRows:this.props.editingRows,rowEditorValidator:this.props.rowEditorValidator,onRowEditInit:this.props.onRowEditInit,onRowEditSave:this.props.onRowEditSave,onRowEditCancel:this.props.onRowEditCancel,onRowEditChange:this.props.onRowEditChange,expandableRowGroups:this.props.expandableRowGroups,showRowReorderElement:this.props.showRowReorderElement,showSelectionElement:this.props.showSelectionElement,dragSelection:this.props.dragSelection,cellSelection:this.props.cellSelection,onCellClick:this.props.onCellClick,onCellSelect:this.props.onCellSelect,onCellUnselect:this.props.onCellUnselect,onEditingCellChange:this.onEditingCellChange},t)}},{key:"createTableLoadingBody",value:function(e){return this.props.virtualScroll?F.createElement(yf,{columns:e,rows:this.getRows()}):null}},{key:"createTableFooter",value:function(e,t){return this.hasFooter()?F.createElement(cf,{columnGroup:t},e):null}},{key:"createScrollableView",value:function(e,t,n,r,i,o,s){return F.createElement(zd,{columns:t,header:this.createTableHeader(e,t,r),body:this.createTableBody(e,t,n,s),loadingBody:this.createTableLoadingBody(t),frozenBody:this.props.frozenValue?this.createTableBody(this.props.frozenValue,t,!0,s):null,footer:this.createTableFooter(t,i),tableStyle:this.props.tableStyle,tableClassName:this.props.tableClassName,scrollHeight:this.props.scrollHeight,frozen:n,frozenWidth:this.props.frozenWidth,virtualScroll:this.props.virtualScroll,virtualRowHeight:this.props.virtualRowHeight,rows:this.props.rows,totalRecords:o,onVirtualScroll:this.onVirtualScroll,loading:this.props.loading})}},{key:"getColumns",value:function(){var e=F.Children.toArray(this.props.children);if(e&&e.length){if(this.props.reorderableColumns&&this.state.columnOrder){var t,n=[],r=bf(this.state.columnOrder);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=this.findColumnByKey(e,i);o&&n.push(o)}}catch(s){r.e(s)}finally{r.f()}return[].concat(n,xd(e.filter((function(e){return n.indexOf(e)<0}))))}return e}return null}},{key:"findColumnByKey",value:function(e,t){if(e&&e.length)for(var n=0;n<e.length;n++){var r=e[n];if(r.props.columnKey===t||r.props.field===t)return r}return null}},{key:"getTotalRecords",value:function(e){return this.props.lazy?this.props.totalRecords:e?e.length:0}},{key:"reset",value:function(){var e={};this.props.onPage||(e.first=this.props.first,e.rows=this.props.rows),this.props.onSort||(e.sortField=this.props.sortField,e.sortOrder=this.props.sortOrder,e.multiSortMeta=this.props.multiSortMeta),this.props.onFilter||(e.filters=this.props.filters),this.resetColumnOrder(),Object.keys(e).length&&this.setState(e)}},{key:"resetColumnOrder",value:function(){var e,t=[],n=bf(F.Children.toArray(this.props.children));try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r.props.columnKey||r.props.field)}}catch(i){n.e(i)}finally{n.f()}this.setState({columnOrder:t})}},{key:"renderLoader",value:function(){var e=Cc("p-datatable-loading-icon pi-spin",this.props.loadingIcon);return F.createElement("div",{className:"p-datatable-loading-overlay p-component-overlay"},F.createElement("i",{className:e}))}},{key:"componentDidMount",value:function(){this.isStateful()&&this.props.resizableColumns&&this.restoreColumnWidths()}},{key:"componentDidUpdate",value:function(e,t){this.isStateful()&&this.saveState(),e.globalFilter!==this.props.globalFilter&&this.filter(this.props.globalFilter,"globalFilter","contains")}},{key:"render",value:function(){var e,t=this,n=this.processData(),r=this.getColumns(),i=this.getTotalRecords(n),o=this.getSelectionModeInColumn(r),s=Cc("p-datatable p-component",{"p-datatable-resizable":this.props.resizableColumns,"p-datatable-resizable-fit":this.props.resizableColumns&&"fit"===this.props.columnResizeMode,"p-datatable-scrollable":this.props.scrollable,"p-datatable-virtual-scrollable":this.props.virtualScroll,"p-datatable-striped":this.props.stripedRows,"p-datatable-gridlines":this.props.showGridlines,"p-datatable-auto-layout":this.props.autoLayout,"p-datatable-hoverable-rows":this.props.rowHover||this.props.selectionMode||o},this.props.className),a=this.props.paginator&&"bottom"!==this.props.paginatorPosition&&this.createPaginator("top",i),l=this.props.paginator&&"top"!==this.props.paginatorPosition&&this.createPaginator("bottom",i),u=this.props.header&&F.createElement("div",{className:"p-datatable-header"},this.props.header),c=this.props.footer&&F.createElement("div",{className:"p-datatable-footer"},this.props.footer),p=this.props.resizableColumns&&F.createElement("div",{ref:function(e){t.resizerHelper=e},className:"p-column-resizer-helper p-highlight",style:{display:"none"}}),h=null,d=this.props.reorderableColumns&&F.createElement("span",{ref:function(e){t.reorderIndicatorUp=e},className:"pi pi-arrow-down p-datatable-reorder-indicator-up",style:{position:"absolute",display:"none"}}),f=this.props.reorderableColumns&&F.createElement("span",{ref:function(e){t.reorderIndicatorDown=e},className:"pi pi-arrow-up p-datatable-reorder-indicator-down",style:{position:"absolute",display:"none"}});if(this.props.loading&&(e=this.renderLoader()),Array.isArray(r))if(this.props.scrollable){var m,g,v=this.getFrozenColumns(r),y=v?this.getScrollableColumns(r):r;v&&(m=this.createScrollableView(n,v,!0,this.props.frozenHeaderColumnGroup,this.props.frozenFooterColumnGroup,i,o)),g=this.createScrollableView(n,y,!1,this.props.headerColumnGroup,this.props.footerColumnGroup,i,o),h=F.createElement("div",{className:"p-datatable-scrollable-wrapper"},m,g)}else{var b=this.createTableHeader(n,r,this.props.headerColumnGroup),w=this.createTableBody(n,r,!1,o),E=this.createTableFooter(r,this.props.footerColumnGroup);h=F.createElement("div",{className:"p-datatable-wrapper"},F.createElement("table",{style:this.props.tableStyle,role:"grid",className:this.props.tableClassName,ref:function(e){t.table=e}},b,E,w))}return F.createElement("div",{id:this.props.id,className:s,style:this.props.style,ref:function(e){t.container=e},"data-scrollselectors":".p-datatable-scrollable-body, .p-datatable-unfrozen-view .p-datatable-scrollable-body"},e,u,a,h,l,c,p,d,f)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.rows===t.d_rows||e.onPage?null:{rows:e.rows,d_rows:e.rows}}}]),r}();function Cf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Df(e){return function(e){if(Array.isArray(e))return Cf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Cf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cf(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Of(e,t,n){return t&&Tf(e.prototype,t),n&&Tf(e,n),e}function Rf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function If(e,t){return(If=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&If(e,t)}function Mf(e){return(Mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pf(e,t){return!t||"object"!==Mf(t)&&"function"!=typeof t?Rf(e):t}function Lf(e){return(Lf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Af(){return(Af=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ff(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ff(Object(n),!0).forEach((function(t){_f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ff(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lf(e);if(t){var i=Lf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pf(this,n)}}Ad(Sf,"defaultProps",{id:null,value:null,header:null,footer:null,style:null,className:null,tableStyle:null,tableClassName:null,paginator:!1,paginatorPosition:"bottom",alwaysShowPaginator:!0,paginatorClassName:null,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",paginatorLeft:null,paginatorRight:null,paginatorDropdownAppendTo:null,pageLinkSize:5,rowsPerPageOptions:null,currentPageReportTemplate:"({currentPage} of {totalPages})",first:0,rows:null,totalRecords:null,lazy:!1,sortField:null,sortOrder:null,multiSortMeta:null,sortMode:"single",defaultSortOrder:1,removableSort:!1,emptyMessage:"No records found",selectionMode:null,dragSelection:!1,cellSelection:!1,selection:null,onSelectionChange:null,contextMenuSelection:null,onContextMenuSelectionChange:null,compareSelectionBy:"deepEquals",dataKey:null,metaKeySelection:!0,selectOnEdit:!0,headerColumnGroup:null,footerColumnGroup:null,frozenHeaderColumnGroup:null,frozenFooterColumnGroup:null,rowExpansionTemplate:null,expandedRows:null,onRowToggle:null,resizableColumns:!1,columnResizeMode:"fit",reorderableColumns:!1,filters:null,globalFilter:null,filterDelay:300,filterLocale:void 0,scrollable:!1,scrollHeight:null,virtualScroll:!1,virtualScrollDelay:150,virtualRowHeight:28,frozenWidth:null,frozenValue:null,csvSeparator:",",exportFilename:"download",rowGroupMode:null,autoLayout:!1,rowClassName:null,cellClassName:null,rowGroupHeaderTemplate:null,rowGroupFooterTemplate:null,loading:!1,loadingIcon:"pi pi-spinner",tabIndex:0,stateKey:null,stateStorage:"session",groupField:null,editMode:"cell",editingRows:null,expandableRowGroups:!1,rowHover:!1,showGridlines:!1,stripedRows:!1,showSelectionElement:null,showRowReorderElement:null,onColumnResizeEnd:null,onColumnResizerClick:null,onColumnResizerDoubleClick:null,onSort:null,onPage:null,onFilter:null,onVirtualScroll:null,onAllRowsSelect:null,onAllRowsUnselect:null,onRowClick:null,onRowDoubleClick:null,onRowSelect:null,onRowUnselect:null,onRowExpand:null,onRowCollapse:null,onContextMenu:null,onColReorder:null,onCellClick:null,onCellSelect:null,onCellUnselect:null,onRowReorder:null,onValueChange:null,rowEditorValidator:null,onRowEditInit:null,onRowEditSave:null,onRowEditCancel:null,onRowEditChange:null,exportFunction:null,customSaveState:null,customRestoreState:null,onStateSave:null,onStateRestore:null});var Vf=function(t){Nf(r,e.exports.Component);var n=Uf(r);function r(e){var t;return xf(this,r),(t=n.call(this,e)).onClick=t.onClick.bind(Rf(t)),t.onClose=t.onClose.bind(Rf(t)),t}return Of(r,[{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout)}},{key:"componentDidMount",value:function(){var e=this;this.props.message.sticky||(this.timeout=setTimeout((function(){e.onClose(null)}),this.props.message.life||3e3))}},{key:"onClose",value:function(){this.timeout&&clearTimeout(this.timeout),this.props.onClose&&this.props.onClose(this.props.message)}},{key:"onClick",value:function(e){!this.props.onClick||Ic.hasClass(e.target,"p-toast-icon-close")||Ic.hasClass(e.target,"p-toast-icon-close-icon")||this.props.onClick(this.props.message)}},{key:"renderCloseIcon",value:function(){return!1!==this.props.message.closable?F.createElement("button",{type:"button",className:"p-toast-icon-close p-link",onClick:this.onClose},F.createElement("span",{className:"p-toast-icon-close-icon pi pi-times"}),F.createElement(Jc,null)):null}},{key:"renderMessage",value:function(){if(this.props.message){var e=this.props.message,t=e.severity,n=e.content,r=e.summary,i=e.detail,o=Mc.getJSXElement(n,zf(zf({},this.props),{},{onClose:this.onClose})),s=Cc("p-toast-message-icon pi",{"pi-info-circle":"info"===t,"pi-exclamation-triangle":"warn"===t,"pi-times":"error"===t,"pi-check":"success"===t});return o||F.createElement(F.Fragment,null,F.createElement("span",{className:s}),F.createElement("div",{className:"p-toast-message-text"},F.createElement("span",{className:"p-toast-summary"},r),i&&F.createElement("div",{className:"p-toast-detail"},i)))}return null}},{key:"render",value:function(){var e=this.props.message.severity,t=this.props.message.contentClassName,n=this.props.message.contentStyle,r=this.props.message.style,i=Cc("p-toast-message",{"p-toast-message-info":"info"===e,"p-toast-message-warn":"warn"===e,"p-toast-message-error":"error"===e,"p-toast-message-success":"success"===e},this.props.message.className),o=this.renderMessage(),s=this.renderCloseIcon();return F.createElement("div",{ref:this.props.forwardRef,className:i,style:r,role:"alert","aria-live":"assertive","aria-atomic":"true",onClick:this.onClick},F.createElement("div",{className:Cc("p-toast-message-content",t),style:n},o,s))}}]),r}();_f(Vf,"defaultProps",{message:null,onClose:null,onClick:null});var jf=F.forwardRef((function(e,t){return F.createElement(Vf,Af({forwardRef:t},e))}));function Bf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lf(e);if(t){var i=Lf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pf(this,n)}}var Hf=0,Kf=function(t){Nf(r,e.exports.Component);var n=Bf(r);function r(e){var t;return xf(this,r),(t=n.call(this,e)).state={messages:[]},t.onClose=t.onClose.bind(Rf(t)),t.onEntered=t.onEntered.bind(Rf(t)),t.onExited=t.onExited.bind(Rf(t)),t}return Of(r,[{key:"show",value:function(e){if(e){var t;if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n].id=Hf++,t=[].concat(Df(this.state.messages),Df(e));else e.id=Hf++,t=this.state.messages?[].concat(Df(this.state.messages),[e]):[e];0===this.state.messages.length&&Wc.set("toast",this.container,this.props.baseZIndex),this.setState({messages:t})}}},{key:"clear",value:function(){Wc.clear(this.container),this.setState({messages:[]})}},{key:"onClose",value:function(e){var t=this.state.messages.filter((function(t){return t.id!==e.id}));this.setState({messages:t}),this.props.onRemove&&this.props.onRemove(e)}},{key:"onEntered",value:function(){this.props.onShow&&this.props.onShow()}},{key:"onExited",value:function(){0===this.state.messages.length&&Wc.clear(this.container),this.props.onHide&&this.props.onHide()}},{key:"componentWillUnmount",value:function(){Wc.clear(this.container)}},{key:"render",value:function(){var e=this,t=Cc("p-toast p-component p-toast-"+this.props.position,this.props.className);return F.createElement("div",{ref:function(t){e.container=t},id:this.props.id,className:t,style:this.props.style},F.createElement(wc,null,this.state.messages.map((function(t){var n=F.createRef();return F.createElement(hp,{nodeRef:n,key:t.id,classNames:"p-toast-message",unmountOnExit:!0,timeout:{enter:300,exit:300},onEntered:e.onEntered,onExited:e.onExited,options:e.props.transitionOptions},F.createElement(jf,{ref:n,message:t,onClick:e.props.onClick,onClose:e.onClose}))}))))}}]),r}();function Wf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qf(e){return function(e){if(Array.isArray(e))return Wf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Wf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wf(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yf(e,t){return(Yf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xf(e){return(Xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qf(e,t){return!t||"object"!==Xf(t)&&"function"!=typeof t?$f(e):t}function Jf(e){return(Jf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jf(e);if(t){var i=Jf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qf(this,n)}}_f(Kf,"defaultProps",{id:null,className:null,style:null,baseZIndex:0,position:"top-right",transitionOptions:null,onClick:null,onRemove:null,onShow:null,onHide:null});var em=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yf(e,t)}(s,e.exports.Component);var n,r,i,o=Zf(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).state={id:e.id,maskVisible:e.visible,visible:!1},t.props.onMaximize||(t.state.maximized=e.maximized),t.onClose=t.onClose.bind($f(t)),t.toggleMaximize=t.toggleMaximize.bind($f(t)),t.onDragStart=t.onDragStart.bind($f(t)),t.onResizeStart=t.onResizeStart.bind($f(t)),t.onMaskClick=t.onMaskClick.bind($f(t)),t.onEnter=t.onEnter.bind($f(t)),t.onEntered=t.onEntered.bind($f(t)),t.onExited=t.onExited.bind($f(t)),t.attributeSelector=jc(),t.dialogRef=F.createRef(),t}return n=s,(r=[{key:"onClose",value:function(e){this.props.onHide(),e.preventDefault()}},{key:"focus",value:function(){var e=document.activeElement;!(e&&this.dialogRef&&this.dialogRef.current.contains(e))&&this.props.closable&&this.props.showHeader&&this.closeElement.focus()}},{key:"onMaskClick",value:function(e){this.props.dismissableMask&&this.props.modal&&this.mask===e.target&&this.onClose(e),this.props.onMaskClick&&this.props.onMaskClick(e)}},{key:"toggleMaximize",value:function(e){var t=!this.maximized;this.props.onMaximize?this.props.onMaximize({originalEvent:e,maximized:t}):this.setState({maximized:t},this.changeScrollOnMaximizable),e.preventDefault()}},{key:"onDragStart",value:function(e){Ic.hasClass(e.target,"p-dialog-header-icon")||Ic.hasClass(e.target.parentElement,"p-dialog-header-icon")||this.props.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.dialogEl.style.margin="0",Ic.addClass(document.body,"p-unselectable-text"),this.props.onDragStart&&this.props.onDragStart(e))}},{key:"onDrag",value:function(e){if(this.dragging){var t=Ic.getOuterWidth(this.dialogEl),n=Ic.getOuterHeight(this.dialogEl),r=e.pageX-this.lastPageX,i=e.pageY-this.lastPageY,o=this.dialogEl.getBoundingClientRect(),s=o.left+r,a=o.top+i,l=Ic.getViewport();this.dialogEl.style.position="fixed",this.props.keepInViewport?(s>=this.props.minX&&s+t<l.width&&(this.lastPageX=e.pageX,this.dialogEl.style.left=s+"px"),a>=this.props.minY&&a+n<l.height&&(this.lastPageY=e.pageY,this.dialogEl.style.top=a+"px")):(this.lastPageX=e.pageX,this.dialogEl.style.left=s+"px",this.lastPageY=e.pageY,this.dialogEl.style.top=a+"px"),this.props.onDrag&&this.props.onDrag(e)}}},{key:"onDragEnd",value:function(e){this.dragging&&(this.dragging=!1,Ic.removeClass(document.body,"p-unselectable-text"),this.props.onDragEnd&&this.props.onDragEnd(e))}},{key:"onResizeStart",value:function(e){this.props.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,Ic.addClass(document.body,"p-unselectable-text"),this.props.onResizeStart&&this.props.onResizeStart(e))}},{key:"convertToPx",value:function(e,t,n){!n&&(n=Ic.getViewport());var r=parseInt(e);return/^(\d+|(\.\d+))(\.\d+)?%$/.test(e)?r*(n[t]/100):r}},{key:"onResize",value:function(e){if(this.resizing){var t=e.pageX-this.lastPageX,n=e.pageY-this.lastPageY,r=Ic.getOuterWidth(this.dialogEl),i=Ic.getOuterHeight(this.dialogEl),o=this.dialogEl.getBoundingClientRect(),s=Ic.getViewport(),a=r+t,l=i+n,u=this.convertToPx(this.dialogEl.style.minWidth,"width",s),c=this.convertToPx(this.dialogEl.style.minHeight,"height",s);(!parseInt(this.dialogEl.style.top)||!parseInt(this.dialogEl.style.left))&&(a+=t,l+=n),(!u||a>u)&&o.left+a<s.width&&(this.dialogEl.style.width=a+"px"),(!c||l>c)&&o.top+l<s.height&&(this.dialogEl.style.height=l+"px"),this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.props.onResize&&this.props.onResize(e)}}},{key:"onResizeEnd",value:function(e){this.resizing&&(this.resizing=!1,Ic.removeClass(document.body,"p-unselectable-text"),this.props.onResizeEnd&&this.props.onResizeEnd(e))}},{key:"resetPosition",value:function(){this.dialogEl.style.position="",this.dialogEl.style.left="",this.dialogEl.style.top="",this.dialogEl.style.margin=""}},{key:"getPositionClass",value:function(){var e=this,t=["center","left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find((function(t){return t===e.props.position||t.replace("-","")===e.props.position}));return t?"p-dialog-".concat(t):""}},{key:"maximized",get:function(){return this.props.onMaximize?this.props.maximized:this.state.maximized}},{key:"dialogEl",get:function(){return this.dialogRef.current}},{key:"onEnter",value:function(){this.dialogEl.setAttribute(this.attributeSelector,"")}},{key:"onEntered",value:function(){this.props.onShow&&this.props.onShow(),this.props.focusOnShow&&this.focus(),this.enableDocumentSettings()}},{key:"onExited",value:function(){this.dragging=!1,Wc.clear(this.mask),this.setState({maskVisible:!1}),this.disableDocumentSettings()}},{key:"enableDocumentSettings",value:function(){this.bindGlobalListeners(),(this.props.blockScroll||this.props.maximizable&&this.maximized)&&Ic.addClass(document.body,"p-overflow-hidden")}},{key:"disableDocumentSettings",value:function(){this.unbindGlobalListeners(),this.props.modal?document.primeDialogParams&&document.primeDialogParams.some((function(e){return e.hasBlockScroll}))||Ic.removeClass(document.body,"p-overflow-hidden"):(this.props.blockScroll||this.props.maximizable&&this.maximized)&&Ic.removeClass(document.body,"p-overflow-hidden")}},{key:"bindGlobalListeners",value:function(){this.props.draggable&&this.bindDocumentDragListener(),this.props.resizable&&this.bindDocumentResizeListeners(),this.props.closeOnEscape&&this.props.closable&&this.bindDocumentKeyDownListener()}},{key:"unbindGlobalListeners",value:function(){this.unbindDocumentDragListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentKeyDownListener()}},{key:"bindDocumentDragListener",value:function(){this.documentDragListener=this.onDrag.bind(this),this.documentDragEndListener=this.onDragEnd.bind(this),window.document.addEventListener("mousemove",this.documentDragListener),window.document.addEventListener("mouseup",this.documentDragEndListener)}},{key:"unbindDocumentDragListener",value:function(){this.documentDragListener&&this.documentDragEndListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragListener=null,this.documentDragEndListener=null)}},{key:"bindDocumentResizeListeners",value:function(){this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.onResizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)}},{key:"unbindDocumentResizeListeners",value:function(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}},{key:"bindDocumentKeyDownListener",value:function(){var e=this;this.documentKeyDownListener=function(t){var n=t.currentTarget;if(n&&n.primeDialogParams){var r=n.primeDialogParams,i=r.length,o=r[i-1]?r[i-1].id:void 0;if(o===e.state.id){var s=document.getElementById(o);if(27===t.which)e.onClose(t),t.stopImmediatePropagation(),r.splice(i-1,1);else if(9===t.which){t.preventDefault();var a=Ic.getFocusableElements(s);if(a&&a.length>0)if(document.activeElement){var l=a.indexOf(document.activeElement);t.shiftKey?-1===l||0===l?a[a.length-1].focus():a[l-1].focus():-1===l||l===a.length-1?a[0].focus():a[l+1].focus()}else a[0].focus()}}}};var t={id:this.state.id,hasBlockScroll:this.props.blockScroll};document.primeDialogParams=document.primeDialogParams?[].concat(qf(document.primeDialogParams),[t]):[t],document.addEventListener("keydown",this.documentKeyDownListener)}},{key:"unbindDocumentKeyDownListener",value:function(){var e=this;this.documentKeyDownListener&&(document.removeEventListener("keydown",this.documentKeyDownListener),document.primeDialogParams=document.primeDialogParams&&document.primeDialogParams.filter((function(t){return t.id!==e.state.id})),this.documentKeyDownListener=null)}},{key:"createStyle",value:function(){if(!this.styleElement){this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement);var e="";for(var t in this.props.breakpoints)e+="\n                    @media screen and (max-width: ".concat(t,") {\n                        .p-dialog[").concat(this.attributeSelector,"] {\n                            width: ").concat(this.props.breakpoints[t]," !important;\n                        }\n                    }\n                ");this.styleElement.innerHTML=e}}},{key:"componentDidMount",value:function(){var e=this;this.state.id||this.setState({id:jc()}),this.props.visible&&this.setState({visible:!0},(function(){Wc.set("modal",e.mask,e.props.baseZIndex)})),this.props.breakpoints&&this.createStyle()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.visible&&!this.state.maskVisible&&this.setState({maskVisible:!0},(function(){Wc.set("modal",t.mask,t.props.baseZIndex)})),this.props.visible!==this.state.visible&&this.state.maskVisible&&this.setState({visible:this.props.visible}),e.maximized!==this.props.maximized&&this.props.onMaximize&&this.changeScrollOnMaximizable()}},{key:"changeScrollOnMaximizable",value:function(){if(!this.props.blockScroll){var e=this.maximized?"addClass":"removeClass";Ic[e](document.body,"p-overflow-hidden")}}},{key:"componentWillUnmount",value:function(){this.disableDocumentSettings(),this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null),Wc.clear(this.mask)}},{key:"renderCloseIcon",value:function(){var e=this;return this.props.closable?F.createElement("button",{ref:function(t){return e.closeElement=t},type:"button",className:"p-dialog-header-icon p-dialog-header-close p-link","aria-label":this.props.ariaCloseIconLabel,onClick:this.onClose},F.createElement("span",{className:"p-dialog-header-close-icon pi pi-times"}),F.createElement(Jc,null)):null}},{key:"renderMaximizeIcon",value:function(){var e=Cc("p-dialog-header-maximize-icon pi",{"pi-window-maximize":!this.maximized,"pi-window-minimize":this.maximized});return this.props.maximizable?F.createElement("button",{type:"button",className:"p-dialog-header-icon p-dialog-header-maximize p-link",onClick:this.toggleMaximize},F.createElement("span",{className:e}),F.createElement(Jc,null)):null}},{key:"renderHeader",value:function(){var e=this;if(this.props.showHeader){var t=this.renderCloseIcon(),n=this.renderMaximizeIcon(),r=Mc.getJSXElement(this.props.icons,this.props),i=Mc.getJSXElement(this.props.header,this.props);return F.createElement("div",{ref:function(t){return e.headerEl=t},className:"p-dialog-header",onMouseDown:this.onDragStart},F.createElement("div",{id:this.state.id+"_header",className:"p-dialog-title"},i),F.createElement("div",{className:"p-dialog-header-icons"},r,n,t))}return null}},{key:"renderContent",value:function(){var e=this,t=Cc("p-dialog-content",this.props.contentClassName);return F.createElement("div",{id:this.state.id+"_content",ref:function(t){return e.contentEl=t},className:t,style:this.props.contentStyle},this.props.children)}},{key:"renderFooter",value:function(){var e=this,t=Mc.getJSXElement(this.props.footer,this.props);return t&&F.createElement("div",{ref:function(t){return e.footerElement=t},className:"p-dialog-footer"},t)}},{key:"renderResizer",value:function(){return this.props.resizable?F.createElement("div",{className:"p-resizable-handle",style:{zIndex:90},onMouseDown:this.onResizeStart}):null}},{key:"renderElement",value:function(){var e=this,t=Cc("p-dialog p-component",this.props.className,{"p-dialog-rtl":this.props.rtl,"p-dialog-maximized":this.maximized}),n=Cc("p-dialog-mask",{"p-component-overlay":this.props.modal,"p-dialog-visible":this.state.maskVisible,"p-dialog-draggable":this.props.draggable,"p-dialog-resizable":this.props.resizable},this.props.maskClassName,this.getPositionClass()),r=this.renderHeader(),i=this.renderContent(),o=this.renderFooter(),s=this.renderResizer(),a={enter:"center"===this.props.position?150:300,exit:"center"===this.props.position?150:300};return F.createElement("div",{ref:function(t){return e.mask=t},className:n,onClick:this.onMaskClick},F.createElement(hp,{nodeRef:this.dialogRef,classNames:"p-dialog",timeout:a,in:this.state.visible,options:this.props.transitionOptions,unmountOnExit:!0,onEnter:this.onEnter,onEntered:this.onEntered,onExited:this.onExited},F.createElement("div",{ref:this.dialogRef,id:this.state.id,className:t,style:this.props.style,onClick:this.props.onClick,role:"dialog","aria-labelledby":this.state.id+"_header","aria-describedby":this.state.id+"_content","aria-modal":this.props.modal},r,i,o,s)))}},{key:"render",value:function(){if(this.state.maskVisible){var e=this.renderElement();return F.createElement(tp,{element:e,appendTo:this.props.appendTo,visible:!0})}return null}}])&&Gf(n.prototype,r),i&&Gf(n,i),s}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(em,"defaultProps",{id:null,header:null,footer:null,visible:!1,position:"center",draggable:!0,resizable:!0,modal:!0,onHide:null,onShow:null,contentStyle:null,contentClassName:null,closeOnEscape:!0,dismissableMask:!1,rtl:!1,closable:!0,style:null,className:null,maskClassName:null,showHeader:!0,appendTo:null,baseZIndex:0,maximizable:!1,blockScroll:!1,icons:null,ariaCloseIconLabel:"Close",focusOnShow:!0,minX:0,minY:0,keepInViewport:!0,maximized:!1,breakpoints:null,transitionOptions:null,onMaximize:null,onDragStart:null,onDrag:null,onDragEnd:null,onResizeStart:null,onResize:null,onResizeEnd:null,onClick:null,onMaskClick:null});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var tm=function(e,t){return(tm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function nm(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function rm(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function im(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function om(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function sm(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var am=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var um=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,cm.prototype.create),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}tm(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),cm=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?pm(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",l=new um(i,a,r);return l},e}();function pm(e,t){return e.replace(hm,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var hm=/\{\$([^}]+)}/g;function dm(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var s=o[i];if(!r.includes(s))return!1;var a=e[s],l=t[s];if(fm(a)&&fm(l)){if(!dm(a,l))return!1}else if(a!==l)return!1}for(var u=0,c=r;u<c.length;u++){s=c[u];if(!n.includes(s))return!1}return!0}function fm(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(e){return e&&e._delegate?e._delegate:e}var gm=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),vm=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new am;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(c){}try{for(var r=im(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=om(i.value,2),s=o[0],a=o[1],l=this.normalizeInstanceIdentifier(s);try{var u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch(c){}}}catch(p){t={error:p}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return nm(this,void 0,void 0,(function(){var e;return rm(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(sm(sm([],om(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),om(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e="[DEFAULT]"),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var a=im(this.instancesDeferred.entries()),l=a.next();!l.done;l=a.next()){var u=om(l.value,2),c=u[0],p=u[1];o===this.normalizeInstanceIdentifier(c)&&p.resolve(s)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=im(i),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(e,t)}catch(l){}}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e="[DEFAULT]"),this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ym,bm,wm,Em=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new vm(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function km(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(wm=bm||(bm={}))[wm.DEBUG=0]="DEBUG",wm[wm.VERBOSE=1]="VERBOSE",wm[wm.INFO=2]="INFO",wm[wm.WARN=3]="WARN",wm[wm.ERROR=4]="ERROR",wm[wm.SILENT=5]="SILENT";var Sm={debug:bm.DEBUG,verbose:bm.VERBOSE,info:bm.INFO,warn:bm.WARN,error:bm.ERROR,silent:bm.SILENT},Cm=bm.INFO,Dm=((ym={})[bm.DEBUG]="log",ym[bm.VERBOSE]="log",ym[bm.INFO]="info",ym[bm.WARN]="warn",ym[bm.ERROR]="error",ym),xm=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=Dm[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,km(["["+i+"]  "+e.name+":"],n))}},Tm=function(){function e(e){this.name=e,this._logLevel=Cm,this._logHandler=xm,this._userLogHandler=null}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in bm))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?Sm[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,km([this,bm.DEBUG],e)),this._logHandler.apply(this,km([this,bm.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,km([this,bm.VERBOSE],e)),this._logHandler.apply(this,km([this,bm.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,km([this,bm.INFO],e)),this._logHandler.apply(this,km([this,bm.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,km([this,bm.WARN],e)),this._logHandler.apply(this,km([this,bm.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,km([this,bm.ERROR],e)),this._logHandler.apply(this,km([this,bm.ERROR],e))},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Om{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Rm=new Tm("@firebase/app"),Im={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Nm=new Map,Mm=new Map;function Pm(e,t){try{e.container.addComponent(t)}catch(n){Rm.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Lm(e){const t=e.name;if(Mm.has(t))return Rm.debug(`There were multiple attempts to register component ${t}.`),!1;Mm.set(t,e);for(const n of Nm.values())Pm(n,e);return!0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const _m=new cm("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Am{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new gm("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _m.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(e,t={}){if("object"!=typeof t){t={name:t}}const n=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw _m.create("bad-app-name",{appName:String(r)});const i=Nm.get(r);if(i){if(dm(e,i.options)&&dm(n,i.config))return i;throw _m.create("duplicate-app",{appName:r})}const o=new Em(r);for(const a of Mm.values())o.addComponent(a);const s=new Am(e,n,o);return Nm.set(r,s),s}function zm(e,t,n){var r;let i=null!==(r=Im[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Rm.warn(e.join(" "))}Lm(new gm(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Um;Lm(new gm("platform-logger",(e=>new Om(e)),"PRIVATE")),zm("@firebase/app","0.7.0",Um),zm("fire-js","");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Vm=function(e,t){return(Vm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function jm(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Bm,Hm="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Km=Km||{},Wm=Hm||self;function qm(){}function Gm(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function $m(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ym="closure_uid_"+(1e9*Math.random()>>>0),Xm=0;function Qm(e,t,n){return e.call.apply(e.bind,arguments)}function Jm(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Zm(e,t,n){return(Zm=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qm:Jm).apply(null,arguments)}function eg(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function tg(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function ng(){this.s=this.s,this.o=this.o}var rg={};ng.prototype.s=!1,ng.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ym)&&e[Ym]||(e[Ym]=++Xm)}(this);delete rg[e]}},ng.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ig=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},og=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function sg(e){return Array.prototype.concat.apply([],arguments)}function ag(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function lg(e){return/^[\s\xa0]*$/.test(e)}var ug,cg=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function pg(e,t){return-1!=e.indexOf(t)}function hg(e,t){return e<t?-1:e>t?1:0}e:{var dg=Wm.navigator;if(dg){var fg=dg.userAgent;if(fg){ug=fg;break e}}ug=""}function mg(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function gg(e){var t={};for(var n in e)t[n]=e[n];return t}var vg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yg(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<vg.length;o++)n=vg[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function bg(e){return bg[" "](e),e}bg[" "]=qm;var wg,Eg=pg(ug,"Opera"),kg=pg(ug,"Trident")||pg(ug,"MSIE"),Sg=pg(ug,"Edge"),Cg=Sg||kg,Dg=pg(ug,"Gecko")&&!(pg(ug.toLowerCase(),"webkit")&&!pg(ug,"Edge"))&&!(pg(ug,"Trident")||pg(ug,"MSIE"))&&!pg(ug,"Edge"),xg=pg(ug.toLowerCase(),"webkit")&&!pg(ug,"Edge");function Tg(){var e=Wm.document;return e?e.documentMode:void 0}e:{var Og="",Rg=function(){var e=ug;return Dg?/rv:([^\);]+)(\)|;)/.exec(e):Sg?/Edge\/([\d\.]+)/.exec(e):kg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):xg?/WebKit\/(\S+)/.exec(e):Eg?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Rg&&(Og=Rg?Rg[1]:""),kg){var Ig=Tg();if(null!=Ig&&Ig>parseFloat(Og)){wg=String(Ig);break e}}wg=Og}var Ng,Mg={};function Pg(){return function(e){var t=Mg;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=cg(String(wg)).split("."),n=cg("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;e=hg(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||hg(0==o[2].length,0==s[2].length)||hg(o[2],s[2]),o=o[3],s=s[3]}while(0==e)}return 0<=e}))}if(Wm.document&&kg){var Lg=Tg();Ng=Lg||(parseInt(wg,10)||void 0)}else Ng=void 0;var _g=Ng,Ag=function(){if(!Wm.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Wm.addEventListener("test",qm,t),Wm.removeEventListener("test",qm,t)}catch(n){}return e}();function Fg(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function zg(e,t){if(Fg.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Dg){e:{try{bg(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Ug[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&zg.Z.h.call(this)}}Fg.prototype.h=function(){this.defaultPrevented=!0},tg(zg,Fg);var Ug={2:"touch",3:"pen",4:"mouse"};zg.prototype.h=function(){zg.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Vg="closure_listenable_"+(1e6*Math.random()|0),jg=0;function Bg(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++jg,this.ca=this.fa=!1}function Hg(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Kg(e){this.src=e,this.g={},this.h=0}function Wg(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=ig(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Hg(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function qg(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}Kg.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=qg(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new Bg(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Gg="closure_lm_"+(1e6*Math.random()|0),$g={};function Yg(e,t,n,r,i){if(r&&r.once)return Qg(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Yg(e,t[o],n,r,i);return null}return n=iv(n),e&&e[Vg]?e.N(t,n,$m(r)?!!r.capture:!!r,i):Xg(e,t,n,!1,r,i)}function Xg(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=$m(i)?!!i.capture:!!i,a=nv(e);if(a||(e[Gg]=a=new Kg(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=tv;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ag||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ev(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Qg(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Qg(e,t[o],n,r,i);return null}return n=iv(n),e&&e[Vg]?e.O(t,n,$m(r)?!!r.capture:!!r,i):Xg(e,t,n,!0,r,i)}function Jg(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Jg(e,t[o],n,r,i);else r=$m(r)?!!r.capture:!!r,n=iv(n),e&&e[Vg]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=qg(o=e.g[t],n,r,i))&&(Hg(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=nv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=qg(t,n,r,i)),(n=-1<e?t[e]:null)&&Zg(n))}function Zg(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Vg])Wg(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ev(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=nv(t))?(Wg(n,e),0==n.h&&(n.src=null,t[Gg]=null)):Hg(e)}}}function ev(e){return e in $g?$g[e]:$g[e]="on"+e}function tv(e,t){if(e.ca)e=!0;else{t=new zg(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Zg(e),e=n.call(r,t)}return e}function nv(e){return(e=e[Gg])instanceof Kg?e:null}var rv="__closure_events_fn_"+(1e9*Math.random()>>>0);function iv(e){return"function"==typeof e?e:(e[rv]||(e[rv]=function(t){return e.handleEvent(t)}),e[rv])}function ov(){ng.call(this),this.i=new Kg(this),this.P=this,this.I=null}function sv(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Fg(t,e);else if(t instanceof Fg)t.target=t.target||e;else{var i=t;yg(t=new Fg(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=av(s,r,!0,t)&&i}if(i=av(s=t.g=e,r,!0,t)&&i,i=av(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=av(s=t.g=n[o],r,!1,t)&&i}function av(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,l=s.ia||s.src;s.fa&&Wg(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}tg(ov,ng),ov.prototype[Vg]=!0,ov.prototype.removeEventListener=function(e,t,n,r){Jg(this,e,t,n,r)},ov.prototype.M=function(){if(ov.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Hg(n[r]);delete t.g[e],t.h--}}this.I=null},ov.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ov.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var lv=Wm.JSON.stringify;function uv(){var e=vv,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var cv,pv=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=hv.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),hv=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new dv}),(function(e){return e.reset()})),dv=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function fv(e){Wm.setTimeout((function(){throw e}),0)}function mv(e,t){cv||function(){var e=Wm.Promise.resolve(void 0);cv=function(){e.then(yv)}}(),gv||(cv(),gv=!0),vv.add(e,t)}var gv=!1,vv=new pv;function yv(){for(var e;e=uv();){try{e.h.call(e.g)}catch(n){fv(n)}var t=hv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}gv=!1}function bv(e,t){ov.call(this),this.h=e||1,this.g=t||Wm,this.j=Zm(this.kb,this),this.l=Date.now()}function wv(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ev(e,t,n){if("function"==typeof e)n&&(e=Zm(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Zm(e.handleEvent,e)}return 2147483647<Number(t)?-1:Wm.setTimeout(e,t||0)}function kv(e){e.g=Ev((function(){e.g=null,e.i&&(e.i=!1,kv(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}tg(bv,ov),(Bm=bv.prototype).da=!1,Bm.S=null,Bm.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),sv(this,"tick"),this.da&&(wv(this),this.start()))}},Bm.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Bm.M=function(){bv.Z.M.call(this),wv(this),delete this.g};var Sv=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Vm(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:kv(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Wm.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(ng);function Cv(e){ng.call(this),this.h=e,this.g={}}tg(Cv,ng);var Dv=[];function xv(e,t,n,r){Array.isArray(n)||(n&&(Dv[0]=n.toString()),n=Dv);for(var i=0;i<n.length;i++){var o=Yg(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Tv(e){mg(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Zg(e)}),e),e.g={}}function Ov(){this.g=!0}function Rv(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return lv(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Cv.prototype.M=function(){Cv.Z.M.call(this),Tv(this)},Cv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ov.prototype.Aa=function(){this.g=!1},Ov.prototype.info=function(){};var Iv={},Nv=null;function Mv(){return Nv=Nv||new ov}function Pv(e){Fg.call(this,Iv.Ma,e)}function Lv(e){var t=Mv();sv(t,new Pv(t,e))}function _v(e,t){Fg.call(this,Iv.STAT_EVENT,e),this.stat=t}function Av(e){var t=Mv();sv(t,new _v(t,e))}function Fv(e,t){Fg.call(this,Iv.Na,e),this.size=t}function zv(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Wm.setTimeout((function(){e()}),t)}Iv.Ma="serverreachability",tg(Pv,Fg),Iv.STAT_EVENT="statevent",tg(_v,Fg),Iv.Na="timingevent",tg(Fv,Fg);var Uv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Vv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jv(){}function Bv(e){return e.h||(e.h=e.i())}function Hv(){}jv.prototype.h=null;var Kv,Wv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qv(){Fg.call(this,"d")}function Gv(){Fg.call(this,"c")}function $v(){}function Yv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Cv(this),this.P=Qv,e=Cg?125:void 0,this.W=new bv(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Xv}function Xv(){this.i=null,this.g="",this.h=!1}tg(qv,Fg),tg(Gv,Fg),tg($v,jv),$v.prototype.g=function(){return new XMLHttpRequest},$v.prototype.i=function(){return{}},Kv=new $v;var Qv=45e3,Jv={},Zv={};function ey(e,t,n){e.K=1,e.v=Sy(vy(t)),e.s=n,e.U=!0,ty(e,null)}function ty(e,t){e.F=Date.now(),oy(e),e.A=vy(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Ay(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Xv,e.g=Fb(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Sv(Zm(e.Ia,e,e.g),e.O)),xv(e.V,e.g,"readystatechange",e.gb),t=e.H?gg(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Lv(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var p=c.split("_");s=2<=p.length&&"type"==p[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function ny(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ry(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=iy(e,n))==Zv){4==t&&(e.o=4,Av(14),i=!1),Rv(e.j,e.m,null,"[Incomplete Response]");break}if(r==Jv){e.o=4,Av(15),Rv(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Rv(e.j,e.m,r,null),cy(e,r)}ny(e)&&r!=Zv&&r!=Jv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Av(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rb(t),t.L=!0,Av(11))):(Rv(e.j,e.m,n,"[Invalid Chunked Response]"),uy(e),ly(e))}function iy(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Zv:(n=Number(t.substring(n,r)),isNaN(n)?Jv:(r+=1)+n>t.length?Zv:(t=t.substr(r,n),e.C=r+n,t))}function oy(e){e.Y=Date.now()+e.P,sy(e,e.P)}function sy(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=zv(Zm(e.eb,e),t)}function ay(e){e.B&&(Wm.clearTimeout(e.B),e.B=null)}function ly(e){0==e.l.G||e.I||Mb(e.l,e)}function uy(e){ay(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,wv(e.W),Tv(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function cy(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Hy(n.i,e)))if(n.I=e.N,!e.J&&Hy(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Nb(n),wb(n)}Ob(n),Av(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=zv(Zm(n.ab,n),6e3));if(1>=By(n.i)&&n.ka){try{n.ka()}catch(g){}n.ka=void 0}}else Lb(n,11)}else if((e.J||n.g==e)&&Nb(n),!lg(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var l=o[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var u=e.g;if(u){var c=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var p=r.i;!p.g&&(pg(c,"spdy")||pg(c,"quic")||pg(c,"h2"))&&(p.j=p.l,p.g=new Set,p.h&&(Ky(p,p.h),p.h=null))}if(r.D){var h=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ky(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Ab(r,r.H?r.la:null,r.W),d.J){Wy(r.i,d);var f=d,m=r.K;m&&f.setTimeout(m),f.B&&(ay(f),oy(f)),r.g=d}else Tb(r);0<n.l.length&&Sb(n)}else"stop"!=o[0]&&"close"!=o[0]||Lb(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Lb(n,7):bb(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Lv(4)}catch(g){}}function py(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Gm(e)||"string"==typeof e)og(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Gm(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Gm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function hy(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof hy)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function dy(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];fy(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)fy(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function fy(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Bm=Yv.prototype).setTimeout=function(e){this.P=e},Bm.gb=function(e){e=e.target;var t=this.L;t&&3==fb(e)?t.l():this.Ia(e)},Bm.Ia=function(e){try{if(e==this.g)e:{var t=fb(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Cg||this.g&&(this.h.h||this.g.ga()||mb(this.g)))){this.I||4!=t||7==n||Lv(8==n||0>=r?3:2),ay(this);var i=this.g.ba();this.N=i;t:if(ny(this)){var o=mb(this.g);e="";var s=o.length,a=4==fb(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){uy(this),ly(this);var l="";break t}this.h.i=new Wm.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=e,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lg(u)){var p=u;break t}}p=null}if(!(i=p)){this.i=!1,this.o=3,Av(12),uy(this),ly(this);break e}Rv(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,cy(this,i)}this.U?(ry(this,t,l),Cg&&this.i&&3==t&&(xv(this.V,this.W,"tick",this.fb),this.W.start())):(Rv(this.j,this.m,l,null),cy(this,l)),4==t&&uy(this),this.i&&!this.I&&(4==t?Mb(this.l,this):(this.i=!1,oy(this)))}else 400==i&&0<l.indexOf("Unknown SID")?(this.o=3,Av(12)):(this.o=0,Av(13)),uy(this),ly(this)}}}catch(h){}},Bm.fb=function(){if(this.g){var e=fb(this.g),t=this.g.ga();this.C<t.length&&(ay(this),ry(this,e,t),this.i&&4!=e&&oy(this))}},Bm.cancel=function(){this.I=!0,uy(this)},Bm.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Lv(3),Av(17)),uy(this),this.o=2,ly(this)):sy(this,this.Y-e)},(Bm=hy.prototype).R=function(){dy(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Bm.T=function(){return dy(this),this.g.concat()},Bm.get=function(e,t){return fy(this.h,e)?this.h[e]:t},Bm.set=function(e,t){fy(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Bm.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var my=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function gy(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof gy){this.g=void 0!==t?t:e.g,yy(this,e.j),this.s=e.s,by(this,e.i),wy(this,e.m),this.l=e.l,t=e.h;var n=new My;n.i=t.i,t.g&&(n.g=new hy(t.g),n.h=t.h),Ey(this,n),this.o=e.o}else e&&(n=String(e).match(my))?(this.g=!!t,yy(this,n[1]||"",!0),this.s=Cy(n[2]||""),by(this,n[3]||"",!0),wy(this,n[4]),this.l=Cy(n[5]||"",!0),Ey(this,n[6]||"",!0),this.o=Cy(n[7]||"")):(this.g=!!t,this.h=new My(null,this.g))}function vy(e){return new gy(e)}function yy(e,t,n){e.j=n?Cy(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function by(e,t,n){e.i=n?Cy(t,!0):t}function wy(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ey(e,t,n){t instanceof My?(e.h=t,function(e,t){t&&!e.j&&(Py(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ly(this,t),Ay(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Dy(t,Iy)),e.h=new My(t,e.g))}function ky(e,t,n){e.h.set(t,n)}function Sy(e){return ky(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Cy(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Dy(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,xy),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xy(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}gy.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Dy(t,Ty,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Dy(t,Ty,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Dy(n,"/"==n.charAt(0)?Ry:Oy,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Dy(n,Ny)),e.join("")};var Ty=/[#\/\?@]/g,Oy=/[#\?:]/g,Ry=/[#\?]/g,Iy=/[#\?@]/g,Ny=/#/g;function My(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Py(e){e.g||(e.g=new hy,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ly(e,t){Py(e),t=Fy(e,t),fy(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,fy((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&dy(e)))}function _y(e,t){return Py(e),t=Fy(e,t),fy(e.g.h,t)}function Ay(e,t,n){Ly(e,t),0<n.length&&(e.i=null,e.g.set(Fy(e,t),ag(n)),e.h+=n.length)}function Fy(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Bm=My.prototype).add=function(e,t){Py(this),this.i=null,e=Fy(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Bm.forEach=function(e,t){Py(this),this.g.forEach((function(n,r){og(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Bm.T=function(){Py(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Bm.R=function(e){Py(this);var t=[];if("string"==typeof e)_y(this,e)&&(t=sg(t,this.g.get(Fy(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=sg(t,e[n])}return t},Bm.set=function(e,t){return Py(this),this.i=null,_y(this,e=Fy(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Bm.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Bm.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};var zy=function(e,t){this.h=e,this.g=t};function Uy(e){this.l=e||Vy,Wm.PerformanceNavigationTiming?e=0<(e=Wm.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Wm.g&&Wm.g.Ea&&Wm.g.Ea()&&Wm.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Vy=10;function jy(e){return!!e.h||!!e.g&&e.g.size>=e.j}function By(e){return e.h?1:e.g?e.g.size:0}function Hy(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ky(e,t){e.g?e.g.add(t):e.h=t}function Wy(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function qy(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=jm(e.g.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.D)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return ag(e.i)}function Gy(){}function $y(){this.g=new Gy}function Yy(e,t,n){var r=n||"";try{py(e,(function(e,n){var i=e;$m(e)&&(i=lv(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Xy(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Qy(e){this.l=e.$b||null,this.j=e.ib||!1}function Jy(e,t){ov.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Zy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Uy.prototype.cancel=function(){var e,t;if(this.i=qy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=jm(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Gy.prototype.stringify=function(e){return Wm.JSON.stringify(e,void 0)},Gy.prototype.parse=function(e){return Wm.JSON.parse(e,void 0)},tg(Qy,jv),Qy.prototype.g=function(){return new Jy(this.l,this.j)},Qy.prototype.i=function(e){return function(){return e}}({}),tg(Jy,ov);var Zy=0;function eb(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function tb(e){e.readyState=4,e.l=null,e.j=null,e.A=null,nb(e)}function nb(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Bm=Jy.prototype).open=function(e,t){if(this.readyState!=Zy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,nb(this)},Bm.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Wm).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Bm.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tb(this)),this.readyState=Zy},Bm.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,nb(this)),this.g&&(this.readyState=3,nb(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Wm.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eb(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Bm.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tb(this):nb(this),3==this.readyState&&eb(this)}},Bm.Ua=function(e){this.g&&(this.response=this.responseText=e,tb(this))},Bm.Ta=function(e){this.g&&(this.response=e,tb(this))},Bm.ha=function(){this.g&&tb(this)},Bm.setRequestHeader=function(e,t){this.v.append(e,t)},Bm.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Bm.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Jy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var rb=Wm.JSON.parse;function ib(e){ov.call(this),this.headers=new hy,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ob,this.K=this.L=!1}tg(ib,ov);var ob="",sb=/^https?$/i,ab=["POST","PUT"];function lb(e){return"content-type"==e.toLowerCase()}function ub(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,cb(e),hb(e)}function cb(e){e.D||(e.D=!0,sv(e,"complete"),sv(e,"error"))}function pb(e){if(e.h&&void 0!==Km&&(!e.C[1]||4!=fb(e)||2!=e.ba()))if(e.v&&4==fb(e))Ev(e.Fa,0,e);else if(sv(e,"readystatechange"),4==fb(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(my)[1]||null;if(!o&&Wm.self&&Wm.self.location){var s=Wm.self.location.protocol;o=s.substr(0,s.length-1)}i=!sb.test(o?o.toLowerCase():"")}t=i}if(t)sv(e,"complete"),sv(e,"success");else{e.m=6;try{var a=2<fb(e)?e.g.statusText:""}catch(l){a=""}e.j=a+" ["+e.ba()+"]",cb(e)}}finally{hb(e)}}}function hb(e,t){if(e.g){db(e);var n=e.g,r=e.C[0]?qm:null;e.g=null,e.C=null,t||sv(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function db(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Wm.clearTimeout(e.A),e.A=null)}function fb(e){return e.g?e.g.readyState:0}function mb(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ob:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function gb(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return mg(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):ky(e,t,n))}function vb(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function yb(e){this.za=0,this.l=[],this.h=new Ov,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=vb("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=vb("baseRetryDelayMs",5e3,e),this.$a=vb("retryDelaySeedMs",1e4,e),this.Ya=vb("forwardChannelMaxRetries",2,e),this.ra=vb("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Uy(e&&e.concurrentRequestLimit),this.Ca=new $y,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function bb(e){if(Eb(e),3==e.G){var t=e.V++,n=vy(e.F);ky(n,"SID",e.J),ky(n,"RID",t),ky(n,"TYPE","terminate"),Db(e,n),(t=new Yv(e,e.h,t,void 0)).K=2,t.v=Sy(vy(n)),n=!1,Wm.navigator&&Wm.navigator.sendBeacon&&(n=Wm.navigator.sendBeacon(t.v.toString(),"")),!n&&Wm.Image&&((new Image).src=t.v,n=!0),n||(t.g=Fb(t.l,null),t.g.ea(t.v)),t.F=Date.now(),oy(t)}_b(e)}function wb(e){e.g&&(Rb(e),e.g.cancel(),e.g=null)}function Eb(e){wb(e),e.u&&(Wm.clearTimeout(e.u),e.u=null),Nb(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Wm.clearTimeout(e.m),e.m=null)}function kb(e,t){e.l.push(new zy(e.Za++,t)),3==e.G&&Sb(e)}function Sb(e){jy(e.i)||e.m||(e.m=!0,mv(e.Ha,e),e.C=0)}function Cb(e,t){var n;n=t?t.m:e.V++;var r=vy(e.F);ky(r,"SID",e.J),ky(r,"RID",n),ky(r,"AID",e.U),Db(e,r),e.o&&e.s&&gb(r,e.o,e.s),n=new Yv(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=xb(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ky(e.i,n),ey(n,r,t)}function Db(e,t){e.j&&py({},(function(e,n){ky(t,n,e)}))}function xb(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Zm(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,l=0;l<n;l++){var u=i[l].h,c=i[l].g;if(0>(u-=o))o=Math.max(0,i[l].h-100),a=!1;else try{Yy(c,s,"req"+u+"_")}catch(p){r&&r(c)}}if(a){r=s.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Tb(e){e.g||e.u||(e.Y=1,mv(e.Ga,e),e.A=0)}function Ob(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=zv(Zm(e.Ga,e),Pb(e,e.A)),e.A++,!0)}function Rb(e){null!=e.B&&(Wm.clearTimeout(e.B),e.B=null)}function Ib(e){e.g=new Yv(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=vy(e.oa);ky(t,"RID","rpc"),ky(t,"SID",e.J),ky(t,"CI",e.N?"0":"1"),ky(t,"AID",e.U),Db(e,t),ky(t,"TYPE","xmlhttp"),e.o&&e.s&&gb(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Sy(vy(t)),n.s=null,n.U=!0,ty(n,e)}function Nb(e){null!=e.v&&(Wm.clearTimeout(e.v),e.v=null)}function Mb(e,t){var n=null;if(e.g==t){Nb(e),Rb(e),e.g=null;var r=2}else{if(!Hy(e.i,t))return;n=t.D,Wy(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;sv(r=Mv(),new Fv(r,n,t,i)),Sb(e)}else Tb(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(By(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=zv(Zm(e.Ha,e,t),Pb(e,e.C)),e.C++,0)))}(e,t)||2==r&&Ob(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Lb(e,5);break;case 4:Lb(e,10);break;case 3:Lb(e,6);break;default:Lb(e,2)}}function Pb(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Lb(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Zm(e.jb,e);n||(n=new gy("//www.google.com/images/cleardot.gif"),Wm.location&&"http"==Wm.location.protocol||yy(n,"https"),Sy(n)),function(e,t){var n=new Ov;if(Wm.Image){var r=new Image;r.onload=eg(Xy,n,r,"TestLoadImage: loaded",!0,t),r.onerror=eg(Xy,n,r,"TestLoadImage: error",!1,t),r.onabort=eg(Xy,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=eg(Xy,n,r,"TestLoadImage: timeout",!1,t),Wm.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Av(2);e.G=0,e.j&&e.j.va(t),_b(e),Eb(e)}function _b(e){e.G=0,e.I=-1,e.j&&(0==qy(e.i).length&&0==e.l.length||(e.i.i.length=0,ag(e.l),e.l.length=0),e.j.ua())}function Ab(e,t,n){var r=function(e){return e instanceof gy?vy(e):new gy(e,void 0)}(n);if(""!=r.i)t&&by(r,t+"."+r.i),wy(r,r.m);else{var i=Wm.location;r=function(e,t,n,r){var i=new gy(null,void 0);return e&&yy(i,e),t&&by(i,t),n&&wy(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&mg(e.aa,(function(e,t){ky(r,t,e)})),t=e.D,n=e.sa,t&&n&&ky(r,t,n),ky(r,"VER",e.ma),Db(e,r),r}function Fb(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new ib(new Qy({ib:!0})):new ib(e.qa)).L=e.H,t}function zb(){}function Ub(){if(kg&&!(10<=Number(_g)))throw Error("Environmental error: no available transport.")}function Vb(e,t){ov.call(this),this.g=new yb(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!lg(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!lg(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Hb(this)}function jb(e){qv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Bb(){Gv.call(this),this.status=1}function Hb(e){this.g=e}(Bm=ib.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Kv.g(),this.C=this.u?Bv(this.u):Bv(Kv),this.g.onreadystatechange=Zm(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void ub(this,o)}e=n||"";var i=new hy(this.headers);r&&py(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=lb,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Wm.FormData&&e instanceof Wm.FormData,!(0<=ig(ab,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{db(this),0<this.B&&((this.K=function(e){return kg&&Pg()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zm(this.pa,this)):this.A=Ev(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){ub(this,o)}},Bm.pa=function(){void 0!==Km&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sv(this,"timeout"),this.abort(8))},Bm.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,sv(this,"complete"),sv(this,"abort"),hb(this))},Bm.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hb(this,!0)),ib.Z.M.call(this)},Bm.Fa=function(){this.s||(this.F||this.v||this.l?pb(this):this.cb())},Bm.cb=function(){pb(this)},Bm.ba=function(){try{return 2<fb(this)?this.g.status:-1}catch(tt){return-1}},Bm.ga=function(){try{return this.g?this.g.responseText:""}catch(tt){return""}},Bm.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),rb(t)}},Bm.Da=function(){return this.m},Bm.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Bm=yb.prototype).ma=8,Bm.G=1,Bm.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Bm.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Yv(this,this.h,e,void 0),n=this.s;if(this.P&&(n?yg(n=gg(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=xb(this,t,r),ky(i=vy(this.F),"RID",e),ky(i,"CVER",22),this.D&&ky(i,"X-HTTP-Session-Id",this.D),Db(this,i),this.o&&n&&gb(i,this.o,n),Ky(this.i,t),this.Ra&&ky(i,"TYPE","init"),this.ja?(ky(i,"$req",r),ky(i,"SID","null"),t.$=!0,ey(t,i,null)):ey(t,i,r),this.G=2}}else 3==this.G&&(e?Cb(this,e):0==this.l.length||jy(this.i)||Cb(this))},Bm.Ga=function(){if(this.u=null,Ib(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=zv(Zm(this.bb,this),e)}},Bm.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Av(10),wb(this),Ib(this))},Bm.ab=function(){null!=this.v&&(this.v=null,wb(this),Ob(this),Av(19))},Bm.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Av(2)):(this.h.info("Failed to ping google.com"),Av(1))},(Bm=zb.prototype).xa=function(){},Bm.wa=function(){},Bm.va=function(){},Bm.ua=function(){},Bm.Oa=function(){},Ub.prototype.g=function(e,t){return new Vb(e,t)},tg(Vb,ov),Vb.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),mv(Zm(e.hb,e,t))),Av(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ab(e,null,e.W),Sb(e)},Vb.prototype.close=function(){bb(this.g)},Vb.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,kb(this.g,t)}else this.v?((t={}).__data__=lv(e),kb(this.g,t)):kb(this.g,e)},Vb.prototype.M=function(){this.g.j=null,delete this.j,bb(this.g),delete this.g,Vb.Z.M.call(this)},tg(jb,qv),tg(Bb,Gv),tg(Hb,zb),Hb.prototype.xa=function(){sv(this.g,"a")},Hb.prototype.wa=function(e){sv(this.g,new jb(e))},Hb.prototype.va=function(e){sv(this.g,new Bb(e))},Hb.prototype.ua=function(){sv(this.g,"b")},Ub.prototype.createWebChannel=Ub.prototype.g,Vb.prototype.send=Vb.prototype.u,Vb.prototype.open=Vb.prototype.m,Vb.prototype.close=Vb.prototype.close,Uv.NO_ERROR=0,Uv.TIMEOUT=8,Uv.HTTP_ERROR=6,Vv.COMPLETE="complete",Hv.EventType=Wv,Wv.OPEN="a",Wv.CLOSE="b",Wv.ERROR="c",Wv.MESSAGE="d",ov.prototype.listen=ov.prototype.N,ib.prototype.listenOnce=ib.prototype.O,ib.prototype.getLastError=ib.prototype.La,ib.prototype.getLastErrorCode=ib.prototype.Da,ib.prototype.getStatus=ib.prototype.ba,ib.prototype.getResponseJson=ib.prototype.Qa,ib.prototype.getResponseText=ib.prototype.ga,ib.prototype.send=ib.prototype.ea;var Kb=Uv,Wb=Vv,qb=Iv,Gb=10,$b=11,Yb=Qy,Xb=Hv,Qb=ib;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Jb{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jb.UNAUTHENTICATED=new Jb(null),Jb.GOOGLE_CREDENTIALS=new Jb("google-credentials-uid"),Jb.FIRST_PARTY=new Jb("first-party-uid"),Jb.MOCK_USER=new Jb("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Zb="9.0.2";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new Tm("@firebase/firestore");function tw(){return ew.logLevel}function nw(e,...t){if(ew.logLevel<=bm.DEBUG){const n=t.map(ow);ew.debug(`Firestore (${Zb}): ${e}`,...n)}}function rw(e,...t){if(ew.logLevel<=bm.ERROR){const n=t.map(ow);ew.error(`Firestore (${Zb}): ${e}`,...n)}}function iw(e,...t){if(ew.logLevel<=bm.WARN){const n=t.map(ow);ew.warn(`Firestore (${Zb}): ${e}`,...n)}}function ow(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(n){return e}
/**
  * @license
  * Copyright 2020 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(e="Unexpected state"){const t=`FIRESTORE (${Zb}) INTERNAL ASSERTION FAILED: `+e;throw rw(t),new Error(t)}function aw(e,t){e||sw()}function lw(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class cw extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class dw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Jb.UNAUTHENTICATED)))}shutdown(){}}class fw{constructor(e){this.t=e,this.currentUser=Jb.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new pw;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new pw,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{nw("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(nw("FirebaseCredentialsProvider","Auth not yet detected"),i.resolve(),i=new pw)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(nw("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(aw("string"==typeof t.accessToken),new hw(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return aw(null===e||"string"==typeof e),new Jb(e)}}class mw{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Jb.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class gw{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new mw(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Jb.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vw.T=-1;class bw{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=yw(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function ww(e,t){return e<t?-1:e>t?1:0}function Ew(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new cw(uw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new cw(uw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new cw(uw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new cw(uw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kw.fromMillis(Date.now())}static fromDate(e){return kw.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new kw(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ww(this.nanoseconds,e.nanoseconds):ww(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Sw(e)}static min(){return new Sw(new kw(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Dw(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function xw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,t,n){void 0===t?t=0:t>e.length&&sw(),void 0===n?n=e.length-t:n>e.length-t&&sw(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Tw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tw?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ow extends Tw{construct(e,t,n){return new Ow(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new cw(uw.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Ow(t)}static emptyPath(){return new Ow([])}}const Rw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Iw extends Tw{construct(e,t,n){return new Iw(e,t,n)}static isValidIdentifier(e){return Rw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Iw.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Iw(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new cw(uw.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new cw(uw.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new cw(uw.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new cw(uw.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Iw(t)}static emptyPath(){return new Iw([])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.fields=e,e.sort(Iw.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ew(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Mw(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Mw(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ww(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mw.EMPTY_BYTE_STRING=new Mw("");const Pw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lw(e){if(aw(!!e),"string"==typeof e){let t=0;const n=Pw.exec(e);if(aw(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_w(e.seconds),nanos:_w(e.nanos)}}function _w(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Aw(e){return"string"==typeof e?Mw.fromBase64String(e):Mw.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zw(e){const t=e.mapValue.fields.__previous_value__;return Fw(t)?zw(t):t}function Uw(e){const t=Lw(e.mapValue.fields.__local_write_time__.timestampValue);return new kw(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(e){return null==e}function jw(e){return 0===e&&1/e==-1/0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bw{constructor(e){this.path=e}static fromPath(e){return new Bw(Ow.fromString(e))}static fromName(e){return new Bw(Ow.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Ow.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ow.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Bw(new Ow(e.slice()))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Fw(e)?4:10:sw()}function Kw(e,t){const n=Hw(e);if(n!==Hw(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Uw(e).isEqual(Uw(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Lw(e.timestampValue),r=Lw(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,Aw(e.bytesValue).isEqual(Aw(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return _w(e.geoPointValue.latitude)===_w(t.geoPointValue.latitude)&&_w(e.geoPointValue.longitude)===_w(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return _w(e.integerValue)===_w(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=_w(e.doubleValue),r=_w(t.doubleValue);return n===r?jw(n)===jw(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ew(e.arrayValue.values||[],t.arrayValue.values||[],Kw);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Cw(n)!==Cw(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Kw(n[i],r[i])))return!1;return!0}(e,t);default:return sw()}var r}function Ww(e,t){return void 0!==(e.values||[]).find((e=>Kw(e,t)))}function qw(e,t){const n=Hw(e),r=Hw(t);if(n!==r)return ww(n,r);switch(n){case 0:return 0;case 1:return ww(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=_w(e.integerValue||e.doubleValue),r=_w(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Gw(e.timestampValue,t.timestampValue);case 4:return Gw(Uw(e),Uw(t));case 5:return ww(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Aw(e),r=Aw(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ww(n[i],r[i]);if(0!==e)return e}return ww(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ww(_w(e.latitude),_w(t.latitude));return 0!==n?n:ww(_w(e.longitude),_w(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=qw(n[i],r[i]);if(e)return e}return ww(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=ww(r[s],o[s]);if(0!==e)return e;const t=qw(n[r[s]],i[o[s]]);if(0!==t)return t}return ww(r.length,o.length)}(e.mapValue,t.mapValue);default:throw sw()}}function Gw(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ww(e,t);const n=Lw(e),r=Lw(t),i=ww(n.seconds,r.seconds);return 0!==i?i:ww(n.nanos,r.nanos)}function $w(e){return Yw(e)}function Yw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Lw(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Aw(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Bw.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Yw(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Yw(e.fields[i])}`;return n+"}"}(e.mapValue):sw();var t,n}function Xw(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Qw(e){return!!e&&"integerValue"in e}function Jw(e){return!!e&&"arrayValue"in e}function Zw(e){return!!e&&"nullValue"in e}function eE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tE(e){return!!e&&"mapValue"in e}function nE(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Dw(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=nE(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=nE(e.arrayValue.values[n]);return t}return Object.assign({},e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e){this.value=e}static empty(){return new rE({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!tE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nE(t)}setAll(e){let t=Iw.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=nE(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());tE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Kw(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];tE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Dw(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new rE(nE(this.value))}}function iE(e){const t=[];return Dw(e.fields,((e,n)=>{const r=new Iw([e]);if(tE(n)){const e=iE(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Nw(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class oE{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new oE(e,0,Sw.min(),rE.empty(),0)}static newFoundDocument(e,t,n){return new oE(e,1,t,n,0)}static newNoDocument(e,t){return new oE(e,2,t,rE.empty(),0)}static newUnknownDocument(e,t){return new oE(e,3,t,rE.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rE.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rE.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof oE&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new oE(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.A=null}}function aE(e,t=null,n=[],r=[],i=null,o=null,s=null){return new sE(e,t,n,r,i,o,s)}function lE(e){const t=lw(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+$w(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>{return(t=e).field.canonicalString()+t.dir;var t})).join(","),Vw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=EE(t.startAt)),t.endAt&&(e+="|ub:",e+=EE(t.endAt)),t.A=e}return t.A}function uE(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!SE(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Kw(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!DE(e.startAt,t.startAt)&&DE(e.endAt,t.endAt)}function cE(e){return Bw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class pE extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new hE(e,t,n):"array-contains"===t?new gE(e,n):"in"===t?new vE(e,n):"not-in"===t?new yE(e,n):"array-contains-any"===t?new bE(e,n):new pE(e,t,n)}static R(e,t,n){return"in"===t?new dE(e,n):new fE(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(qw(t,this.value)):null!==t&&Hw(this.value)===Hw(t)&&this.P(qw(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sw()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class hE extends pE{constructor(e,t,n){super(e,t,n),this.key=Bw.fromName(n.referenceValue)}matches(e){const t=Bw.comparator(e.key,this.key);return this.P(t)}}class dE extends pE{constructor(e,t){super(e,"in",t),this.keys=mE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class fE extends pE{constructor(e,t){super(e,"not-in",t),this.keys=mE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function mE(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Bw.fromName(e.referenceValue)))}class gE extends pE{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jw(t)&&Ww(t.arrayValue,this.value)}}class vE extends pE{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ww(this.value.arrayValue,t)}}class yE extends pE{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ww(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ww(this.value.arrayValue,t)}}class bE extends pE{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jw(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ww(this.value.arrayValue,e)))}}class wE{constructor(e,t){this.position=e,this.before=t}}function EE(e){return`${e.before?"b":"a"}:${e.position.map((e=>$w(e))).join(",")}`}class kE{constructor(e,t="asc"){this.field=e,this.dir=t}}function SE(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function CE(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Bw.comparator(Bw.fromName(s.referenceValue),n.key):qw(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function DE(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Kw(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.V=null,this.S=null,this.startAt,this.endAt}}function TE(e){return new xE(e)}function OE(e){return!Vw(e.limit)&&"F"===e.limitType}function RE(e){return!Vw(e.limit)&&"L"===e.limitType}function IE(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function NE(e){for(const t of e.filters)if(t.v())return t.field;return null}function ME(e){return null!==e.collectionGroup}function PE(e){const t=lw(e);if(null===t.V){t.V=[];const e=NE(t),n=IE(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new kE(e)),t.V.push(new kE(Iw.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new kE(Iw.keyField(),e))}}}return t.V}function LE(e){const t=lw(e);if(!t.S)if("F"===t.limitType)t.S=aE(t.path,t.collectionGroup,PE(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of PE(t)){const t="desc"===i.dir?"asc":"desc";e.push(new kE(i.field,t))}const n=t.endAt?new wE(t.endAt.position,!t.endAt.before):null,r=t.startAt?new wE(t.startAt.position,!t.startAt.before):null;t.S=aE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function _E(e,t){return uE(LE(e),LE(t))&&e.limitType===t.limitType}function AE(e){return`${lE(LE(e))}|lt:${e.limitType}`}function FE(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${$w(t.value)}`;var t})).join(", ")}]`),Vw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t})).join(", ")}]`),e.startAt&&(t+=", startAt: "+EE(e.startAt)),e.endAt&&(t+=", endAt: "+EE(e.endAt)),`Target(${t})`}(LE(e))}; limitType=${e.limitType})`}function zE(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Bw.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!CE(n.startAt,PE(n),r)||n.endAt&&CE(n.endAt,PE(n),r)));var n,r}function UE(e){return(t,n)=>{let r=!1;for(const i of PE(e)){const e=VE(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function VE(e,t,n){const r=e.field.isKeyField()?Bw.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?qw(r,i):sw()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return sw()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jw(t)?"-0":t}}function BE(e){return{integerValue:""+e}}function HE(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!jw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?BE(t):jE(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this._=void 0}}function WE(e,t,n){return e instanceof $E?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof YE?XE(e,t):e instanceof QE?JE(e,t):function(e,t){const n=GE(e,t),r=ek(n)+ek(e.C);return Qw(n)&&Qw(e.C)?BE(r):jE(e.N,r)}(e,t)}function qE(e,t,n){return e instanceof YE?XE(e,t):e instanceof QE?JE(e,t):n}function GE(e,t){return e instanceof ZE?Qw(r=t)||(n=r)&&"doubleValue"in n?t:{integerValue:0}:null;var n,r}class $E extends KE{}class YE extends KE{constructor(e){super(),this.elements=e}}function XE(e,t){const n=tk(t);for(const r of e.elements)n.some((e=>Kw(e,r)))||n.push(r);return{arrayValue:{values:n}}}class QE extends KE{constructor(e){super(),this.elements=e}}function JE(e,t){let n=tk(t);for(const r of e.elements)n=n.filter((e=>!Kw(e,r)));return{arrayValue:{values:n}}}class ZE extends KE{constructor(e,t){super(),this.N=e,this.C=t}}function ek(e){return _w(e.integerValue||e.doubleValue)}function tk(e){return Jw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t){this.field=e,this.transform=t}}class rk{constructor(e,t){this.version=e,this.transformResults=t}}class ik{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ik}static exists(e){return new ik(void 0,e)}static updateTime(e){return new ik(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ok(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class sk{}function ak(e,t,n){var r;e instanceof hk?function(e,t,n){const r=e.value.clone(),i=mk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof dk?function(e,t,n){if(!ok(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=mk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(fk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):(r=n,t.convertToNoDocument(r.version).setHasCommittedMutations())}function lk(e,t,n){var r;e instanceof hk?function(e,t,n){if(!ok(e.precondition,t))return;const r=e.value.clone(),i=gk(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(pk(t),r).setHasLocalMutations()}(e,t,n):e instanceof dk?function(e,t,n){if(!ok(e.precondition,t))return;const r=gk(e.fieldTransforms,n,t),i=t.data;i.setAll(fk(e)),i.setAll(r),t.convertToFoundDocument(pk(t),i).setHasLocalMutations()}(e,t,n):(r=t,ok(e.precondition,r)&&r.convertToNoDocument(Sw.min()))}function uk(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=GE(r.transform,e||null);null!=i&&(null==n&&(n=rE.empty()),n.set(r.field,i))}return n||null}function ck(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Ew(n,r,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof YE&&r instanceof YE||n instanceof QE&&r instanceof QE?Ew(n.elements,r.elements,Kw):n instanceof ZE&&r instanceof ZE?Kw(n.C,r.C):n instanceof $E&&r instanceof $E);var n,r}(e,t))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}function pk(e){return e.isFoundDocument()?e.version:Sw.min()}class hk extends sk{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class dk extends sk{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function fk(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function mk(e,t,n){const r=new Map;aw(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,qE(s,a,n[i]))}return r}function gk(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,WE(e,o,t))}return r}class vk extends sk{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class yk extends sk{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.count=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wk,Ek;function kk(e){if(void 0===e)return rw("GRPC error has no .code"),uw.UNKNOWN;switch(e){case wk.OK:return uw.OK;case wk.CANCELLED:return uw.CANCELLED;case wk.UNKNOWN:return uw.UNKNOWN;case wk.DEADLINE_EXCEEDED:return uw.DEADLINE_EXCEEDED;case wk.RESOURCE_EXHAUSTED:return uw.RESOURCE_EXHAUSTED;case wk.INTERNAL:return uw.INTERNAL;case wk.UNAVAILABLE:return uw.UNAVAILABLE;case wk.UNAUTHENTICATED:return uw.UNAUTHENTICATED;case wk.INVALID_ARGUMENT:return uw.INVALID_ARGUMENT;case wk.NOT_FOUND:return uw.NOT_FOUND;case wk.ALREADY_EXISTS:return uw.ALREADY_EXISTS;case wk.PERMISSION_DENIED:return uw.PERMISSION_DENIED;case wk.FAILED_PRECONDITION:return uw.FAILED_PRECONDITION;case wk.ABORTED:return uw.ABORTED;case wk.OUT_OF_RANGE:return uw.OUT_OF_RANGE;case wk.UNIMPLEMENTED:return uw.UNIMPLEMENTED;case wk.DATA_LOSS:return uw.DATA_LOSS;default:return sw()}}(Ek=wk||(wk={}))[Ek.OK=0]="OK",Ek[Ek.CANCELLED=1]="CANCELLED",Ek[Ek.UNKNOWN=2]="UNKNOWN",Ek[Ek.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ek[Ek.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ek[Ek.NOT_FOUND=5]="NOT_FOUND",Ek[Ek.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ek[Ek.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ek[Ek.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ek[Ek.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ek[Ek.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ek[Ek.ABORTED=10]="ABORTED",Ek[Ek.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ek[Ek.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ek[Ek.INTERNAL=13]="INTERNAL",Ek[Ek.UNAVAILABLE=14]="UNAVAILABLE",Ek[Ek.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Sk{constructor(e,t){this.comparator=e,this.root=t||Dk.EMPTY}insert(e,t){return new Sk(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dk.BLACK,null,null))}remove(e){return new Sk(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dk.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ck(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ck(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ck(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ck(this.root,e,this.comparator,!0)}}class Ck{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dk{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Dk.RED,this.left=null!=r?r:Dk.EMPTY,this.right=null!=i?i:Dk.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Dk(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Dk.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Dk.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dk.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dk.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw sw();if(this.right.isRed())throw sw();const e=this.left.check();if(e!==this.right.check())throw sw();return e+(this.isRed()?0:1)}}Dk.EMPTY=null,Dk.RED=!0,Dk.BLACK=!1,Dk.EMPTY=new class{constructor(){this.size=0}get key(){throw sw()}get value(){throw sw()}get color(){throw sw()}get left(){throw sw()}get right(){throw sw()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Dk(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xk{constructor(e){this.comparator=e,this.data=new Sk(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Tk(this.data.getIterator())}getIteratorFrom(e){return new Tk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof xk))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new xk(this.comparator);return t.data=e,t}}class Tk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=new Sk(Bw.comparator);function Rk(){return Ok}const Ik=new Sk(Bw.comparator);function Nk(){return Ik}const Mk=new Sk(Bw.comparator);const Pk=new xk(Bw.comparator);function Lk(...e){let t=Pk;for(const n of e)t=t.add(n);return t}const _k=new xk(ww);function Ak(){return _k}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,zk.createSynthesizedTargetChangeForCurrentChange(e,t)),new Fk(Sw.min(),n,Ak(),Rk(),Lk())}}class zk{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new zk(Mw.EMPTY_BYTE_STRING,t,Lk(),Lk(),Lk())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class Vk{constructor(e,t){this.targetId=e,this.O=t}}class jk{constructor(e,t,n=Mw.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Bk{constructor(){this.F=0,this.M=Wk(),this.L=Mw.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Lk(),t=Lk(),n=Lk();return this.M.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:sw()}})),new zk(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=Wk()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Hk{constructor(e){this.tt=e,this.et=new Map,this.nt=Rk(),this.st=Kk(),this.it=new xk(ww)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,(t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:sw()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach(((e,n)=>{this.ht(n)&&t(n)}))}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(cE(e))if(0===n){const n=new Bw(e.path);this.at(t,n,oE.newNoDocument(n,Sw.min()))}else aw(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach(((n,r)=>{const i=this.dt(r);if(i){if(n.current&&cE(i.target)){const t=new Bw(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.at(r,t,oE.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}}));let n=Lk();this.st.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))}));const r=new Fk(e,t,this.it,this.nt,n);return this.nt=Rk(),this.st=Kk(),this.it=new xk(ww),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new Bk,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new xk(ww),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||nw("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Et(e)}lt(e){this.et.set(e,new Bk),this.tt.getRemoteKeysForTarget(e).forEach((t=>{this.at(e,t,null)}))}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function Kk(){return new Sk(Bw.comparator)}function Wk(){return new Sk(Bw.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk={asc:"ASCENDING",desc:"DESCENDING"},Gk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class $k{constructor(e,t){this.databaseId=e,this.D=t}}function Yk(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xk(e,t){return e.D?t.toBase64():t.toUint8Array()}function Qk(e,t){return Yk(e,t.toTimestamp())}function Jk(e){return aw(!!e),Sw.fromTimestamp(function(e){const t=Lw(e);return new kw(t.seconds,t.nanos)}(e))}function Zk(e,t){return(n=e,new Ow(["projects",n.projectId,"databases",n.database])).child("documents").child(t).canonicalString();var n}function eS(e){const t=Ow.fromString(e);return aw(wS(t)),t}function tS(e,t){return Zk(e.databaseId,t.path)}function nS(e,t){const n=eS(t);if(n.get(1)!==e.databaseId.projectId)throw new cw(uw.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new cw(uw.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Bw(oS(n))}function rS(e,t){return Zk(e.databaseId,t)}function iS(e){return new Ow(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function oS(e){return aw(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function sS(e,t,n){return{name:tS(e,t),fields:n.value.mapValue.fields}}function aS(e,t){return{documents:[rS(e,t.path)]}}function lS(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=rS(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=rS(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(eE(e.value))return{unaryFilter:{field:mS(e.field),op:"IS_NAN"}};if(Zw(e.value))return{unaryFilter:{field:mS(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(eE(e.value))return{unaryFilter:{field:mS(e.field),op:"IS_NOT_NAN"}};if(Zw(e.value))return{unaryFilter:{field:mS(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mS(e.field),op:fS(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>{return{field:mS((t=e).field),direction:dS(t.dir)};var t}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=(a=e,l=t.limit,a.D||Vw(l)?l:{value:l});var a,l;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=pS(t.startAt)),t.endAt&&(n.structuredQuery.endAt=pS(t.endAt)),n}function uS(e){let t=function(e){const t=eS(e);return 4===t.length?Ow.emptyPath():oS(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){aw(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=cS(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>{return new kE(gS((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t})));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Vw(t)?null:t}(n.limit));let l=null;n.startAt&&(l=hS(n.startAt));let u=null;return n.endAt&&(u=hS(n.endAt)),function(e,t,n,r,i,o,s,a){return new xE(e,t,n,r,i,o,s,a)}(t,i,s,o,a,"F",l,u)}function cS(e){return e?void 0!==e.unaryFilter?[yS(e)]:void 0!==e.fieldFilter?[vS(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>cS(e))).reduce(((e,t)=>e.concat(t))):sw():[]}function pS(e){return{before:e.before,values:e.position}}function hS(e){const t=!!e.before,n=e.values||[];return new wE(n,t)}function dS(e){return qk[e]}function fS(e){return Gk[e]}function mS(e){return{fieldPath:e.canonicalString()}}function gS(e){return Iw.fromServerFormat(e.fieldPath)}function vS(e){return pE.create(gS(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return sw()}}(e.fieldFilter.op),e.fieldFilter.value)}function yS(e){switch(e.unaryFilter.op){case"IS_NAN":const t=gS(e.unaryFilter.field);return pE.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=gS(e.unaryFilter.field);return pE.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=gS(e.unaryFilter.field);return pE.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=gS(e.unaryFilter.field);return pE.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return sw()}}function bS(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function wS(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ES{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&sw(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ES(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ES?t:ES.resolve(t)}catch(t){return ES.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ES.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ES.reject(t)}static resolve(e){return new ES(((t,n)=>{t(e)}))}static reject(e){return new ES(((t,n)=>{n(e)}))}static waitFor(e){return new ES(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=ES.resolve(!1);for(const n of e)t=t.next((e=>e?ES.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}function kS(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ak(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&lk(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&lk(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(Sw.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Lk())}isEqual(e){return this.batchId===e.batchId&&Ew(this.mutations,e.mutations,((e,t)=>ck(e,t)))&&Ew(this.baseMutations,e.baseMutations,((e,t)=>ck(e,t)))}}class CS{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){aw(e.mutations.length===n.length);let r=Mk;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new CS(e,t,n,r)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,t,n,r,i=Sw.min(),o=Sw.min(),s=Mw.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}withSequenceNumber(e){return new DS(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new DS(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new DS(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.Wt=e}}function TS(e){const t=uS({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?function(e,t,n){return new xE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.Gt=new RS}addToCollectionParentIndex(e,t){return this.Gt.add(t),ES.resolve()}getCollectionParents(e,t){return ES.resolve(this.Gt.getEntries(t))}}class RS{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new xk(Ow.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new xk(Ow.comparator)).toArray()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new IS(0)}static ie(){return new IS(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NS(e){if(e.code!==uw.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;nw("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){Dw(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return xw(this.inner)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class PS{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Rn(e,t,n)))}Rn(e,t,n){return this.He.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}bn(e,t){e.forEach(((e,n)=>{for(const r of t)r.applyToLocalView(n)}))}Pn(e,t){return this.He.getEntries(e,t).next((t=>this.vn(e,t).next((()=>t))))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.bn(t,e)))}getDocumentsMatchingQuery(e,t,n){return r=t,Bw.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Vn(e,t.path):ME(t)?this.Sn(e,t,n):this.Dn(e,t,n);var r}Vn(e,t){return this.An(e,new Bw(t)).next((e=>{let t=Nk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Sn(e,t,n){const r=t.collectionGroup;let i=Nk();return this.Ht.getCollectionParents(e,r).next((o=>ES.forEach(o,(o=>{const s=(a=t,l=o.child(r),new xE(l,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));var a,l;return this.Dn(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next((n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(i=t,this.Cn(e,i,r).next((e=>{r=e;for(const t of i)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=oE.newInvalidDocument(n),r=r.insert(n,i)),lk(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((e,n)=>{zE(t,n)||(r=r.remove(e))})),r)))}Cn(e,t,n){let r=Lk();for(const o of t)for(const e of o.mutations)e instanceof dk&&null===n.get(e.key)&&(r=r.add(e.key));let i=n;return this.He.getEntries(e,r).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))})),i)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=Lk(),r=Lk();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new LS(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return 0===(i=t).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(Sw.min())?this.Fn(e,t):this.On.Pn(e,r).next((i=>{const o=this.Mn(t,i);return(OE(t)||RE(t))&&this.Ln(t.limitType,o,r,n)?this.Fn(e,t):(tw()<=bm.DEBUG&&nw("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),FE(t)),this.On.getDocumentsMatchingQuery(e,t,n).next((e=>(o.forEach((t=>{e=e.insert(t.key,t)})),e))))}));var i}Mn(e,t){let n=new xk(UE(e));return t.forEach(((t,r)=>{zE(e,r)&&(n=n.add(r))})),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return tw()<=bm.DEBUG&&nw("QueryEngine","Using full collection scan to execute query:",FE(t)),this.On.getDocumentsMatchingQuery(e,t,Sw.min())}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new Sk(ww),this.qn=new MS((e=>lE(e)),uE),this.Kn=Sw.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new PS(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Un)))}}async function FS(e,t){const n=lw(e);let r=n.In,i=n.Qn;const o=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let o;return n.In.getAllMutationBatches(e).next((s=>(o=s,r=n.persistence.getMutationQueue(t),i=new PS(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)))).next((t=>{const n=[],r=[];let s=Lk();for(const e of o){n.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return i.Pn(e,s).next((e=>({Wn:e,removedBatchIds:n,addedBatchIds:r})))}))}));return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),o}function zS(e){const t=lw(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ze.getLastRemoteSnapshotVersion(e)))}function US(e,t){const n=lw(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const s=[];t.targetChanges.forEach(((t,o)=>{const a=i.get(o);if(!a)return;s.push(n.ze.removeMatchingKeys(e,t.removedDocuments,o).next((()=>n.ze.addMatchingKeys(e,t.addedDocuments,o))));const l=t.resumeToken;if(l.approximateByteSize()>0){const h=a.withResumeToken(l,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,h),u=a,p=t,aw((c=h).resumeToken.approximateByteSize()>0),(0===u.resumeToken.approximateByteSize()||c.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()>=3e8||p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0)&&s.push(n.ze.updateTargetData(e,h))}var u,c,p}));let a=Rk();if(t.documentUpdates.forEach(((r,i)=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(function(e,t,n,r,i){let o=Lk();return n.forEach((e=>o=o.add(e))),t.getEntries(e,o).next((e=>{let o=Rk();return n.forEach(((n,s)=>{const a=e.get(n),l=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Sw.min())?(t.removeEntry(n,l),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s,l),o=o.insert(n,s)):nw("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}(e,o,t.documentUpdates,r,void 0).next((e=>{a=e}))),!r.isEqual(Sw.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next((t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return ES.waitFor(s).next((()=>o.apply(e))).next((()=>n.Qn.vn(e,a))).next((()=>a))})).then((e=>(n.Un=i,e)))}function VS(e,t){const n=lw(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t))))}async function jS(e,t,n){const r=lw(e),i=r.Un.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(s){if(!kS(s))throw s;nw("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)}function BS(e,t,n){const r=lw(e);let i=Sw.min(),o=Lk();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=lw(e),i=r.qn.get(n);return void 0!==i?ES.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,LE(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:Sw.min(),n?o:Lk()))).next((e=>({documents:e,Gn:o})))))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return ES.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:Jk(n.createTime)}),ES.resolve()}getNamedQuery(e,t){return ES.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(n=t).name,query:TS(n.bundledQuery),readTime:Jk(n.readTime)}),ES.resolve();var n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.Zn=new xk(WS.ts),this.es=new xk(WS.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new WS(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.rs(new WS(e,t))}os(e,t){e.forEach((e=>this.removeReference(e,t)))}cs(e){const t=new Bw(new Ow([])),n=new WS(t,e),r=new WS(t,e+1),i=[];return this.es.forEachInRange([n,r],(e=>{this.rs(e),i.push(e.key)})),i}us(){this.Zn.forEach((e=>this.rs(e)))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Bw(new Ow([])),n=new WS(t,e),r=new WS(t,e+1);let i=Lk();return this.es.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new WS(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class WS{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Bw.comparator(e.key,t.key)||ww(e.ls,t.ls)}static ns(e,t){return ww(e.ls,t.ls)||Bw.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new xk(WS.ts)}checkEmpty(e){return ES.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++,this.In.length>0&&this.In[this.In.length-1];const o=new SS(i,t,n,r);this.In.push(o);for(const s of r)this.ds=this.ds.add(new WS(s.key,i)),this.Ht.addToCollectionParentIndex(e,s.key.path.popLast());return ES.resolve(o)}lookupMutationBatch(e,t){return ES.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this._s(n),i=r<0?0:r;return ES.resolve(this.In.length>i?this.In[i]:null)}getHighestUnacknowledgedBatchId(){return ES.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return ES.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new WS(t,0),r=new WS(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],(e=>{const t=this.ws(e.ls);i.push(t)})),ES.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new xk(ww);return t.forEach((e=>{const t=new WS(e,0),r=new WS(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],(e=>{n=n.add(e.ls)}))})),ES.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Bw.isDocumentKey(i)||(i=i.child(""));const o=new WS(new Bw(i),0);let s=new xk(ww);return this.ds.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.ls)),!0)}),o),ES.resolve(this.gs(s))}gs(e){const t=[];return e.forEach((e=>{const n=this.ws(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){aw(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return ES.forEach(t.mutations,(r=>{const i=new WS(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ds=n}))}te(e){}containsKey(e,t){const n=new WS(t,0),r=this.ds.firstAfterOrEqual(n);return ES.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.In.length,ES.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new Sk(Bw.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:s,readTime:n}),this.size+=s-o,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ES.resolve(n?n.document.clone():oE.newInvalidDocument(t))}getEntries(e,t){let n=Rk();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():oE.newInvalidDocument(e))})),ES.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=Rk();const i=new Bw(t.path.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:e,value:{document:i,readTime:s}}=o.getNext();if(!t.path.isPrefixOf(e.path))break;s.compareTo(n)<=0||zE(t,i)&&(r=r.insert(i.key,i.clone()))}return ES.resolve(r)}Es(e,t){return ES.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new $S(this)}getSize(e){return ES.resolve(this.size)}}class $S extends class{constructor(){this.changes=new MS((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Sw.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:oE.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ES.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)})),ES.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.persistence=e,this.Ts=new MS((e=>lE(e)),uE),this.lastRemoteSnapshotVersion=Sw.min(),this.highestTargetId=0,this.Is=0,this.As=new KS,this.targetCount=0,this.Rs=IS.se()}forEachTarget(e,t){return this.Ts.forEach(((e,n)=>t(n))),ES.resolve()}getLastRemoteSnapshotVersion(e){return ES.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ES.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),ES.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),ES.resolve()}ae(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new IS(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,ES.resolve()}updateTargetData(e,t){return this.ae(t),ES.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,ES.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Ts.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Ts.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),ES.waitFor(i).next((()=>r))}getTargetCount(e){return ES.resolve(this.targetCount)}getTargetData(e,t){const n=this.Ts.get(t)||null;return ES.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),ES.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),ES.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),ES.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return ES.resolve(n)}containsKey(e,t){return ES.resolve(this.As.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t){var n;this.bs={},this.Le=new vw(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new YS(this),this.Ht=new OS,this.He=(n=this.Ht,new GS(n,(e=>this.referenceDelegate.Ps(e)))),this.N=new xS(t),this.Je=new HS(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new qS(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){nw("MemoryPersistence","Starting transaction:",e);const r=new QS(this.Le.next());return this.referenceDelegate.vs(),n(r).next((e=>this.referenceDelegate.Vs(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ss(e,t){return ES.or(Object.values(this.bs).map((n=>()=>n.containsKey(e,t))))}}class QS extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}{constructor(e){super(),this.currentSequenceNumber=e}}class JS{constructor(e){this.persistence=e,this.Ds=new KS,this.Cs=null}static Ns(e){return new JS(e)}get xs(){if(this.Cs)return this.Cs;throw sw()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),ES.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),ES.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),ES.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach((e=>this.xs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.xs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ES.forEach(this.xs,(n=>{const r=Bw.fromPath(n);return this.ks(e,r).next((e=>{e||t.removeEntry(r)}))})).next((()=>(this.Cs=null,t.apply(e))))}updateLimboDocument(e,t){return this.ks(e,t).next((e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())}))}Ps(e){return 0}ks(e,t){return ES.or([()=>ES.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}class ZS{constructor(){this.activeTargetIds=Ak()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eC{constructor(){this.yi=new ZS,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new ZS,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{Ei(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){nw("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){nw("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Fi=t+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);nw("RestConnection","Sending: ",i,n);const o={};return this.Ui(o,r),this.qi(e,i,o,n).then((e=>(nw("RestConnection","Received: ",e),e)),(t=>{throw iw("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t}))}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Zb,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){const n=rC[e];return`${this.Fi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise(((i,o)=>{const s=new Qb;s.listenOnce(Wb.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Kb.NO_ERROR:const t=s.getResponseJson();nw("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Kb.TIMEOUT:nw("Connection",'RPC "'+e+'" timed out'),o(new cw(uw.DEADLINE_EXCEEDED,"Request time out"));break;case Kb.HTTP_ERROR:const n=s.getStatus();if(nw("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){const e=s.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(uw).indexOf(t)>=0?t:uw.UNKNOWN}(e.status);o(new cw(t,e.message))}else o(new cw(uw.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new cw(uw.UNAVAILABLE,"Connection failed."));break;default:sw()}}finally{nw("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);s.send(t,"POST",a,n,15)}))}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new Ub,i=Mv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};var s,a;this.useFetchStreams&&(o.xmlHttpFactory=new Yb({})),this.Ui(o.initMessageHeaders,t),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lm())||"object"==typeof navigator&&"ReactNative"===navigator.product||lm().indexOf("Electron/")>=0||((a=lm()).indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0)||lm().indexOf("MSAppHost/")>=0||"object"==typeof(s="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==s.id||(o.httpHeadersOverwriteParam="$httpHeaders");const l=n.join("");nw("Connection","Creating WebChannel: "+l,o);const u=r.createWebChannel(l,o);let c=!1,p=!1;const h=new iC({vi:e=>{p?nw("Connection","Not sending because WebChannel is closed:",e):(c||(nw("Connection","Opening WebChannel transport."),u.open(),c=!0),nw("Connection","WebChannel sending:",e),u.send(e))},Vi:()=>u.close()}),d=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(t){setTimeout((()=>{throw t}),0)}}))};return d(u,Xb.EventType.OPEN,(()=>{p||nw("Connection","WebChannel transport opened.")})),d(u,Xb.EventType.CLOSE,(()=>{p||(p=!0,nw("Connection","WebChannel transport closed"),h.$i())})),d(u,Xb.EventType.ERROR,(e=>{p||(p=!0,iw("Connection","WebChannel transport errored:",e),h.$i(new cw(uw.UNAVAILABLE,"The operation could not be completed")))})),d(u,Xb.EventType.MESSAGE,(e=>{var t;if(!p){const n=e.data[0];aw(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){nw("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=wk[e];if(void 0!==t)return kk(t)}(e),n=i.message;void 0===t&&(t=uw.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),p=!0,h.$i(new cw(t,n)),u.close()}else nw("Connection","WebChannel received:",n),h.Oi(n)}})),d(i,qb.STAT_EVENT,(e=>{e.stat===Gb?nw("Connection","Detected buffering proxy"):e.stat===$b&&nw("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.ki()}),0),h}}function sC(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(e){return new $k(e,!0)}class lC{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&nw("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,(()=>(this.Ji=Date.now(),e()))),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t,n,r,i,o){this.Oe=e,this.er=n,this.nr=r,this.credentialsProvider=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new lC(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}async stop(){this.ar()&&await this.close(0)}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,(()=>this.dr())))}wr(e){this._r(),this.stream.send(e)}async dr(){if(this.cr())return this.close(0)}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}async close(e,t){this._r(),this.rr.cancel(),this.sr++,3!==e?this.rr.reset():t&&t.code===uw.RESOURCE_EXHAUSTED?(rw(t.toString()),rw("Using maximum backoff delay to prevent overloading the backend."),this.rr.Yi()):t&&t.code===uw.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ci(t)}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then((e=>{this.sr===t&&this.yr(e)}),(t=>{e((()=>{const e=new cw(uw.UNKNOWN,"Fetching auth token failed: "+t.message);return this.pr(e)}))}))}yr(e){const t=this.gr(this.sr);this.stream=this.Er(e),this.stream.Si((()=>{t((()=>(this.state=2,this.listener.Si())))})),this.stream.Ci((e=>{t((()=>this.pr(e)))})),this.stream.onMessage((e=>{t((()=>this.onMessage(e)))}))}ur(){this.state=4,this.rr.Xi((async()=>{this.state=0,this.start()}))}pr(e){return nw("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget((()=>this.sr===e?t():(nw("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cC extends uC{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i),this.N=r}Er(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:sw(),o=t.targetChange.targetIds||[],s=function(e,t){return e.D?(aw(void 0===t||"string"==typeof t),Mw.fromBase64String(t||"")):(aw(void 0===t||t instanceof Uint8Array),Mw.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(e){const t=void 0===e.code?uw.UNKNOWN:kk(e.code);return new cw(t,e.message||"")}(a);n=new jk(i,o,s,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=nS(e,r.document.name),o=Jk(r.document.updateTime),s=new rE({mapValue:{fields:r.document.fields}}),a=oE.newFoundDocument(i,o,s),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Uk(l,u,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=nS(e,r.document),o=r.readTime?Jk(r.readTime):Sw.min(),s=oE.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Uk([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=nS(e,r.document),o=r.removedTargetIds||[];n=new Uk([],o,i,null)}else{if(!("filter"in t))return sw();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new bk(r),o=e.targetId;n=new Vk(o,i)}}var r;return n}(this.N,e),n=function(e){if(!("targetChange"in e))return Sw.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Sw.min():t.readTime?Jk(t.readTime):Sw.min()}(e);return this.listener.Tr(t,n)}Ir(e){const t={};t.database=iS(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=cE(r)?{documents:aS(e,r)}:{query:lS(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Xk(e,t.resumeToken):t.snapshotVersion.compareTo(Sw.min())>0&&(n.readTime=Yk(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return sw()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.N,e);n&&(t.labels=n),this.wr(t)}Ar(e){const t={};t.database=iS(this.N),t.removeTarget=e,this.wr(t)}}class pC extends uC{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,i),this.N=r,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(e){return this.nr.ji("Write",e)}onMessage(e){if(aw(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(e,t){return e&&e.length>0?(aw(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Jk(e.updateTime):Jk(t);return n.isEqual(Sw.min())&&(n=Jk(t)),new rk(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Jk(e.commitTime);return this.listener.vr(n,t)}return aw(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=iS(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof hk)n={update:sS(e,t.key,t.value)};else if(t instanceof vk)n={delete:tS(e,t.key)};else if(t instanceof dk)n={update:sS(e,t.key,t.data),updateMask:bS(t.fieldMask)};else{if(!(t instanceof yk))return sw();n={verify:tS(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof $E)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof YE)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof QE)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ZE)return{fieldPath:t.field.canonicalString(),increment:n.C};throw sw()}(0,e)))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:Qk(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:sw())),n;var r,i}(this.N,e)))};this.wr(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC extends class{}{constructor(e,t,n){super(),this.credentials=e,this.nr=t,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new cw(uw.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Li(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===uw.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new cw(uw.UNKNOWN,e.toString())}))}Ki(e,t,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Ki(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===uw.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new cw(uw.UNKNOWN,e.toString())}))}terminate(){this.Dr=!0}}class dC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve()))))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(rw(t),this.$r=!1):nw("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ei((e=>{n.enqueueAndForget((async()=>{SC(this)&&(nw("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=lw(e);t.Kr.add(4),await gC(t),t.Wr.set("Unknown"),t.Kr.delete(4),await mC(t)}(this))}))})),this.Wr=new dC(n,r)}}async function mC(e){if(SC(e))for(const t of e.jr)await t(!0)}async function gC(e){for(const t of e.jr)await t(!1)}function vC(e,t){const n=lw(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),kC(n)?EC(n):UC(n).cr()&&bC(n,t))}function yC(e,t){const n=lw(e),r=UC(n);n.qr.delete(t),r.cr()&&wC(n,t),0===n.qr.size&&(r.cr()?r.lr():SC(n)&&n.Wr.set("Unknown"))}function bC(e,t){e.Gr.Y(t.targetId),UC(e).Ir(t)}function wC(e,t){e.Gr.Y(t),UC(e).Ar(t)}function EC(e){e.Gr=new Hk({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.qr.get(t)||null}),UC(e).start(),e.Wr.Or()}function kC(e){return SC(e)&&!UC(e).ar()&&e.qr.size>0}function SC(e){return 0===lw(e).Kr.size}function CC(e){e.Gr=void 0}async function DC(e){e.qr.forEach(((t,n)=>{bC(e,t)}))}async function xC(e,t){CC(e),kC(e)?(e.Wr.Lr(t),EC(e)):e.Wr.set("Unknown")}async function TC(e,t,n){if(e.Wr.set("Online"),t instanceof jk&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.qr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.qr.delete(r),e.Gr.removeTarget(r))}(e,t)}catch(r){nw("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await OC(e,r)}else if(t instanceof Uk?e.Gr.rt(t):t instanceof Vk?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(Sw.min()))try{const t=await zS(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Gr._t(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.qr.get(t);if(!n)return;e.qr.set(t,n.withResumeToken(Mw.EMPTY_BYTE_STRING,n.snapshotVersion)),wC(e,t);const r=new DS(n.target,t,1,n.sequenceNumber);bC(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(i){nw("RemoteStore","Failed to raise snapshot:",i),await OC(e,i)}}async function OC(e,t,n){if(!kS(t))throw t;e.Kr.add(1),await gC(e),e.Wr.set("Offline"),n||(n=()=>zS(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{nw("RemoteStore","Retrying IndexedDB access"),await n(),e.Kr.delete(1),await mC(e)}))}function RC(e,t){return t().catch((n=>OC(e,n,t)))}async function IC(e){const t=lw(e),n=VC(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;NC(t);)try{const e=await VS(t.localStore,r);if(null===e){0===t.Ur.length&&n.lr();break}r=e.batchId,MC(t,e)}catch(i){await OC(t,i)}PC(t)&&LC(t)}function NC(e){return SC(e)&&e.Ur.length<10}function MC(e,t){e.Ur.push(t);const n=VC(e);n.cr()&&n.br&&n.Pr(t.mutations)}function PC(e){return SC(e)&&!VC(e).ar()&&e.Ur.length>0}function LC(e){VC(e).start()}async function _C(e){VC(e).Sr()}async function AC(e){const t=VC(e);for(const n of e.Ur)t.Pr(n.mutations)}async function FC(e,t,n){const r=e.Ur.shift(),i=CS.from(r,t,n);await RC(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await IC(e)}async function zC(e,t){t&&VC(e).br&&await async function(e,t){if(function(e){switch(e){case uw.OK:return sw();case uw.CANCELLED:case uw.UNKNOWN:case uw.DEADLINE_EXCEEDED:case uw.RESOURCE_EXHAUSTED:case uw.INTERNAL:case uw.UNAVAILABLE:case uw.UNAUTHENTICATED:return!1;case uw.INVALID_ARGUMENT:case uw.NOT_FOUND:case uw.ALREADY_EXISTS:case uw.PERMISSION_DENIED:case uw.FAILED_PRECONDITION:case uw.ABORTED:case uw.OUT_OF_RANGE:case uw.UNIMPLEMENTED:case uw.DATA_LOSS:return!0;default:return sw()}}(n=t.code)&&n!==uw.ABORTED){const n=e.Ur.shift();VC(e).hr(),await RC(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await IC(e)}var n}(e,t),PC(e)&&LC(e)}function UC(e){return e.zr||(e.zr=function(e,t,n){const r=lw(e);return r.Cr(),new cC(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:DC.bind(null,e),Ci:xC.bind(null,e),Tr:TC.bind(null,e)}),e.jr.push((async t=>{t?(e.zr.hr(),kC(e)?EC(e):e.Wr.set("Unknown")):(await e.zr.stop(),CC(e))}))),e.zr}function VC(e){return e.Hr||(e.Hr=function(e,t,n){const r=lw(e);return r.Cr(),new pC(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:_C.bind(null,e),Ci:zC.bind(null,e),Vr:AC.bind(null,e),vr:FC.bind(null,e)}),e.jr.push((async t=>{t?(e.Hr.hr(),await IC(e)):(await e.Hr.stop(),e.Ur.length>0&&(nw("RemoteStore",`Stopping write stream with ${e.Ur.length} pending writes`),e.Ur=[]))}))),e.Hr
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class jC{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new pw,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new jC(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new cw(uw.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function BC(e,t){if(rw("AsyncQueue",`${t}: ${e}`),kS(e))return new cw(uw.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Bw.comparator(t.key,n.key):(e,t)=>Bw.comparator(e.key,t.key),this.keyedMap=Nk(),this.sortedSet=new Sk(this.comparator)}static emptySet(e){return new HC(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof HC))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new HC;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.Jr=new Sk(Bw.comparator)}track(e){const t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):sw():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal(((t,n)=>{e.push(n)})),e}}class WC{constructor(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new WC(e,t,HC.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_E(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.Xr=void 0,this.listeners=[]}}class GC{constructor(){this.queries=new MS((e=>AE(e)),_E),this.onlineState="Unknown",this.Zr=new Set}}async function $C(e,t){const n=lw(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new qC),i)try{o.Xr=await n.onListen(r)}catch(s){const e=BC(s,`Initialization of query '${FE(t.query)}' failed`);return void t.onError(e)}n.queries.set(r,o),o.listeners.push(t),t.eo(n.onlineState),o.Xr&&t.no(o.Xr)&&JC(n)}async function YC(e,t){const n=lw(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function XC(e,t){const n=lw(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.no(i)&&(r=!0);t.Xr=i}}r&&JC(n)}function QC(e,t,n){const r=lw(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function JC(e){e.Zr.forEach((e=>{e.next()}))}class ZC{constructor(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new WC(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.uo&&n||e.docs.isEmpty()&&"Offline"!==t)}oo(e){if(e.docChanges.length>0)return!0;const t=this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}co(e){e=WC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.key=e}}class tD{constructor(e){this.key=e}}class nD{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=Lk(),this.mutatedKeys=Lk(),this.po=UE(e),this.Eo=new HC(this.po)}get To(){return this._o}Io(e,t){const n=t?t.Ao:new KC,r=t?t.Eo:this.Eo;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a=OE(this.query)&&r.size===this.query.limit?r.last():null,l=RE(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=zE(this.query,t)?t:null,p=!!u&&this.mutatedKeys.has(u.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let d=!1;u&&c?u.data.isEqual(c.data)?p!==h&&(n.track({type:3,doc:c}),d=!0):this.Ro(u,c)||(n.track({type:2,doc:c}),d=!0,(a&&this.po(c,a)>0||l&&this.po(c,l)<0)&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),d=!0):u&&!c&&(n.track({type:1,doc:u}),d=!0,(a||l)&&(s=!0)),d&&(c?(o=o.add(c),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),OE(this.query)||RE(this.query))for(;o.size>this.query.limit;){const e=OE(this.query)?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Eo:o,Ao:n,Ln:s,mutatedKeys:i}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;const i=e.Ao.Yr();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sw()}};return n(e)-n(t)}(e.type,t.type)||this.po(e.doc,t.doc))),this.bo(n);const o=t?this.Po():[],s=0===this.yo.size&&this.current?1:0,a=s!==this.mo;return this.mo=s,0!==i.length||a?{snapshot:new WC(this.query,e.Eo,r,i,e.mutatedKeys,0===s,a,!1),vo:o}:{vo:o}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new KC,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach((e=>this._o=this._o.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this._o=this._o.delete(e))),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=Lk(),this.Eo.forEach((e=>{this.Vo(e.key)&&(this.yo=this.yo.add(e.key))}));const t=[];return e.forEach((e=>{this.yo.has(e)||t.push(new tD(e))})),this.yo.forEach((n=>{e.has(n)||t.push(new eD(n))})),t}So(e){this._o=e.Gn,this.yo=Lk();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return WC.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class rD{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class iD{constructor(e){this.key=e,this.Co=!1}}class oD{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.No={},this.xo=new MS((e=>AE(e)),_E),this.ko=new Map,this.$o=new Set,this.Oo=new Sk(Bw.comparator),this.Fo=new Map,this.Mo=new KS,this.Lo={},this.Bo=new Map,this.Uo=IS.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}async function sD(e,t){const n=function(e){const t=lw(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=uD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pD.bind(null,t),t.No.Tr=XC.bind(null,t.eventManager),t.No.jo=QC.bind(null,t.eventManager),t}(e);let r,i;const o=n.xo.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Do();else{const e=await function(e,t){const n=lw(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.ze.getTargetData(e,t).next((i=>i?(r=i,ES.resolve(r)):n.ze.allocateTargetId(e).next((i=>(r=new DS(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}(n.localStore,LE(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await async function(e,t,n,r){e.Ko=(t,n,r)=>async function(e,t,n,r){let i=t.view.Io(n);i.Ln&&(i=await BS(e.localStore,t.query,!1).then((({documents:e})=>t.view.Io(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return yD(e,t.targetId,s.vo),s.snapshot}(e,t,n,r);const i=await BS(e.localStore,t,!0),o=new nD(t,i.Gn),s=o.Io(i.documents),a=zk.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=o.applyChanges(s,e.isPrimaryClient,a);yD(e,n,l.vo);const u=new rD(t,n,o);return e.xo.set(t,u),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),l.snapshot}(n,t,r,"current"===o),n.isPrimaryClient&&vC(n.remoteStore,e)}return i}async function aD(e,t){const n=lw(e),r=n.xo.get(t),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter((e=>!_E(e,t)))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await jS(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),yC(n.remoteStore,r.targetId),gD(n,r.targetId)})).catch(NS)):(gD(n,r.targetId),await jS(n.localStore,r.targetId,!0))}async function lD(e,t,n){const r=function(e){const t=lw(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dD.bind(null,t),t}(e);try{const e=await function(e,t){const n=lw(e),r=kw.now(),i=t.reduce(((e,t)=>e.add(t.key)),Lk());let o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Qn.Pn(e,i).next((i=>{o=i;const s=[];for(const e of t){const t=uk(e,o.get(e.key));null!=t&&s.push(new dk(e.key,t,iE(t.value.mapValue),ik.exists(!0)))}return n.In.addMutationBatch(e,r,s,t)})))).then((e=>(e.applyToLocalDocumentSet(o),{batchId:e.batchId,changes:o})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Lo[e.currentUser.toKey()];r||(r=new Sk(ww)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,e.batchId,n),await ED(r,e.changes),await IC(r.remoteStore)}catch(i){const e=BC(i,"Failed to persist write");n.reject(e)}}async function uD(e,t){const n=lw(e);try{const e=await US(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fo.get(t);r&&(aw(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?aw(r.Co):e.removedDocuments.size>0&&(aw(r.Co),r.Co=!1))})),await ED(n,e,t)}catch(r){await NS(r)}}function cD(e,t,n){const r=lw(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xo.forEach(((n,r)=>{const i=r.view.eo(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=lw(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.eo(t)&&(r=!0)})),r&&JC(n)}(r.eventManager,t),e.length&&r.No.Tr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function pD(e,t,n){const r=lw(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fo.get(t),o=i&&i.key;if(o){let e=new Sk(Bw.comparator);e=e.insert(o,oE.newNoDocument(o,Sw.min()));const n=Lk().add(o),i=new Fk(Sw.min(),new Map,new xk(ww),e,n);await uD(r,i),r.Oo=r.Oo.remove(o),r.Fo.delete(t),wD(r)}else await jS(r.localStore,t,!1).then((()=>gD(r,t,n))).catch(NS)}async function hD(e,t){const n=lw(e),r=t.batch.batchId;try{const e=await function(e,t){const n=lw(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=ES.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);aw(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),s.next((()=>e.In.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.In.performConsistencyCheck(e))).next((()=>n.Qn.Pn(e,r)))}))}(n.localStore,t);mD(n,r,null),fD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ED(n,e)}catch(i){await NS(i)}}async function dD(e,t,n){const r=lw(e);try{const e=await function(e,t){const n=lw(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.In.lookupMutationBatch(e,t).next((t=>(aw(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t)))).next((()=>n.In.performConsistencyCheck(e))).next((()=>n.Qn.Pn(e,r)))}))}(r.localStore,t);mD(r,t,n),fD(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ED(r,e)}catch(i){await NS(i)}}function fD(e,t){(e.Bo.get(t)||[]).forEach((e=>{e.resolve()})),e.Bo.delete(t)}function mD(e,t,n){const r=lw(e);let i=r.Lo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function gD(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach((t=>{e.Mo.containsKey(t)||vD(e,t)}))}function vD(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);null!==n&&(yC(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),wD(e))}function yD(e,t,n){for(const r of n)r instanceof eD?(e.Mo.addReference(r.key,t),bD(e,r)):r instanceof tD?(nw("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||vD(e,r.key)):sw()}function bD(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(nw("SyncEngine","New document in limbo: "+n),e.$o.add(r),wD(e))}function wD(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new Bw(Ow.fromString(t)),r=e.Uo.next();e.Fo.set(r,new iD(n)),e.Oo=e.Oo.insert(n,r),vC(e.remoteStore,new DS(LE(TE(n.path)),r,2,vw.T))}}async function ED(e,t,n){const r=lw(e),i=[],o=[],s=[];r.xo.isEmpty()||(r.xo.forEach(((e,a)=>{s.push(r.Ko(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=LS.kn(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.No.Tr(i),await async function(e,t){const n=lw(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ES.forEach(t,(t=>ES.forEach(t.Nn,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ES.forEach(t.xn,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(r){if(!kS(r))throw r;nw("LocalStore","Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.Un.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Un=n.Un.insert(e,i)}}}(r.localStore,o))}async function kD(e,t){const n=lw(e);if(!n.currentUser.isEqual(t)){nw("SyncEngine","User change. New user:",t.toKey());const e=await FS(n.localStore,t);n.currentUser=t,(r=n).Bo.forEach((e=>{e.forEach((e=>{e.reject(new cw(uw.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),r.Bo.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ED(n,e.Wn)}var r}function SD(e,t){const n=lw(e),r=n.Fo.get(t);if(r&&r.Co)return Lk().add(r.key);{let e=Lk();const r=n.ko.get(t);if(!r)return e;for(const t of r){const r=n.xo.get(t);e=e.unionWith(r.view.To)}return e}}class CD{constructor(){this.synchronizeTabs=!1}async initialize(e){this.N=aC(e.databaseInfo.databaseId),this.sharedClientState=this.Wo(e),this.persistence=this.Go(e),await this.persistence.start(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e)}zo(e){return null}Ho(e){return function(e,t,n,r){return new AS(e,t,n,r)}(this.persistence,new _S,e.initialUser,this.N)}Go(e){return new XS(JS.Ns,this.N)}Wo(e){return new eC}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class DD{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>cD(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=kD.bind(null,this.syncEngine),await async function(e,t){const n=lw(e);t?(n.Kr.delete(2),await mC(n)):t||(n.Kr.add(2),await gC(n),n.Wr.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new GC}createDatastore(e){const t=aC(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new oC(r));var r,i;return i=e.credentials,new hC(i,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>cD(this.syncEngine,e,0),o=nC.bt()?new nC:new tC,new fC(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new oD(e,t,n,r,i,o);return s&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=lw(e);nw("RemoteStore","RemoteStore shutting down."),t.Kr.add(5),await gC(t),t.Qr.shutdown(),t.Wr.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,t,n){this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Jb.UNAUTHENTICATED,this.clientId=bw.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,(async e=>{nw("FirestoreClient","Received user=",e.uid),await this.credentialListener(e),this.user=e}))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new cw(uw.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pw;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.shutdown(),e.resolve()}catch(t){const n=BC(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function OD(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){return e.offlineComponents||(nw("FirestoreClient","Using default OfflineComponentProvider"),await async function(e,t){e.asyncQueue.verifyOperationInProgress(),nw("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await FS(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}(e,new CD)),e.offlineComponents}(e);nw("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>async function(e,t){const n=lw(e);n.asyncQueue.verifyOperationInProgress(),nw("RemoteStore","RemoteStore received new credentials");const r=SC(n);n.Kr.add(3),await gC(n),r&&n.Wr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Kr.delete(3),await mC(n)}(t.remoteStore,e))),e.onlineComponents=t}async function RD(e){return e.onlineComponents||(nw("FirestoreClient","Using default OnlineComponentProvider"),await OD(e,new DD)),e.onlineComponents}async function ID(e){const t=await RD(e),n=t.eventManager;return n.onListen=sD.bind(null,t.syncEngine),n.onUnlisten=aD.bind(null,t.syncEngine),n}class ND{constructor(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class MD{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof MD&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(e,t,n){if(!n)throw new cw(uw.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function _D(e){if(!Bw.isDocumentKey(e))throw new cw(uw.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function AD(e){if(Bw.isDocumentKey(e))throw new cw(uw.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function FD(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){if(e.constructor){const t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":sw()}function zD(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new cw(uw.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=FD(e);throw new cw(uw.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new cw(uw.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new cw(uw.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new cw(uw.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UD({}),this._settingsFrozen=!1,e instanceof MD?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new cw(uw.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new MD(e.options.projectId)}(e))}get app(){if(!this._app)throw new cw(uw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new cw(uw.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UD(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new dw;switch(e.type){case"gapi":const t=e.client;return aw(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new gw(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new cw(uw.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=PD.get(e);t&&(nw("ComponentProvider","Removing Datastore"),PD.delete(e),t.terminate())}(this),Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new HD(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jD(this.firestore,e,this._key)}}class BD{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new BD(this.firestore,e,this._query)}}class HD extends BD{constructor(e,t,n){super(e,t,TE(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jD(this.firestore,null,new Bw(e))}withConverter(e){return new HD(this.firestore,e,this._path)}}function KD(e,t,...n){if(e=mm(e),LD("collection","path",t),e instanceof VD){const r=Ow.fromString(t,...n);return AD(r),new HD(e,null,r)}{if(!(e instanceof jD||e instanceof HD))throw new cw(uw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ow.fromString(t,...n));return AD(r),new HD(e.firestore,null,r)}}function WD(e,t,...n){if(e=mm(e),1===arguments.length&&(t=bw.I()),LD("doc","path",t),e instanceof VD){const r=Ow.fromString(t,...n);return _D(r),new jD(e,null,new Bw(r))}{if(!(e instanceof jD||e instanceof HD))throw new cw(uw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ow.fromString(t,...n));return _D(r),new jD(e.firestore,e instanceof HD?e.converter:null,new Bw(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new lC(this,"async_queue_retry"),this.Ea=()=>{const e=sC();e&&nw("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const e=sC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ta(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=sC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ea)}}enqueue(e){if(this.Ta(),this.wa)return new Promise((()=>{}));const t=new pw;return this.Ia((()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.da.push(e),this.Aa())))}async Aa(){if(0!==this.da.length){try{await this.da[0](),this.da.shift(),this.rr.reset()}catch(e){if(!kS(e))throw e;nw("AsyncQueue","Operation failed with retryable error: "+e)}this.da.length>0&&this.rr.Xi((()=>this.Aa()))}}Ia(e){const t=this.fa.then((()=>(this.ga=!0,e().catch((e=>{throw this.ma=e,this.ga=!1,rw("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((e=>(this.ga=!1,e))))));return this.fa=t,t}enqueueAfterDelay(e,t,n){this.Ta(),this.pa.indexOf(e)>-1&&(t=0);const r=jC.createAndSchedule(this,e,t,n,(e=>this.Ra(e)));return this._a.push(r),r}Ta(){this.ma&&sw()}verifyOperationInProgress(){}async ba(){let e;do{e=this.fa,await e}while(e!==this.fa)}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then((()=>{this._a.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()}))}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function GD(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class $D extends VD{constructor(e,t){super(e,t),this.type="firestore",this._queue=new qD,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||QD(this),this._firestoreClient.terminate()}}function YD(e=function(e="[DEFAULT]"){const t=Nm.get(e);if(!t)throw _m.create("no-app",{appName:e});return t}()){return(t=e,n="firestore",t.container.getProvider(n)).getImmediate();var t,n}function XD(e){return e._firestoreClient||QD(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function QD(e){var t;const n=e._freezeSettings(),r=(i=e._databaseId,o=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",s=e._persistenceKey,new ND(i,o,s,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var i,o,s,a;e._firestoreClient=new TD(e._credentials,e._queue,r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new cw(uw.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Iw(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ZD(Mw.fromBase64String(e))}catch(t){throw new cw(uw.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ZD(Mw.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new cw(uw.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new cw(uw.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ww(this._lat,e._lat)||ww(this._long,e._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=/^__.*__$/;class rx{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new dk(e,this.data,this.fieldMask,t,this.fieldTransforms):new hk(e,this.data,t,this.fieldTransforms)}}class ix{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new dk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ox(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sw()}}class sx{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new sx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}$a(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return bx(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(ox(this.Da)&&nx.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class ax{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||aC(e)}Ba(e,t,n,r=!1){return new sx({Da:e,methodName:t,La:n,path:Iw.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function lx(e){const t=e._freezeSettings(),n=aC(e._databaseId);return new ax(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ux(e,t,n,r,i,o={}){const s=e.Ba(o.merge||o.mergeFields?2:0,t,n,i);mx("Data must be an object, but it was:",s,r);const a=dx(r,s);let l,u;if(o.merge)l=new Nw(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=gx(t,r,n);if(!s.contains(i))throw new cw(uw.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);wx(e,i)||e.push(i)}l=new Nw(e),u=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=s.fieldTransforms;return new rx(new rE(a),l,u)}class cx extends ex{_toFieldTransform(e){if(2!==e.Da)throw 1===e.Da?e.Fa(`${this._methodName}() can only appear at the top level of your update data`):e.Fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cx}}class px extends ex{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=function(e,t,n){return new sx({Da:3,La:t.settings.La,methodName:e._methodName,xa:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}(this,e,!0),n=this.Ua.map((e=>hx(e,t))),r=new YE(n);return new nk(e.path,r)}isEqual(e){return this===e}}function hx(e,t){if(fx(e=mm(e)))return mx("Unsupported field value:",t,e),dx(e,t);if(e instanceof ex)return function(e,t){if(!ox(t.Da))throw t.Fa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=hx(i,t.Oa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=mm(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return HE(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=kw.fromDate(e);return{timestampValue:Yk(t.N,n)}}if(e instanceof kw){const n=new kw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Yk(t.N,n)}}if(e instanceof tx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ZD)return{bytesValue:Xk(t.N,e._byteString)};if(e instanceof jD){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Zk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa(`Unsupported field value: ${FD(e)}`)}(e,t)}function dx(e,t){const n={};return xw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Dw(e,((e,r)=>{const i=hx(r,t.Na(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function fx(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof kw||e instanceof tx||e instanceof ZD||e instanceof jD||e instanceof ex)}function mx(e,t,n){if(!fx(n)||("object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){const r=FD(n);throw"an object"===r?t.Fa(e+" a custom object"):t.Fa(e+" "+r)}var r}function gx(e,t,n){if((t=mm(t))instanceof JD)return t._internalPath;if("string"==typeof t)return yx(e,t);throw bx("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const vx=new RegExp("[~\\*/\\[\\]]");function yx(e,t,n){if(t.search(vx)>=0)throw bx(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new JD(...t.split("."))._internalPath}catch(r){throw bx(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function bx(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new cw(uw.INVALID_ARGUMENT,a+e+l)}function wx(e,t){return e.some((e=>e.isEqual(t)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jD(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class kx extends Ex{data(){return super.data()}}function Sx(e,t){return"string"==typeof t?yx(e,t):t instanceof JD?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dx extends Ex{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Sx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class xx extends Dx{data(e={}){return super.data(e)}}class Tx{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Cx(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new xx(this._firestore,this._userDataWriter,n.key,n,new Cx(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new cw(uw.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new xx(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Cx(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new xx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Cx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Ox(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ox(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sw()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(e){if(RE(e)&&0===e.explicitOrderBy.length)throw new cw(uw.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Ix(e,...t){for(const n of t)e=n._apply(e);return e}class Nx extends class{}{constructor(e,t,n){super(),this.Ka=e,this.ja=t,this.Qa=n,this.type="where"}_apply(e){const t=lx(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new cw(uw.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on FieldPath.documentId().`);if("in"===o||"not-in"===o){Lx(s,o);const t=[];for(const n of s)t.push(Px(r,e,n));a={arrayValue:{values:t}}}else a=Px(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Lx(s,o),a=function(e,t,n,r=!1){return hx(n,e.Ba(r?4:3,t))}(n,"where",s,"in"===o||"not-in"===o);const l=pE.create(i,o,a);return function(e,t){if(t.v()){const n=NE(e);if(null!==n&&!n.isEqual(t.field))throw new cw(uw.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=IE(e);null!==r&&function(e,t,n){if(!n.isEqual(t))throw new cw(uw.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new cw(uw.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new cw(uw.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,l),l}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new BD(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new xE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}function Mx(e,t,n){const r=t,i=Sx("where",e);return new Nx(i,r,n)}function Px(e,t,n){if("string"==typeof(n=mm(n))){if(""===n)throw new cw(uw.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ME(t)&&-1!==n.indexOf("/"))throw new cw(uw.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ow.fromString(n));if(!Bw.isDocumentKey(r))throw new cw(uw.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xw(e,new Bw(r))}if(n instanceof jD)return Xw(e,n._key);throw new cw(uw.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${FD(n)}.`)}function Lx(e,t){if(!Array.isArray(e)||0===e.length)throw new cw(uw.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new cw(uw.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}class _x extends class{convertValue(e,t="none"){switch(Hw(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _w(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Aw(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw sw()}}convertObject(e,t){const n={};return Dw(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new tx(_w(e.latitude),_w(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=zw(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Uw(e));default:return null}}convertTimestamp(e){const t=Lw(e);return new kw(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ow.fromString(e);aw(wS(n));const r=new MD(n.get(1),n.get(3)),i=new Bw(n.popFirst(5));return r.isEqual(t)||rw(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */{constructor(e){super(),this.firestore=e}convertBytes(e){return new ZD(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jD(this.firestore,null,t)}}function Ax(e){e=zD(e,BD);const t=zD(e.firestore,$D),n=XD(t),r=new _x(t);return Rx(e._query),function(e,t,n={}){const r=new pw;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new xD({next:n=>{t.enqueueAndForget((()=>YC(e,s))),n.fromCache&&"server"===r.source?i.reject(new cw(uw.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new ZC(n,o,{includeMetadataChanges:!0,uo:!0});return $C(e,s)}(await ID(e),e.asyncQueue,t,n,r))),r.promise}(n,e._query).then((n=>new Tx(t,r,e,n)))}function Fx(e,t,n,...r){e=zD(e,jD);const i=zD(e.firestore,$D),o=lx(i);let s;return s="string"==typeof(t=mm(t))||t instanceof JD?function(e,t,n,r,i,o){const s=e.Ba(1,t,n),a=[gx(t,r,n)],l=[i];if(o.length%2!=0)throw new cw(uw.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(gx(t,o[h])),l.push(o[h+1]);const u=[],c=rE.empty();for(let h=a.length-1;h>=0;--h)if(!wx(u,a[h])){const e=a[h];let t=l[h];t=mm(t);const n=s.$a(e);if(t instanceof cx)u.push(e);else{const r=hx(t,n);null!=r&&(u.push(e),c.set(e,r))}}const p=new Nw(u);return new ix(c,p,s.fieldTransforms)}(o,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.Ba(1,t,n);mx("Data must be an object, but it was:",i,r);const o=[],s=rE.empty();Dw(r,((e,r)=>{const a=yx(t,e,n);r=mm(r);const l=i.$a(a);if(r instanceof cx)o.push(a);else{const e=hx(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Nw(o);return new ix(s,a,i.fieldTransforms)}(o,"updateDoc",e._key,t),Vx(i,[s.toMutation(e._key,ik.exists(!0))])}function zx(e,t){const n=zD(e.firestore,$D),r=WD(e),i=function(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}(e.converter,t);return Vx(n,[ux(lx(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ik.exists(!1))]).then((()=>r))}function Ux(e,...t){var n,r,i;e=mm(e);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||GD(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(GD(t[s])){const e=t[s];t[s]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[s+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[s+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,u,c;if(e instanceof jD)u=zD(e.firestore,$D),c=TE(e._key.path),l={next:n=>{t[s]&&t[s](function(e,t,n){const r=n.docs.get(t._key),i=new _x(e);return new Dx(e,i,t._key,r,new Cx(n.hasPendingWrites,n.fromCache),t.converter)}(u,e,n))},error:t[s+1],complete:t[s+2]};else{const n=zD(e,BD);u=zD(n.firestore,$D),c=n._query;const r=new _x(u);l={next:e=>{t[s]&&t[s](new Tx(u,r,n,e))},error:t[s+1],complete:t[s+2]},Rx(e._query)}return function(e,t,n,r){const i=new xD(r),o=new ZC(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>$C(await ID(e),o))),()=>{i.Xo(),e.asyncQueue.enqueueAndForget((async()=>YC(await ID(e),o)))}}(XD(u),c,a,l)}function Vx(e,t){return function(e,t){const n=new pw;return e.asyncQueue.enqueueAndForget((async()=>lD(await function(e){return RD(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(XD(e),t)}function jx(...e){return new px("arrayUnion",e)}Zb="9.0.0",Lm(new gm("firestore",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new $D(n,new fw(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r}),"PUBLIC")),zm("@firebase/firestore","3.0.2",undefined);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
zm("firebase","9.0.2","app");export{KD as A,_p as B,rh as C,em as D,Cp as I,Mx as M,Ix as O,F as R,Kf as T,zx as _,jx as a,WD as b,Sf as c,Fx as d,dh as e,$u as f,Fm as i,YD as k,Ux as m,e as r,Ax as u};
